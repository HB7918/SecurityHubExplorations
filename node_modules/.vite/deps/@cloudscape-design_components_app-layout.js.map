{
  "version": 3,
  "sources": ["../../src/app-layout/index.tsx", "../../src/app-layout/defaults.ts", "../../src/app-layout/internal.tsx", "../../src/app-layout/classic.tsx", "../../src/split-panel/utils/size-utils.ts", "../../src/app-layout/content-wrapper/index.tsx", "../../@cloudscape-design/components/app-layout/content-wrapper/styles.css.js", "../../src/app-layout/drawer/index.tsx", "../../src/app-layout/toggles/index.tsx", "../../@cloudscape-design/components/app-layout/test-classes/styles.css.js", "../../@cloudscape-design/components/app-layout/toggles/styles.css.js", "../../src/app-layout/utils/use-drawers.ts", "../../src/app-layout/runtime-drawer/index.tsx", "../../src/app-layout/utils/visibility-context.tsx", "../../@cloudscape-design/components/app-layout/runtime-drawer/styles.css.js", "../../src/app-layout/drawer/drawers-helpers.ts", "../../src/app-layout/drawer/overflow-menu.tsx", "../../@cloudscape-design/components/app-layout/drawer/styles.css.js", "../../src/app-layout/drawer/resizable-drawer.tsx", "../../src/internal/components/panel-resize-handle/index.tsx", "../../src/internal/components/drag-handle/index.tsx", "../../src/internal/components/drag-handle/button.tsx", "../../src/internal/components/drag-handle/resize-icon.tsx", "../../@cloudscape-design/components/internal/components/drag-handle/styles.css.js", "../../@cloudscape-design/components/internal/components/drag-handle/test-classes/styles.css.js", "../../@cloudscape-design/components/internal/components/panel-resize-handle/styles.css.js", "../../src/app-layout/utils/use-keyboard-events.ts", "../../src/app-layout/utils/use-pointer-events.ts", "../../@cloudscape-design/components/app-layout/resize/styles.css.js", "../../src/app-layout/mobile-toolbar/index.tsx", "../../@cloudscape-design/components/app-layout/styles.css.js", "../../@cloudscape-design/components/app-layout/mobile-toolbar/styles.css.js", "../../src/app-layout/notifications/index.tsx", "../../@cloudscape-design/components/app-layout/notifications/styles.css.js", "../../src/app-layout/split-panel/constants.ts", "../../src/app-layout/split-panel/drawer.tsx", "../../src/internal/context/split-panel-context.ts", "../../@cloudscape-design/components/app-layout/split-panel/styles.css.js", "../../src/app-layout/split-panel/provider.tsx", "../../src/app-layout/split-panel/split-panel-forced-position.ts", "../../src/app-layout/utils/sticky-offsets.ts", "../../src/app-layout/utils/use-focus-control.ts", "../../src/app-layout/utils/use-split-panel-focus-control.ts", "../../src/app-layout/visual-refresh/index.tsx", "../../src/app-layout/visual-refresh/background.tsx", "../../src/internal/utils/content-header-utils.ts", "../../src/app-layout/visual-refresh/context.tsx", "../../src/internal/context/dynamic-overlap-context.ts", "../../src/app-layout/utils/use-resize.tsx", "../../src/app-layout/visual-refresh/split-panel.tsx", "../../@cloudscape-design/components/app-layout/visual-refresh/styles.css.js", "../../src/app-layout/visual-refresh/use-background-overlap.tsx", "../../src/app-layout/visual-refresh/breadcrumbs.tsx", "../../src/app-layout/visual-refresh/drawers.tsx", "../../src/app-layout/visual-refresh/trigger-button.tsx", "../../@cloudscape-design/components/split-panel/test-classes/styles.css.js", "../../src/app-layout/visual-refresh/header.tsx", "../../src/app-layout/visual-refresh/layout.tsx", "../../src/app-layout/utils/use-global-scroll-padding.ts", "../../src/app-layout/visual-refresh/main.tsx", "../../src/app-layout/visual-refresh/mobile-toolbar.tsx", "../../src/app-layout/visual-refresh/navigation.tsx", "../../src/app-layout/visual-refresh/notifications.tsx", "../../src/app-layout/visual-refresh/tools.tsx", "../../src/app-layout/visual-refresh-toolbar/index.tsx", "../../src/internal/widgets/loader-mock.tsx", "../../src/app-layout/visual-refresh-toolbar/state/index.tsx", "../../src/app-layout/visual-refresh-toolbar/state/props-merger.ts", "../../src/app-layout/visual-refresh-toolbar/state/use-app-layout.tsx", "../../src/internal/plugins/helpers/use-global-breadcrumbs.ts", "../../src/app-layout/visual-refresh-toolbar/compute-layout.ts", "../../src/app-layout/visual-refresh-toolbar/state/use-ai-drawer.ts", "../../src/app-layout/visual-refresh-toolbar/state/use-bottom-drawers.ts", "../../src/app-layout/visual-refresh-toolbar/state/use-widget-messages.ts", "../../src/internal/plugins/widget/core.ts", "../../@cloudscape-design/components/app-layout/visual-refresh-toolbar/skeleton/styles.css.js", "../../src/app-layout/visual-refresh-toolbar/state/use-skeleton-slots-attributes.ts", "../../src/app-layout/visual-refresh-toolbar/widget-areas/after-main-slot.tsx", "../../src/app-layout/visual-refresh-toolbar/drawer/local-drawer.tsx", "../../src/app-layout/visual-refresh-toolbar/drawer/use-resize.ts", "../../@cloudscape-design/components/app-layout/visual-refresh-toolbar/drawer/styles.css.js", "../../src/app-layout/visual-refresh-toolbar/drawer/global-drawers.tsx", "../../src/app-layout/visual-refresh-toolbar/drawer/global-drawer.tsx", "../../src/button-group/internal.tsx", "../../src/navigable-group/internal.tsx", "../../src/internal/utils/circle-index.ts", "../../@cloudscape-design/components/navigable-group/styles.css.js", "../../@cloudscape-design/components/navigable-group/test-classes/styles.css.js", "../../src/button-group/item-element.tsx", "../../src/button-group/file-input-item.tsx", "../../src/file-input/internal.tsx", "../../@cloudscape-design/components/file-input/styles.css.js", "../../@cloudscape-design/components/button-group/test-classes/styles.css.js", "../../src/button-group/icon-button-item.tsx", "../../src/button-group/icon-toggle-button-item.tsx", "../../src/toggle-button/internal.tsx", "../../src/toggle-button/util.ts", "../../@cloudscape-design/components/toggle-button/styles.css.js", "../../src/button-group/menu-dropdown-item.tsx", "../../src/button-group/style.tsx", "../../@cloudscape-design/components/button-group/styles.css.js", "../../src/app-layout/visual-refresh-toolbar/drawer/global-bottom-drawer.tsx", "../../src/app-layout/visual-refresh-toolbar/split-panel/index.tsx", "../../@cloudscape-design/components/app-layout/visual-refresh-toolbar/split-panel/styles.css.js", "../../src/app-layout/visual-refresh-toolbar/state/invariants.ts", "../../src/app-layout/visual-refresh-toolbar/widget-areas/before-main-slot.tsx", "../../src/app-layout/visual-refresh-toolbar/drawer/global-ai-drawer.tsx", "../../src/app-layout/visual-refresh-toolbar/navigation/index.tsx", "../../@cloudscape-design/components/app-layout/visual-refresh-toolbar/navigation/styles.css.js", "../../src/app-layout/visual-refresh-toolbar/skeleton/skeleton-parts.tsx", "../../src/app-layout/visual-refresh-toolbar/skeleton/slots.tsx", "../../src/breadcrumb-group/implementation.tsx", "../../src/breadcrumb-group/all-items-dropdown.tsx", "../../@cloudscape-design/components/breadcrumb-group/styles.css.js", "../../src/breadcrumb-group/item/item.tsx", "../../src/breadcrumb-group/utils.ts", "../../src/breadcrumb-group/item/funnel.tsx", "../../@cloudscape-design/components/breadcrumb-group/analytics-metadata/styles.css.js", "../../@cloudscape-design/components/breadcrumb-group/item/styles.css.js", "../../src/breadcrumb-group/skeleton.tsx", "../../@cloudscape-design/components/app-layout/visual-refresh-toolbar/toolbar/styles.css.js", "../../src/app-layout/visual-refresh-toolbar/skeleton/toolbar-container.tsx", "../../src/app-layout/visual-refresh-toolbar/toolbar/index.tsx", "../../src/app-layout/visual-refresh-toolbar/toolbar/drawer-triggers.tsx", "../../src/app-layout/visual-refresh-toolbar/toolbar/trigger-button/index.tsx", "../../@cloudscape-design/components/app-layout/visual-refresh-toolbar/toolbar/trigger-button/styles.css.js", "../../src/app-layout/visual-refresh-toolbar/widget-areas/bottom-content-slot.tsx", "../../src/app-layout/visual-refresh-toolbar/widget-areas/top-content-slot.tsx", "../../src/app-layout/visual-refresh-toolbar/notifications/index.tsx", "../../@cloudscape-design/components/app-layout/visual-refresh-toolbar/notifications/styles.css.js", "../../src/app-layout/visual-refresh-toolbar/internal.tsx", "../../src/app-layout/visual-refresh-toolbar/skeleton/index.tsx", "../../src/app-layout/visual-refresh-toolbar/skeleton/multi-layout.ts", "../../src/app-layout/utils/use-app-layout-placement.ts", "../../src/app-layout/utils/use-observed-element.ts"],
  "sourcesContent": ["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n'use client';\nimport React from 'react';\n\nimport { useMergeRefs, warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { useInternalI18n } from '../i18n/context';\nimport { getBaseProps } from '../internal/base-component';\nimport { NonCancelableCustomEvent } from '../internal/events';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { useControllable } from '../internal/hooks/use-controllable';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { isDevelopment } from '../internal/is-development';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { applyDefaults } from './defaults';\nimport { AppLayoutProps } from './interfaces';\nimport { AppLayoutInternal } from './internal';\nimport { useAppLayoutPlacement } from './utils/use-app-layout-placement';\n\nexport { AppLayoutProps };\n\nconst AppLayout = React.forwardRef(\n  (\n    {\n      contentType = 'default',\n      headerSelector = '#b #h',\n      footerSelector = '#b #f',\n      navigationWidth = 280,\n      toolsWidth = 290,\n      maxContentWidth,\n      minContentWidth,\n      navigationOpen: controlledNavigationOpen,\n      onNavigationChange: controlledOnNavigationChange,\n      analyticsMetadata,\n      ...rest\n    }: AppLayoutProps,\n    ref: React.Ref<AppLayoutProps.Ref>\n  ) => {\n    if (isDevelopment) {\n      if (rest.toolsOpen && rest.toolsHide) {\n        warnOnce(\n          'AppLayout',\n          `You have enabled both the \\`toolsOpen\\` prop and the \\`toolsHide\\` prop. This is not supported. Set \\`toolsOpen\\` to \\`false\\` when you set \\`toolsHide\\` to \\`true\\`.`\n        );\n      }\n    }\n    const { __internalRootRef } = useBaseComponent(\n      'AppLayout',\n      {\n        props: {\n          contentType,\n          disableContentPaddings: rest.disableContentPaddings,\n          disableBodyScroll: rest.disableBodyScroll,\n          navigationWidth,\n          navigationHide: rest.navigationHide,\n          toolsHide: rest.toolsHide,\n          toolsWidth,\n          maxContentWidth,\n          minContentWidth,\n          stickyNotifications: rest.stickyNotifications,\n          disableContentHeaderOverlap: rest.disableContentHeaderOverlap,\n        },\n        metadata: {\n          drawersCount: rest.drawers?.length ?? null,\n          hasContentHeader: !!rest.contentHeader,\n        },\n      },\n      analyticsMetadata\n    );\n    const isRefresh = useVisualRefresh();\n    const isMobile = useMobile();\n\n    const i18n = useInternalI18n('app-layout');\n    const ariaLabels = {\n      navigation: i18n('ariaLabels.navigation', rest.ariaLabels?.navigation),\n      navigationClose: i18n('ariaLabels.navigationClose', rest.ariaLabels?.navigationClose),\n      navigationToggle: i18n('ariaLabels.navigationToggle', rest.ariaLabels?.navigationToggle),\n      notifications: i18n('ariaLabels.notifications', rest.ariaLabels?.notifications),\n      tools: i18n('ariaLabels.tools', rest.ariaLabels?.tools),\n      toolsClose: i18n('ariaLabels.toolsClose', rest.ariaLabels?.toolsClose),\n      toolsToggle: i18n('ariaLabels.toolsToggle', rest.ariaLabels?.toolsToggle),\n      drawers: i18n('ariaLabels.drawers', rest.ariaLabels?.drawers),\n      drawersOverflow: i18n('ariaLabels.drawersOverflow', rest.ariaLabels?.drawersOverflow),\n      drawersOverflowWithBadge: i18n('ariaLabels.drawersOverflowWithBadge', rest.ariaLabels?.drawersOverflowWithBadge),\n    };\n    const { navigationOpen: defaultNavigationOpen, ...restDefaults } = applyDefaults(\n      contentType,\n      { maxContentWidth, minContentWidth },\n      isRefresh\n    );\n\n    const [navigationOpen = false, setNavigationOpen] = useControllable(\n      controlledNavigationOpen,\n      controlledOnNavigationChange,\n      isMobile ? false : defaultNavigationOpen,\n      { componentName: 'AppLayout', controlledProp: 'navigationOpen', changeHandler: 'onNavigationChange' }\n    );\n    const onNavigationChange = (event: NonCancelableCustomEvent<AppLayoutProps.ChangeDetail>) => {\n      setNavigationOpen(event.detail.open);\n      controlledOnNavigationChange?.(event);\n    };\n\n    const [rootRef, placement] = useAppLayoutPlacement(headerSelector, footerSelector);\n\n    // This re-builds the props including the default values\n    const props = {\n      contentType,\n      navigationWidth,\n      toolsWidth,\n      navigationOpen,\n      onNavigationChange,\n      ...restDefaults,\n      ...rest,\n      ariaLabels,\n      placement,\n    };\n\n    const baseProps = getBaseProps(rest);\n\n    return (\n      <div ref={useMergeRefs(__internalRootRef, rootRef)} {...baseProps}>\n        <AppLayoutInternal ref={ref} {...props} />\n      </div>\n    );\n  }\n);\n\napplyDisplayName(AppLayout, 'AppLayout');\nexport default AppLayout;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AppLayoutProps } from './interfaces';\n\nconst defaultContentTypeState: AppLayoutState = {\n  navigationOpen: true,\n  minContentWidth: 280,\n  maxContentWidth: undefined,\n};\n\nconst defaults: Record<AppLayoutProps.ContentType, AppLayoutState> = {\n  default: {\n    ...defaultContentTypeState,\n  },\n  dashboard: {\n    ...defaultContentTypeState,\n  },\n  cards: {\n    navigationOpen: true,\n    minContentWidth: 280,\n    maxContentWidth: undefined,\n  },\n  form: {\n    navigationOpen: false,\n    minContentWidth: 280,\n    maxContentWidth: 800,\n  },\n  table: {\n    navigationOpen: true,\n    minContentWidth: 280,\n    maxContentWidth: undefined,\n  },\n  wizard: {\n    navigationOpen: false,\n    minContentWidth: 280,\n    maxContentWidth: 1080,\n  },\n};\n\ninterface AppLayoutState {\n  navigationOpen?: boolean;\n  minContentWidth: number;\n  maxContentWidth?: number | undefined;\n}\n\nexport function applyDefaults(\n  contentType: AppLayoutProps.ContentType,\n  stateFromProps: Pick<AppLayoutProps, 'minContentWidth' | 'maxContentWidth' | 'navigationOpen' | 'toolsOpen'>,\n  isRefresh: boolean\n): AppLayoutState {\n  const contentTypeDefaults = isRefresh\n    ? { ...defaults[contentType], maxContentWidth: undefined }\n    : defaults[contentType];\n\n  return {\n    maxContentWidth: stateFromProps.maxContentWidth ?? contentTypeDefaults.maxContentWidth,\n    minContentWidth: stateFromProps.minContentWidth ?? contentTypeDefaults.minContentWidth,\n    navigationOpen: stateFromProps.navigationOpen ?? contentTypeDefaults.navigationOpen,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport ClassicAppLayout from './classic';\nimport { AppLayoutProps, AppLayoutPropsWithDefaults } from './interfaces';\nimport { useAppLayoutFlagEnabled } from './utils/feature-flags';\nimport RefreshedAppLayout from './visual-refresh';\nimport ToolbarAppLayout from './visual-refresh-toolbar';\n\nexport const AppLayoutInternal = React.forwardRef<AppLayoutProps.Ref, AppLayoutPropsWithDefaults>((props, ref) => {\n  const isRefresh = useVisualRefresh();\n  const isToolbar = useAppLayoutFlagEnabled();\n  if (isRefresh) {\n    if (isToolbar) {\n      return <ToolbarAppLayout ref={ref} {...props} />;\n    } else {\n      return <RefreshedAppLayout ref={ref} {...props} />;\n    }\n  }\n  return <ClassicAppLayout ref={ref} {...props} />;\n});\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useImperativeHandle, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport { findUpUntil } from '@cloudscape-design/component-toolkit/dom';\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\n\nimport { SplitPanelSideToggleProps } from '../internal/context/split-panel-context';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { useControllable } from '../internal/hooks/use-controllable';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport {\n  CONSTRAINED_MAIN_PANEL_MIN_HEIGHT,\n  CONSTRAINED_PAGE_HEIGHT,\n  getSplitPanelDefaultSize,\n  MAIN_PANEL_MIN_HEIGHT,\n} from '../split-panel/utils/size-utils';\nimport ContentWrapper, { ContentWrapperProps } from './content-wrapper';\nimport { Drawer, DrawerTriggersBar } from './drawer';\nimport { ResizableDrawer } from './drawer/resizable-drawer';\nimport { AppLayoutProps, AppLayoutPropsWithDefaults } from './interfaces';\nimport { MobileToolbar } from './mobile-toolbar';\nimport { Notifications } from './notifications';\nimport { SideSplitPanelDrawer, SplitPanelProvider, SplitPanelProviderProps } from './split-panel';\nimport { shouldSplitPanelBeForcedToBottom } from './split-panel/split-panel-forced-position';\nimport { togglesConfig } from './toggles';\nimport { getStickyOffsetVars } from './utils/sticky-offsets';\nimport { TOOLS_DRAWER_ID, useDrawers } from './utils/use-drawers';\nimport { useFocusControl } from './utils/use-focus-control';\nimport { useSplitPanelFocusControl } from './utils/use-split-panel-focus-control';\n\nimport styles from './styles.css.js';\nimport testutilStyles from './test-classes/styles.css.js';\n\nconst ClassicAppLayout = React.forwardRef(\n  (\n    {\n      navigation,\n      navigationWidth,\n      navigationHide,\n      navigationOpen,\n      tools,\n      toolsWidth,\n      toolsHide,\n      toolsOpen: controlledToolsOpen,\n      breadcrumbs,\n      notifications,\n      stickyNotifications,\n      contentHeader,\n      disableContentHeaderOverlap,\n      content,\n      contentType,\n      disableContentPaddings,\n      disableBodyScroll,\n      maxContentWidth,\n      minContentWidth,\n      placement,\n      ariaLabels,\n      splitPanel,\n      splitPanelSize: controlledSplitPanelSize,\n      splitPanelOpen: controlledSplitPanelOpen,\n      splitPanelPreferences: controlledSplitPanelPreferences,\n      onSplitPanelPreferencesChange,\n      onSplitPanelResize,\n      onSplitPanelToggle,\n      onNavigationChange,\n      onToolsChange,\n      drawers: controlledDrawers,\n      onDrawerChange,\n      activeDrawerId: controlledActiveDrawerId,\n      ...rest\n    }: AppLayoutPropsWithDefaults,\n    ref: React.Ref<AppLayoutProps.Ref>\n  ) => {\n    // Private API for embedded view mode\n    const __embeddedViewMode = Boolean((rest as any).__embeddedViewMode);\n\n    const rootRef = useRef<HTMLDivElement>(null);\n    const isMobile = useMobile();\n\n    const [toolsOpen = false, setToolsOpen] = useControllable(controlledToolsOpen, onToolsChange, false, {\n      componentName: 'AppLayout',\n      controlledProp: 'toolsOpen',\n      changeHandler: 'onToolsChange',\n    });\n    const onToolsToggle = (open: boolean) => {\n      setToolsOpen(open);\n      if (hasDrawers) {\n        focusDrawersButtons();\n      } else {\n        focusToolsButtons();\n      }\n      fireNonCancelableEvent(onToolsChange, { open });\n    };\n\n    const {\n      drawers,\n      activeDrawer,\n      minDrawerSize,\n      activeDrawerSize,\n      activeDrawerId,\n      ariaLabelsWithDrawers,\n      onActiveDrawerChange,\n      onActiveDrawerResize,\n    } = useDrawers(\n      {\n        drawers: controlledDrawers,\n        onDrawerChange,\n        activeDrawerId: controlledActiveDrawerId,\n        ...rest,\n      },\n      ariaLabels,\n      {\n        disableDrawersMerge: true,\n        ariaLabels,\n        tools,\n        toolsOpen,\n        toolsHide,\n        toolsWidth,\n        onToolsToggle,\n      }\n    );\n    ariaLabels = ariaLabelsWithDrawers;\n    const hasDrawers = !!drawers;\n\n    const { refs: navigationRefs, setFocus: focusNavButtons } = useFocusControl(navigationOpen);\n    const {\n      refs: toolsRefs,\n      setFocus: focusToolsButtons,\n      loseFocus: loseToolsFocus,\n    } = useFocusControl(toolsOpen || activeDrawer !== undefined, true);\n    const {\n      refs: drawerRefs,\n      setFocus: focusDrawersButtons,\n      loseFocus: loseDrawersFocus,\n    } = useFocusControl(!!activeDrawerId, true, activeDrawerId);\n\n    const onNavigationToggle = useStableCallback(({ isOpen, autoFocus }: { isOpen: boolean; autoFocus: boolean }) => {\n      focusNavButtons({ force: false, autoFocus });\n      fireNonCancelableEvent(onNavigationChange, { open: isOpen });\n    });\n\n    const onNavigationClick = (event: React.MouseEvent) => {\n      const hasLink = findUpUntil(\n        event.target as HTMLElement,\n        node => node.tagName === 'A' && !!(node as HTMLAnchorElement).href\n      );\n      if (hasLink) {\n        onNavigationToggle({ isOpen: false, autoFocus: true });\n      }\n    };\n\n    useEffect(() => {\n      // Close navigation drawer on mobile so that the main content is visible\n      if (isMobile) {\n        onNavigationToggle({ isOpen: false, autoFocus: false });\n      }\n    }, [isMobile, onNavigationToggle]);\n\n    const navigationVisible = !navigationHide && navigationOpen;\n    const toolsVisible = !toolsHide && toolsOpen;\n\n    const [headerFooterHeight, setHeaderFooterHeight] = useState(0);\n    // Delay applying changes in header/footer height, as applying them immediately can cause\n    // ResizeOberver warnings due to the algorithm thinking that the change might have side-effects\n    // further up the tree, therefore blocking notifications to prevent loops\n    useEffect(() => {\n      const id = requestAnimationFrame(() =>\n        setHeaderFooterHeight(placement.insetBlockStart + placement.insetBlockEnd)\n      );\n      return () => cancelAnimationFrame(id);\n    }, [placement.insetBlockStart, placement.insetBlockEnd]);\n    const contentHeightStyle = {\n      [disableBodyScroll ? 'blockSize' : 'minBlockSize']: `calc(100vh - ${headerFooterHeight}px)`,\n    };\n\n    const [notificationsHeight, notificationsRef] = useContainerQuery(rect => rect.contentBoxHeight);\n    const anyPanelOpen = navigationVisible || toolsVisible || !!activeDrawer;\n    const hasRenderedNotifications = notificationsHeight ? notificationsHeight > 0 : false;\n    const stickyNotificationsHeight = stickyNotifications ? (notificationsHeight ?? 0) : 0;\n\n    const [splitPanelPreferences, setSplitPanelPreferences] = useControllable(\n      controlledSplitPanelPreferences,\n      onSplitPanelPreferencesChange,\n      undefined,\n      {\n        componentName: 'AppLayout',\n        controlledProp: 'splitPanelPreferences',\n        changeHandler: 'onSplitPanelPreferencesChange',\n      }\n    );\n    const [splitPanelOpen = false, setSplitPanelOpen] = useControllable(\n      controlledSplitPanelOpen,\n      onSplitPanelToggle,\n      false,\n      {\n        componentName: 'AppLayout',\n        controlledProp: 'splitPanelOpen',\n        changeHandler: 'onSplitPanelToggle',\n      }\n    );\n\n    const splitPanelPosition = splitPanelPreferences?.position || 'bottom';\n    const [splitPanelReportedToggle, setSplitPanelReportedToggle] = useState<SplitPanelSideToggleProps>({\n      displayed: false,\n      ariaLabel: undefined,\n    });\n    const splitPanelDisplayed = !!(splitPanel && (splitPanelReportedToggle.displayed || splitPanelOpen));\n\n    const closedDrawerWidth = 40;\n    const effectiveNavigationWidth = navigationHide ? 0 : navigationOpen ? navigationWidth : closedDrawerWidth;\n\n    const defaultSplitPanelSize = getSplitPanelDefaultSize(splitPanelPosition);\n    const [splitPanelSize = defaultSplitPanelSize, setSplitPanelSize] = useControllable(\n      controlledSplitPanelSize,\n      onSplitPanelResize,\n      defaultSplitPanelSize,\n      {\n        componentName: 'AppLayout',\n        controlledProp: 'splitPanelSize',\n        changeHandler: 'onSplitPanelResize',\n      }\n    );\n\n    const mainContentRef = useRef<HTMLDivElement>(null);\n    const legacyScrollRootRef = useRef<HTMLElement>(null);\n\n    const { refs: splitPanelRefs, setLastInteraction: setSplitPanelLastInteraction } = useSplitPanelFocusControl([\n      splitPanelPreferences,\n      splitPanelOpen,\n    ]);\n\n    const onSplitPanelPreferencesSet = useCallback(\n      (detail: { position: 'side' | 'bottom' }) => {\n        setSplitPanelPreferences(detail);\n        setSplitPanelLastInteraction({ type: 'position' });\n        fireNonCancelableEvent(onSplitPanelPreferencesChange, detail);\n      },\n      [setSplitPanelPreferences, onSplitPanelPreferencesChange, setSplitPanelLastInteraction]\n    );\n    const onSplitPanelSizeSet = useCallback(\n      (newSize: number) => {\n        setSplitPanelSize(newSize);\n        fireNonCancelableEvent(onSplitPanelResize, { size: newSize });\n      },\n      [setSplitPanelSize, onSplitPanelResize]\n    );\n\n    const onSplitPanelToggleHandler = useCallback(() => {\n      setSplitPanelOpen(!splitPanelOpen);\n      setSplitPanelLastInteraction({ type: splitPanelOpen ? 'close' : 'open' });\n      fireNonCancelableEvent(onSplitPanelToggle, { open: !splitPanelOpen });\n    }, [setSplitPanelOpen, splitPanelOpen, onSplitPanelToggle, setSplitPanelLastInteraction]);\n\n    const getSplitPanelMaxHeight = useStableCallback(() => {\n      if (typeof document === 'undefined') {\n        return 0; // render the split panel in its minimum possible size\n      } else if (disableBodyScroll && legacyScrollRootRef.current) {\n        const availableHeight = legacyScrollRootRef.current.clientHeight;\n        return availableHeight < CONSTRAINED_PAGE_HEIGHT ? availableHeight : availableHeight - MAIN_PANEL_MIN_HEIGHT;\n      } else {\n        const availableHeight =\n          document.documentElement.clientHeight - placement.insetBlockStart - placement.insetBlockEnd;\n        return availableHeight < CONSTRAINED_PAGE_HEIGHT\n          ? availableHeight - CONSTRAINED_MAIN_PANEL_MIN_HEIGHT\n          : availableHeight - MAIN_PANEL_MIN_HEIGHT;\n      }\n    });\n\n    const rightDrawerBarWidth = drawers ? (drawers.length > 1 ? closedDrawerWidth : 0) : 0;\n    const contentPadding = 80;\n    // all content except split-panel + drawers/tools area\n    const resizableSpaceAvailable = Math.max(\n      0,\n      placement.inlineSize - effectiveNavigationWidth - minContentWidth - contentPadding - rightDrawerBarWidth\n    );\n\n    const getEffectiveToolsWidth = () => {\n      if (activeDrawerSize && activeDrawer) {\n        return Math.min(resizableSpaceAvailable, activeDrawerSize);\n      }\n\n      if (toolsHide || drawers) {\n        return 0;\n      }\n\n      if (toolsOpen) {\n        return toolsWidth;\n      }\n\n      return closedDrawerWidth;\n    };\n\n    const effectiveToolsWidth = getEffectiveToolsWidth();\n    const availableWidthForSplitPanel = resizableSpaceAvailable - effectiveToolsWidth;\n    const isSplitPanelForcedPosition = shouldSplitPanelBeForcedToBottom({\n      isMobile,\n      availableWidthForSplitPanel,\n    });\n    const finalSplitPanePosition = isSplitPanelForcedPosition ? 'bottom' : splitPanelPosition;\n\n    const splitPaneAvailableOnTheSide = splitPanelDisplayed && finalSplitPanePosition === 'side';\n\n    const sideSplitPanelSize = splitPaneAvailableOnTheSide ? (splitPanelOpen ? splitPanelSize : closedDrawerWidth) : 0;\n    const sideSplitPanelMaxWidth = Math.max(0, resizableSpaceAvailable - effectiveToolsWidth);\n    const drawerMaxSize = Math.max(0, resizableSpaceAvailable - sideSplitPanelSize);\n\n    const navigationClosedWidth = navigationHide || isMobile ? 0 : closedDrawerWidth;\n\n    const contentMaxWidthStyle = !isMobile ? { maxWidth: maxContentWidth } : undefined;\n\n    const [splitPanelReportedSize, setSplitPanelReportedSize] = useState(0);\n    const [splitPanelReportedHeaderHeight, setSplitPanelReportedHeaderHeight] = useState(0);\n\n    const splitPanelContextProps: SplitPanelProviderProps = {\n      topOffset: placement.insetBlockStart + (finalSplitPanePosition === 'bottom' ? stickyNotificationsHeight : 0),\n      bottomOffset: placement.insetBlockEnd,\n      leftOffset:\n        placement.insetInlineStart +\n        (isMobile ? 0 : !navigationHide && navigationOpen ? navigationWidth : navigationClosedWidth),\n      rightOffset: isMobile ? 0 : placement.insetInlineEnd + effectiveToolsWidth + rightDrawerBarWidth,\n      position: finalSplitPanePosition,\n      size: splitPanelSize,\n      maxWidth: sideSplitPanelMaxWidth,\n      getMaxHeight: getSplitPanelMaxHeight,\n      disableContentPaddings,\n      contentWidthStyles: contentMaxWidthStyle,\n      isOpen: splitPanelOpen,\n      isForcedPosition: isSplitPanelForcedPosition,\n      onResize: onSplitPanelSizeSet,\n      onToggle: onSplitPanelToggleHandler,\n      onPreferencesChange: onSplitPanelPreferencesSet,\n      setSplitPanelToggle: setSplitPanelReportedToggle,\n      reportSize: setSplitPanelReportedSize,\n      reportHeaderHeight: setSplitPanelReportedHeaderHeight,\n      refs: splitPanelRefs,\n    };\n    const splitPanelWrapped = splitPanel && (\n      <SplitPanelProvider {...splitPanelContextProps}>\n        {finalSplitPanePosition === 'side' ? (\n          <SideSplitPanelDrawer displayed={splitPanelDisplayed}>{splitPanel}</SideSplitPanelDrawer>\n        ) : (\n          splitPanel\n        )}\n      </SplitPanelProvider>\n    );\n\n    const contentWrapperProps: ContentWrapperProps = {\n      contentType,\n      navigationPadding: navigationHide || !!navigationOpen,\n      contentWidthStyles: !isMobile ? { minWidth: minContentWidth, maxWidth: maxContentWidth } : undefined,\n      toolsPadding:\n        // tools padding is displayed in one of the three cases\n        // 1. Nothing on the that screen edge (no tools panel and no split panel)\n        toolsHide ||\n        (hasDrawers && !activeDrawer && (!splitPanelDisplayed || finalSplitPanePosition !== 'side')) ||\n        // 2. Tools panel is present and open\n        toolsVisible ||\n        // 3. Split panel is open in side position\n        (splitPaneAvailableOnTheSide && splitPanelOpen),\n      isMobile,\n    };\n\n    useImperativeHandle(ref, () => ({\n      openTools: () => onToolsToggle(true),\n      closeNavigationIfNecessary: () => {\n        if (isMobile) {\n          onNavigationToggle({ isOpen: false, autoFocus: true });\n        }\n      },\n      focusToolsClose: () => {\n        if (hasDrawers) {\n          focusDrawersButtons({ force: true });\n        } else {\n          focusToolsButtons({ force: true });\n        }\n      },\n      focusActiveDrawer: () => focusDrawersButtons({ force: true }),\n      focusSplitPanel: () => splitPanelRefs.slider.current?.focus(),\n    }));\n\n    const splitPanelBottomOffset =\n      (!splitPanelDisplayed || finalSplitPanePosition !== 'bottom'\n        ? undefined\n        : splitPanelOpen\n          ? splitPanelReportedSize\n          : splitPanelReportedHeaderHeight) ?? undefined;\n\n    const [mobileBarHeight, mobileBarRef] = useContainerQuery(rect => rect.contentBoxHeight);\n\n    return (\n      <div\n        className={clsx(styles.root, testutilStyles.root, disableBodyScroll && styles['root-no-scroll'])}\n        ref={rootRef}\n        style={contentHeightStyle}\n      >\n        {isMobile && !__embeddedViewMode && (!toolsHide || !navigationHide || breadcrumbs) && (\n          <MobileToolbar\n            anyPanelOpen={anyPanelOpen}\n            toggleRefs={{ navigation: navigationRefs.toggle, tools: toolsRefs.toggle }}\n            topOffset={placement.insetBlockStart}\n            ariaLabels={ariaLabels}\n            navigationHide={navigationHide}\n            toolsHide={toolsHide}\n            onNavigationOpen={() => onNavigationToggle({ isOpen: true, autoFocus: true })}\n            onToolsOpen={() => onToolsToggle(true)}\n            unfocusable={anyPanelOpen}\n            mobileBarRef={mobileBarRef}\n            drawers={drawers?.filter(drawer => drawer.trigger)}\n            activeDrawerId={activeDrawerId}\n            onDrawerChange={newDrawerId => {\n              onActiveDrawerChange(newDrawerId, { initiatedByUserAction: true });\n              if (newDrawerId !== activeDrawerId) {\n                focusToolsButtons();\n                focusDrawersButtons();\n              }\n            }}\n          >\n            {breadcrumbs}\n          </MobileToolbar>\n        )}\n        <div className={clsx(styles.layout, disableBodyScroll && styles['layout-no-scroll'])}>\n          {!navigationHide && (\n            <Drawer\n              contentClassName={testutilStyles.navigation}\n              toggleClassName={testutilStyles['navigation-toggle']}\n              closeClassName={testutilStyles['navigation-close']}\n              ariaLabels={togglesConfig.navigation.getLabels(ariaLabels)}\n              bottomOffset={placement.insetBlockEnd}\n              topOffset={placement.insetBlockStart}\n              isMobile={isMobile}\n              isOpen={navigationOpen}\n              onClick={isMobile ? onNavigationClick : undefined}\n              onToggle={isOpen => onNavigationToggle({ isOpen, autoFocus: true })}\n              toggleRefs={navigationRefs}\n              type=\"navigation\"\n              width={navigationWidth}\n            >\n              {navigation}\n            </Drawer>\n          )}\n          <main\n            ref={legacyScrollRootRef}\n            className={clsx(styles['layout-main'], {\n              [styles['layout-main-scrollable']]: disableBodyScroll,\n              [testutilStyles['disable-body-scroll-root']]: disableBodyScroll,\n              [styles.unfocusable]: isMobile && anyPanelOpen,\n            })}\n          >\n            <div\n              style={{\n                marginBottom: splitPanelBottomOffset,\n              }}\n            >\n              {notifications && (\n                <Notifications\n                  disableContentPaddings={disableContentPaddings}\n                  testUtilsClassName={testutilStyles.notifications}\n                  labels={ariaLabels}\n                  topOffset={disableBodyScroll ? 0 : placement.insetBlockStart}\n                  sticky={!isMobile && stickyNotifications}\n                  ref={notificationsRef}\n                >\n                  {notifications}\n                </Notifications>\n              )}\n              {((!isMobile && breadcrumbs) || contentHeader) && (\n                <ContentWrapper {...contentWrapperProps}>\n                  {!isMobile && breadcrumbs && (\n                    <div className={clsx(testutilStyles.breadcrumbs, styles['breadcrumbs-desktop'])}>{breadcrumbs}</div>\n                  )}\n                  {contentHeader && (\n                    <div\n                      className={clsx(\n                        styles['content-header-wrapper'],\n                        !hasRenderedNotifications && (isMobile || !breadcrumbs) && styles['content-extra-top-padding'],\n                        !hasRenderedNotifications && !breadcrumbs && styles['content-header-wrapper-first-child'],\n                        !disableContentHeaderOverlap && styles['content-header-wrapper-overlapped']\n                      )}\n                    >\n                      {contentHeader}\n                    </div>\n                  )}\n                </ContentWrapper>\n              )}\n              <ContentWrapper\n                {...contentWrapperProps}\n                ref={mainContentRef}\n                disablePaddings={disableContentPaddings}\n                className={clsx(\n                  !disableContentPaddings && styles['content-wrapper'],\n                  !disableContentPaddings &&\n                    (isMobile || !breadcrumbs) &&\n                    !contentHeader &&\n                    styles['content-extra-top-padding'],\n                  testutilStyles.content,\n                  !disableContentHeaderOverlap && contentHeader && styles['content-overlapped'],\n                  !hasRenderedNotifications &&\n                    !breadcrumbs &&\n                    !isMobile &&\n                    !contentHeader &&\n                    styles['content-wrapper-first-child']\n                )}\n                style={getStickyOffsetVars(\n                  placement.insetBlockStart,\n                  placement.insetBlockEnd + (splitPanelBottomOffset || 0),\n                  `${stickyNotificationsHeight}px`,\n                  mobileBarHeight && !disableBodyScroll ? `${mobileBarHeight}px` : '0px',\n                  !!disableBodyScroll,\n                  isMobile\n                )}\n              >\n                {content}\n              </ContentWrapper>\n            </div>\n            {finalSplitPanePosition === 'bottom' && splitPanelWrapped}\n          </main>\n\n          {finalSplitPanePosition === 'side' && splitPanelWrapped}\n\n          {hasDrawers ? (\n            <ResizableDrawer\n              contentClassName={clsx(\n                activeDrawerId && testutilStyles['active-drawer'],\n                activeDrawerId === TOOLS_DRAWER_ID && testutilStyles.tools\n              )}\n              toggleClassName={testutilStyles['tools-toggle']}\n              closeClassName={clsx(\n                testutilStyles['active-drawer-close-button'],\n                activeDrawerId === TOOLS_DRAWER_ID && testutilStyles['tools-close']\n              )}\n              ariaLabels={{\n                openLabel: activeDrawer?.ariaLabels?.triggerButton,\n                closeLabel: activeDrawer?.ariaLabels?.closeButton,\n                mainLabel: activeDrawer?.ariaLabels?.drawerName,\n                resizeHandle: activeDrawer?.ariaLabels?.resizeHandle,\n                resizeHandleTooltipText: activeDrawer?.ariaLabels?.resizeHandleTooltipText,\n              }}\n              minWidth={minDrawerSize}\n              maxWidth={drawerMaxSize}\n              width={activeDrawerSize}\n              bottomOffset={placement.insetBlockEnd}\n              topOffset={placement.insetBlockStart}\n              isMobile={isMobile}\n              onToggle={isOpen => {\n                if (!isOpen) {\n                  focusToolsButtons();\n                  focusDrawersButtons();\n                  onActiveDrawerChange(null, { initiatedByUserAction: true });\n                }\n              }}\n              isOpen={true}\n              hideOpenButton={true}\n              toggleRefs={drawerRefs}\n              type=\"tools\"\n              onLoseFocus={loseDrawersFocus}\n              activeDrawer={activeDrawer}\n              onResize={changeDetail => onActiveDrawerResize(changeDetail)}\n              refs={drawerRefs}\n              toolsContent={drawers?.find(drawer => drawer.id === TOOLS_DRAWER_ID)?.content}\n            >\n              {activeDrawer?.content}\n            </ResizableDrawer>\n          ) : (\n            !toolsHide && (\n              <Drawer\n                contentClassName={testutilStyles.tools}\n                toggleClassName={testutilStyles['tools-toggle']}\n                closeClassName={testutilStyles['tools-close']}\n                ariaLabels={togglesConfig.tools.getLabels(ariaLabels)}\n                width={toolsWidth}\n                bottomOffset={placement.insetBlockEnd}\n                topOffset={placement.insetBlockStart}\n                isMobile={isMobile}\n                onToggle={onToolsToggle}\n                isOpen={toolsOpen}\n                toggleRefs={toolsRefs}\n                type=\"tools\"\n                onLoseFocus={loseToolsFocus}\n              >\n                {tools}\n              </Drawer>\n            )\n          )}\n          {hasDrawers && drawers.length > 0 && (\n            <DrawerTriggersBar\n              drawerRefs={drawerRefs}\n              bottomOffset={placement.insetBlockEnd}\n              topOffset={placement.insetBlockStart}\n              isMobile={isMobile}\n              drawers={drawers.filter(drawer => drawer.trigger)}\n              activeDrawerId={activeDrawerId}\n              onDrawerChange={newDrawerId => {\n                if (activeDrawerId !== newDrawerId) {\n                  focusToolsButtons();\n                  focusDrawersButtons();\n                }\n                onActiveDrawerChange(newDrawerId, { initiatedByUserAction: true });\n              }}\n              ariaLabels={ariaLabels}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n);\n\nexport default ClassicAppLayout;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n/**\n * The page height where the page is considered constrained.\n */\nexport const CONSTRAINED_PAGE_HEIGHT = 400;\n\n/**\n * Based on approximate height of breadcrumb, table header, and the first table row\n */\nexport const MAIN_PANEL_MIN_HEIGHT = 250;\n\n/**\n * Based on approximate height of app bar on comfortable mode on mobile.\n */\nexport const CONSTRAINED_MAIN_PANEL_MIN_HEIGHT = 40;\n\n/**\n * Estimate a default split panel size for the first render based on the document size.\n */\nexport function getSplitPanelDefaultSize(position: 'side' | 'bottom') {\n  if (typeof document === 'undefined') {\n    return 0; // render the split panel in its minimum possible size\n  }\n  return position === 'side' ? document.documentElement.clientWidth / 3 : document.documentElement.clientHeight / 2;\n}\n\nexport function getLimitedValue(min: number, value: number, max: number) {\n  if (min > max) {\n    return min;\n  }\n  if (value < min) {\n    return min;\n  }\n  if (value > max) {\n    return max;\n  }\n  return value;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { AppLayoutProps } from '../interfaces';\n\nimport styles from './styles.css.js';\n\nexport interface ContentWrapperProps {\n  className?: string;\n  style?: React.CSSProperties;\n  contentType: AppLayoutProps.ContentType;\n  children?: React.ReactNode;\n  isMobile: boolean;\n  navigationPadding: boolean;\n  toolsPadding: boolean;\n  disablePaddings?: boolean;\n  contentWidthStyles?: React.CSSProperties;\n}\n\nconst ContentWrapper = React.forwardRef(\n  (\n    {\n      className,\n      style,\n      contentType,\n      children,\n      toolsPadding,\n      disablePaddings,\n      navigationPadding,\n      isMobile,\n      contentWidthStyles,\n    }: ContentWrapperProps,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    if (disablePaddings) {\n      return (\n        <div className={className} ref={ref} style={style}>\n          {children}\n        </div>\n      );\n    }\n    return (\n      <div\n        ref={ref}\n        className={clsx(\n          styles['content-wrapper'],\n          !navigationPadding && styles['content-wrapper-no-navigation-padding'],\n          !toolsPadding && styles['content-wrapper-no-tools-padding'],\n          isMobile && styles['content-wrapper-mobile']\n        )}\n        style={style}\n      >\n        <div style={contentWidthStyles} className={clsx(className, styles[`content-type-${contentType}`])}>\n          {children}\n        </div>\n      </div>\n    );\n  }\n);\n\nexport default ContentWrapper;\n", "\n    import './styles.scoped.css';\n    export default {\n  \"content-wrapper\": \"awsui_content-wrapper_zycdx_mfqbj_153\",\n  \"content-wrapper-mobile\": \"awsui_content-wrapper-mobile_zycdx_mfqbj_157\",\n  \"content-type-dashboard\": \"awsui_content-type-dashboard_zycdx_mfqbj_162\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport { useDensityMode } from '@cloudscape-design/component-toolkit/internal';\n\nimport { getVisualContextClassname } from '../../internal/components/visual-context';\nimport { AppLayoutProps } from '../interfaces';\nimport { CloseButton, ToggleButton, togglesConfig } from '../toggles';\nimport { TOOLS_DRAWER_ID } from '../utils/use-drawers';\nimport { splitItems } from './drawers-helpers';\nimport { DesktopDrawerProps, DrawerTriggersBarProps } from './interfaces';\nimport OverflowMenu from './overflow-menu';\n\nimport testutilStyles from '../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\n// We are using two landmarks per drawer, i.e. two NAVs and two ASIDEs, because of several\n// known bugs in NVDA that cause focus changes within a container to sometimes not be\n// announced. As a result, we use one region for the open button and one region for the\n// actual drawer content, always hiding the other one when it's not visible.\n// An alternative solution to follow a more classic implementation here to only have one\n// button that triggers the opening/closing of the drawer also did not work due to another\n// series of bugs in NVDA (together with Firefox) which prevent the changed expanded state\n// from being announced.\n// Even with this workaround in place, the announcement of the close button when opening a\n// panel in NVDA is not working correctly. The suspected root cause is one of the bugs below\n// as well.\n// Relevant tickets:\n// * https://github.com/nvaccess/nvda/issues/6606\n// * https://github.com/nvaccess/nvda/issues/5825\n// * https://github.com/nvaccess/nvda/issues/5247\n// * https://github.com/nvaccess/nvda/pull/8869 (reverted PR that was going to fix it)\nexport const Drawer = React.forwardRef(\n  (\n    {\n      id,\n      contentClassName,\n      toggleClassName,\n      closeClassName,\n      width,\n      type,\n      toggleRefs,\n      topOffset,\n      bottomOffset,\n      ariaLabels,\n      children,\n      hideOpenButton,\n      isOpen,\n      isHidden,\n      isMobile,\n      onToggle,\n      onClick,\n      onLoseFocus,\n      resizeHandle,\n    }: DesktopDrawerProps,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    const openButtonWrapperRef = useRef<HTMLElement | null>(null);\n    const { TagName, iconName } = togglesConfig[type];\n    const { mainLabel, closeLabel, openLabel } = ariaLabels;\n    const drawerContentWidthOpen = isMobile ? undefined : width;\n    const drawerContentWidth = isOpen ? drawerContentWidthOpen : undefined;\n\n    const regularOpenButton = (\n      <TagName ref={openButtonWrapperRef} aria-label={mainLabel} className={styles.toggle} aria-hidden={isOpen}>\n        <ToggleButton\n          ref={toggleRefs.toggle}\n          className={toggleClassName}\n          iconName={iconName}\n          ariaLabel={openLabel}\n          onClick={() => onToggle(true)}\n          ariaExpanded={isOpen ? undefined : false}\n        />\n      </TagName>\n    );\n\n    return (\n      <div\n        ref={ref}\n        className={clsx(styles.drawer, {\n          [styles.hide]: isHidden,\n          [styles['drawer-closed']]: !isOpen,\n          [styles['drawer-mobile']]: isMobile,\n        })}\n        style={{ width: drawerContentWidth }}\n        onBlur={\n          onLoseFocus\n            ? e => {\n                if (!e.relatedTarget || !e.currentTarget.contains(e.relatedTarget)) {\n                  onLoseFocus(e);\n                }\n              }\n            : undefined\n        }\n        onClick={event => {\n          if (onClick) {\n            onClick(event);\n          }\n          if (!isOpen) {\n            // to prevent calling onToggle from the drawer when it's called from the toggle button\n            if (\n              openButtonWrapperRef.current === event.target ||\n              !openButtonWrapperRef.current?.contains(event.target as Node)\n            ) {\n              onToggle(true);\n            }\n          }\n        }}\n      >\n        <div\n          id={id}\n          style={{ width: drawerContentWidth, top: topOffset, bottom: bottomOffset }}\n          className={clsx(styles['drawer-content'], styles['drawer-content-clickable'], contentClassName, {\n            [testutilStyles['drawer-closed']]: !isOpen,\n          })}\n        >\n          {!isMobile && !hideOpenButton && regularOpenButton}\n          <TagName\n            className={clsx(resizeHandle && styles['drawer-resize-content'], styles['drawer-content-wrapper'])}\n            aria-label={mainLabel}\n            aria-hidden={!isOpen}\n            style={{\n              blockSize: `calc(100vh - ${(topOffset || 0) + (bottomOffset || 0)}px)`,\n            }}\n          >\n            {!isMobile && isOpen && <div className={styles['resize-handle-wrapper']}>{resizeHandle}</div>}\n            <CloseButton\n              ref={toggleRefs.close}\n              className={closeClassName}\n              ariaLabel={closeLabel}\n              onClick={() => {\n                onToggle(false);\n              }}\n            />\n            {children}\n          </TagName>\n        </div>\n      </div>\n    );\n  }\n);\n\ninterface DrawerTriggerProps {\n  testUtilsClassName?: string;\n  ariaLabel: string | undefined;\n  ariaExpanded: boolean;\n  ariaControls?: string;\n  badge: boolean | undefined;\n  itemId?: string;\n  isActive: boolean;\n  trigger: AppLayoutProps.Drawer['trigger'];\n  onClick: (() => void) | undefined;\n}\n\nconst DrawerTrigger = React.forwardRef(\n  (\n    {\n      testUtilsClassName,\n      ariaLabel,\n      ariaExpanded,\n      ariaControls,\n      badge,\n      itemId,\n      isActive,\n      trigger,\n      onClick,\n    }: DrawerTriggerProps,\n    ref: React.Ref<{ focus: () => void }>\n  ) => (\n    <div\n      className={clsx(\n        styles['drawer-trigger'],\n        isActive && styles['drawer-trigger-active'],\n        isActive && getVisualContextClassname('app-layout-tools-drawer-trigger')\n      )}\n      onClick={onClick}\n    >\n      <ToggleButton\n        ref={ref}\n        className={testUtilsClassName}\n        iconName={trigger!.iconName}\n        iconSvg={trigger!.iconSvg}\n        ariaLabel={ariaLabel}\n        ariaExpanded={ariaExpanded}\n        ariaControls={ariaControls}\n        badge={badge}\n        testId={itemId && `awsui-app-layout-trigger-${itemId}`}\n      />\n    </div>\n  )\n);\n\nexport const DrawerTriggersBar = ({\n  isMobile,\n  topOffset,\n  bottomOffset,\n  activeDrawerId,\n  ariaLabels,\n  drawers,\n  drawerRefs,\n  onDrawerChange,\n}: DrawerTriggersBarProps) => {\n  const containerRef = React.useRef<HTMLDivElement>(null);\n  const previousActiveDrawerId = useRef(activeDrawerId);\n  const [containerHeight, triggersContainerRef] = useContainerQuery(rect => rect.contentBoxHeight);\n  const isCompactMode = useDensityMode(containerRef) === 'compact';\n\n  if (activeDrawerId) {\n    previousActiveDrawerId.current = activeDrawerId;\n  }\n\n  const getIndexOfOverflowItem = () => {\n    if (containerHeight) {\n      const ITEM_HEIGHT = isCompactMode ? 34 : 38;\n      const overflowSpot = containerHeight / 1.5;\n\n      const index = Math.floor(overflowSpot / ITEM_HEIGHT);\n\n      return index;\n    }\n    return 0;\n  };\n\n  const { visibleItems, overflowItems } = splitItems(drawers, getIndexOfOverflowItem(), activeDrawerId);\n  const overflowMenuHasBadge = !!overflowItems.find(item => item.badge);\n\n  return (\n    <div\n      className={clsx(styles.drawer, styles['drawer-closed'], testutilStyles['drawer-closed'], {\n        [styles['drawer-mobile']]: isMobile,\n        [styles.hide]: drawers.length === 1 && !!activeDrawerId,\n      })}\n      ref={containerRef}\n    >\n      <div\n        ref={triggersContainerRef}\n        style={{ top: topOffset, bottom: bottomOffset }}\n        className={clsx(styles['drawer-content'], {\n          [styles['drawer-content-clickable']]: drawers.length === 1,\n        })}\n        onClick={\n          drawers.length === 1\n            ? () => onDrawerChange(drawers[0].id !== activeDrawerId ? drawers[0].id : null)\n            : undefined\n        }\n      >\n        {!isMobile && (\n          <aside aria-label={ariaLabels?.drawers} role=\"region\">\n            <div\n              className={styles['drawer-triggers-wrapper']}\n              aria-label={ariaLabels?.drawers}\n              role=\"toolbar\"\n              aria-orientation=\"vertical\"\n            >\n              {visibleItems.map((item, index) => {\n                return (\n                  <DrawerTrigger\n                    key={index}\n                    testUtilsClassName={clsx(\n                      testutilStyles['drawers-trigger'],\n                      item.id === TOOLS_DRAWER_ID && testutilStyles['tools-toggle']\n                    )}\n                    ariaExpanded={activeDrawerId === item.id}\n                    ref={item.id === previousActiveDrawerId.current ? drawerRefs.toggle : undefined}\n                    ariaLabel={item.ariaLabels?.triggerButton}\n                    ariaControls={activeDrawerId === item.id ? item.id : undefined}\n                    trigger={item.trigger}\n                    badge={item.badge}\n                    itemId={item.id}\n                    isActive={activeDrawerId === item.id}\n                    onClick={\n                      drawers.length !== 1\n                        ? () => onDrawerChange(item.id !== activeDrawerId ? item.id : null)\n                        : undefined\n                    }\n                  />\n                );\n              })}\n              {overflowItems.length > 0 && (\n                <div className={styles['drawer-trigger']}>\n                  <OverflowMenu\n                    ariaLabel={\n                      overflowMenuHasBadge ? ariaLabels?.drawersOverflowWithBadge : ariaLabels?.drawersOverflow\n                    }\n                    items={overflowItems}\n                    onItemClick={({ detail }) => onDrawerChange(detail.id)}\n                  />\n                </div>\n              )}\n            </div>\n          </aside>\n        )}\n      </div>\n    </div>\n  );\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { ButtonProps } from '../../button/interfaces';\nimport { InternalButton } from '../../button/internal';\nimport InternalIcon from '../../icon/internal';\nimport { AppLayoutProps } from '../interfaces';\nimport { AppLayoutButtonProps } from './interfaces';\n\nimport testutilStyles from '../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\nexport const togglesConfig = {\n  navigation: {\n    TagName: 'nav',\n    iconName: 'menu',\n    getLabels: (labels: AppLayoutProps.Labels = {}) => ({\n      mainLabel: labels.navigation,\n      openLabel: labels.navigationToggle,\n      closeLabel: labels.navigationClose,\n    }),\n  },\n  tools: {\n    TagName: 'aside',\n    iconName: 'status-info',\n    getLabels: (labels: AppLayoutProps.Labels = {}) => ({\n      mainLabel: labels.tools,\n      openLabel: labels.toolsToggle,\n      closeLabel: labels.toolsClose,\n    }),\n  },\n} as const;\n\nexport const ToggleButton = React.forwardRef(\n  (\n    {\n      className,\n      ariaLabel,\n      ariaExpanded,\n      ariaControls,\n      iconName,\n      iconSvg,\n      disabled,\n      testId,\n      onClick,\n      badge,\n    }: AppLayoutButtonProps,\n    ref: React.Ref<{ focus(): void }>\n  ) => {\n    return (\n      <button\n        ref={ref as React.Ref<HTMLButtonElement>}\n        className={clsx(className, styles['toggle-button'], {\n          [testutilStyles['drawers-trigger-with-badge']]: badge,\n        })}\n        aria-label={ariaLabel}\n        type=\"button\"\n        onClick={onClick}\n        disabled={disabled}\n        aria-expanded={ariaExpanded}\n        aria-haspopup={ariaExpanded ? undefined : true}\n        aria-controls={ariaControls}\n        data-testid={testId}\n      >\n        <InternalIcon svg={iconSvg} name={iconName} badge={badge} />\n      </button>\n    );\n  }\n);\n\ninterface CloseButtonProps {\n  className?: string;\n  ariaLabel: string | undefined;\n  onClick: () => void;\n}\n\nexport const CloseButton = React.forwardRef(\n  ({ className, ariaLabel, onClick }: CloseButtonProps, ref: React.Ref<ButtonProps.Ref>) => {\n    return (\n      <span className={styles['close-button']}>\n        <InternalButton\n          ref={ref}\n          className={className}\n          ariaLabel={ariaLabel}\n          variant=\"icon\"\n          formAction=\"none\"\n          iconName=\"close\"\n          onClick={onClick}\n        />\n      </span>\n    );\n  }\n);\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1fj9k_q6akd_5\",\n  \"navigation\": \"awsui_navigation_1fj9k_q6akd_6\",\n  \"navigation-toggle\": \"awsui_navigation-toggle_1fj9k_q6akd_7\",\n  \"navigation-close\": \"awsui_navigation-close_1fj9k_q6akd_8\",\n  \"content\": \"awsui_content_1fj9k_q6akd_9\",\n  \"notifications\": \"awsui_notifications_1fj9k_q6akd_10\",\n  \"breadcrumbs\": \"awsui_breadcrumbs_1fj9k_q6akd_11\",\n  \"tools\": \"awsui_tools_1fj9k_q6akd_12\",\n  \"tools-close\": \"awsui_tools-close_1fj9k_q6akd_13\",\n  \"tools-toggle\": \"awsui_tools-toggle_1fj9k_q6akd_14\",\n  \"drawer-closed\": \"awsui_drawer-closed_1fj9k_q6akd_15\",\n  \"mobile-bar\": \"awsui_mobile-bar_1fj9k_q6akd_16\",\n  \"disable-body-scroll-root\": \"awsui_disable-body-scroll-root_1fj9k_q6akd_17\",\n  \"drawers-trigger\": \"awsui_drawers-trigger_1fj9k_q6akd_18\",\n  \"drawers-trigger-global\": \"awsui_drawers-trigger-global_1fj9k_q6akd_19\",\n  \"drawers-trigger-with-badge\": \"awsui_drawers-trigger-with-badge_1fj9k_q6akd_20\",\n  \"active-drawer\": \"awsui_active-drawer_1fj9k_q6akd_21\",\n  \"active-drawer-close-button\": \"awsui_active-drawer-close-button_1fj9k_q6akd_22\",\n  \"overflow-menu\": \"awsui_overflow-menu_1fj9k_q6akd_23\",\n  \"drawers-slider\": \"awsui_drawers-slider_1fj9k_q6akd_24\",\n  \"toolbar\": \"awsui_toolbar_1fj9k_q6akd_25\",\n  \"trigger-wrapper-tooltip-visible\": \"awsui_trigger-wrapper-tooltip-visible_1fj9k_q6akd_26\",\n  \"trigger-tooltip\": \"awsui_trigger-tooltip_1fj9k_q6akd_27\",\n  \"active-drawer-expanded-mode-button\": \"awsui_active-drawer-expanded-mode-button_1fj9k_q6akd_28\",\n  \"ai-drawer-toggle\": \"awsui_ai-drawer-toggle_1fj9k_q6akd_29\",\n  \"active-ai-drawer-leave-expanded-mode-custom-button\": \"awsui_active-ai-drawer-leave-expanded-mode-custom-button_1fj9k_q6akd_30\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"toggle-button\": \"awsui_toggle-button_16w0h_1dfmp_185\",\n  \"close-button\": \"awsui_close-button_16w0h_1dfmp_220\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\n\nimport { fireNonCancelableEvent } from '../../internal/events';\nimport { useControllable } from '../../internal/hooks/use-controllable';\nimport { awsuiPluginsInternal } from '../../internal/plugins/api';\nimport { DrawersToggledListener } from '../../internal/plugins/controllers/drawers';\nimport { sortByPriority } from '../../internal/plugins/helpers/utils';\nimport { AppLayoutProps } from '../interfaces';\nimport { convertRuntimeDrawers, DrawersLayout } from '../runtime-drawer';\nimport { togglesConfig } from '../toggles';\n\nexport const TOOLS_DRAWER_ID = 'awsui-internal-tools';\n\ninterface ToolsProps {\n  toolsHide: boolean | undefined;\n  toolsOpen: boolean | undefined;\n  toolsWidth: number;\n  tools: React.ReactNode | undefined;\n  onToolsToggle: (newOpen: boolean) => void;\n  ariaLabels: AppLayoutProps.Labels | undefined;\n  disableDrawersMerge?: boolean;\n}\n\nexport interface OnChangeParams {\n  initiatedByUserAction: boolean;\n}\n\nfunction getToolsDrawerItem(props: ToolsProps): AppLayoutProps.Drawer | null {\n  if (props.toolsHide) {\n    return null;\n  }\n  const { iconName, getLabels } = togglesConfig.tools;\n  const { mainLabel, closeLabel, openLabel } = getLabels(props.ariaLabels);\n  return {\n    id: TOOLS_DRAWER_ID,\n    content: props.tools,\n    resizable: false,\n    ariaLabels: {\n      triggerButton: openLabel,\n      closeButton: closeLabel,\n      drawerName: mainLabel ?? '',\n    },\n    trigger: {\n      iconName: iconName,\n    },\n  };\n}\n\nconst DRAWERS_LIMIT = 2;\n\nconst DEFAULT_ON_CHANGE_PARAMS = { initiatedByUserAction: true };\n\nfunction useRuntimeDrawers(\n  disableRuntimeDrawers: boolean | undefined,\n  activeDrawerId: string | null,\n  onActiveDrawerChange: (newDrawerId: string | null, { initiatedByUserAction }: OnChangeParams) => void,\n  activeGlobalDrawersIds: Array<string>,\n  onActiveGlobalDrawersChange: (newDrawerId: string, { initiatedByUserAction }: OnChangeParams) => void\n) {\n  const [runtimeDrawers, setRuntimeDrawers] = useState<DrawersLayout>({\n    localBefore: [],\n    localAfter: [],\n    global: [],\n  });\n  const onLocalDrawerChangeStable = useStableCallback(onActiveDrawerChange);\n  const onGlobalDrawersChangeStable = useStableCallback(onActiveGlobalDrawersChange);\n\n  const localDrawerWasOpenRef = useRef(false);\n  localDrawerWasOpenRef.current = localDrawerWasOpenRef.current || !!activeDrawerId;\n  const activeGlobalDrawersIdsRef = useRef<Array<string>>([]);\n  activeGlobalDrawersIdsRef.current = activeGlobalDrawersIds;\n\n  useEffect(() => {\n    if (disableRuntimeDrawers) {\n      return;\n    }\n    const unsubscribe = awsuiPluginsInternal.appLayout.onDrawersRegistered(drawers => {\n      const localDrawers = drawers.filter(drawer => drawer.type !== 'global');\n      const globalDrawers = drawers.filter(drawer => drawer.type === 'global');\n      setRuntimeDrawers(convertRuntimeDrawers(localDrawers, globalDrawers));\n      if (!localDrawerWasOpenRef.current) {\n        const defaultActiveLocalDrawer = sortByPriority(localDrawers).find(drawer => drawer.defaultActive);\n        if (defaultActiveLocalDrawer) {\n          onLocalDrawerChangeStable(defaultActiveLocalDrawer.id, { initiatedByUserAction: false });\n        }\n      }\n\n      const drawersNotActiveByDefault = globalDrawers.filter(drawer => !drawer.defaultActive);\n      const hasDrawersOpenByUserAction = drawersNotActiveByDefault.find(drawer =>\n        activeGlobalDrawersIdsRef.current.includes(drawer.id)\n      );\n      if (hasDrawersOpenByUserAction || activeGlobalDrawersIdsRef.current.length === DRAWERS_LIMIT) {\n        return;\n      }\n\n      const defaultActiveGlobalDrawers = sortByPriority(globalDrawers).filter(\n        drawer => !activeGlobalDrawersIdsRef.current.includes(drawer.id) && drawer.defaultActive\n      );\n      defaultActiveGlobalDrawers.forEach(drawer => {\n        onGlobalDrawersChangeStable(drawer.id, { initiatedByUserAction: false });\n      });\n    });\n    return () => {\n      unsubscribe();\n      setRuntimeDrawers({ localBefore: [], localAfter: [], global: [] });\n    };\n  }, [disableRuntimeDrawers, onGlobalDrawersChangeStable, onLocalDrawerChangeStable]);\n\n  return runtimeDrawers;\n}\n\nfunction useDrawerRuntimeOpenClose(\n  disableRuntimeDrawers: boolean | undefined,\n  localDrawers: AppLayoutProps.Drawer[] | null,\n  globalDrawers: AppLayoutProps.Drawer[],\n  activeDrawerId: string | null,\n  onActiveDrawerChange: (newDrawerId: string | null, { initiatedByUserAction }: OnChangeParams) => void,\n  activeGlobalDrawersIds: Array<string>,\n  onActiveGlobalDrawersChange: (newDrawerId: string, { initiatedByUserAction }: OnChangeParams) => void\n) {\n  const onDrawerOpened: DrawersToggledListener = useStableCallback((drawerId, params = DEFAULT_ON_CHANGE_PARAMS) => {\n    const localDrawer = localDrawers?.find(drawer => drawer.id === drawerId);\n    const globalDrawer = globalDrawers.find(drawer => drawer.id === drawerId);\n    if (localDrawer && activeDrawerId !== drawerId) {\n      onActiveDrawerChange(drawerId, params);\n    }\n    if (globalDrawer && !activeGlobalDrawersIds.includes(drawerId)) {\n      onActiveGlobalDrawersChange(drawerId, params);\n    }\n  });\n\n  const onDrawerClosed: DrawersToggledListener = useStableCallback((drawerId, params = DEFAULT_ON_CHANGE_PARAMS) => {\n    const localDrawer = localDrawers?.find(drawer => drawer.id === drawerId);\n    const globalDrawer = globalDrawers.find(drawer => drawer.id === drawerId);\n    if (localDrawer && activeDrawerId === drawerId) {\n      onActiveDrawerChange(null, params);\n    }\n    if (globalDrawer && activeGlobalDrawersIds.includes(drawerId)) {\n      onActiveGlobalDrawersChange(drawerId, params);\n    }\n  });\n\n  useEffect(() => {\n    if (disableRuntimeDrawers) {\n      return;\n    }\n    return awsuiPluginsInternal.appLayout.onDrawerOpened(onDrawerOpened);\n  }, [disableRuntimeDrawers, onDrawerOpened]);\n\n  useEffect(() => {\n    if (disableRuntimeDrawers) {\n      return;\n    }\n    return awsuiPluginsInternal.appLayout.onDrawerClosed(onDrawerClosed);\n  }, [disableRuntimeDrawers, onDrawerClosed]);\n}\n\nfunction useDrawerRuntimeResize(\n  disableRuntimeDrawers: boolean | undefined,\n  onActiveDrawerResize: ({ id, size }: { id: string; size: number }) => void\n) {\n  const onRuntimeDrawerResize = useStableCallback((drawerId: string, size: number) => {\n    onActiveDrawerResize({ id: drawerId, size });\n  });\n\n  useEffect(() => {\n    if (disableRuntimeDrawers) {\n      return;\n    }\n\n    return awsuiPluginsInternal.appLayout.onDrawerResize(onRuntimeDrawerResize);\n  }, [disableRuntimeDrawers, onRuntimeDrawerResize]);\n}\n\nfunction applyToolsDrawer(toolsProps: ToolsProps, runtimeDrawers: DrawersLayout) {\n  const drawers = [...runtimeDrawers.localBefore, ...runtimeDrawers.localAfter];\n  if (drawers.length === 0 && toolsProps.disableDrawersMerge) {\n    return null;\n  }\n  const toolsItem = getToolsDrawerItem(toolsProps);\n  if (toolsItem) {\n    drawers.unshift(toolsItem);\n  }\n\n  return drawers;\n}\n\nexport const MIN_DRAWER_SIZE = 290;\n\ntype UseDrawersProps = Pick<AppLayoutProps, 'drawers' | 'activeDrawerId' | 'onDrawerChange'> & {\n  __disableRuntimeDrawers?: boolean;\n  onGlobalDrawerFocus?: (drawerId: string, open: boolean) => void;\n  onAddNewActiveDrawer?: (drawerId: string) => void;\n  expandedDrawerId?: string | null;\n  setExpandedDrawerId?: (value: string | null) => void;\n};\n\nexport function useDrawers(\n  {\n    drawers,\n    activeDrawerId: controlledActiveDrawerId,\n    onDrawerChange,\n    onGlobalDrawerFocus,\n    onAddNewActiveDrawer,\n    expandedDrawerId,\n    setExpandedDrawerId,\n    __disableRuntimeDrawers: disableRuntimeDrawers,\n  }: UseDrawersProps,\n  ariaLabels: AppLayoutProps['ariaLabels'],\n  toolsProps: ToolsProps\n) {\n  const [activeDrawerId = null, setActiveDrawerId] = useControllable(controlledActiveDrawerId, onDrawerChange, null, {\n    componentName: 'AppLayout',\n    controlledProp: 'activeDrawerId',\n    changeHandler: 'onChange',\n  });\n  const [activeGlobalDrawersIds, setActiveGlobalDrawersIds] = useState<Array<string>>([]);\n  const [drawerSizes, setDrawerSizes] = useState<Record<string, number>>({});\n  // FIFO queue that keeps track of open drawers, where the first element is the most recently opened drawer\n  const drawersOpenQueue = useRef<Array<string>>([]);\n\n  function onActiveDrawerResize({ id, size }: { id: string; size: number }) {\n    setDrawerSizes(oldSizes => ({ ...oldSizes, [id]: size }));\n    if (activeDrawer?.id === id) {\n      fireNonCancelableEvent(activeDrawer?.onResize, { id, size });\n    }\n    const activeGlobalDrawer = runtimeGlobalDrawers.find(drawer => drawer.id === id);\n    fireNonCancelableEvent(activeGlobalDrawer?.onResize, { id, size });\n  }\n\n  function onActiveDrawerChange(\n    newDrawerId: string | null,\n    { initiatedByUserAction }: OnChangeParams = DEFAULT_ON_CHANGE_PARAMS\n  ) {\n    setActiveDrawerId(newDrawerId);\n    if (newDrawerId) {\n      onAddNewActiveDrawer?.(newDrawerId);\n    }\n    if (hasOwnDrawers) {\n      fireNonCancelableEvent(onDrawerChange, { activeDrawerId: newDrawerId });\n    } else if (!toolsProps.toolsHide) {\n      toolsProps.onToolsToggle(newDrawerId === TOOLS_DRAWER_ID);\n    }\n\n    if (newDrawerId) {\n      drawersOpenQueue.current = [newDrawerId, ...drawersOpenQueue.current];\n      const newDrawer = [...runtimeDrawers.localBefore, ...runtimeDrawers.localAfter]?.find(\n        drawer => drawer.id === newDrawerId\n      );\n      fireNonCancelableEvent(newDrawer?.onToggle, { isOpen: true, initiatedByUserAction });\n    }\n\n    if (activeDrawerId) {\n      drawersOpenQueue.current = drawersOpenQueue.current.filter(id => id !== activeDrawerId);\n      const activeDrawer = [...runtimeDrawers.localBefore, ...runtimeDrawers.localAfter]?.find(\n        drawer => drawer.id === activeDrawerId\n      );\n      fireNonCancelableEvent(activeDrawer?.onToggle, { isOpen: false, initiatedByUserAction });\n    }\n  }\n\n  function onActiveGlobalDrawersChange(\n    drawerId: string,\n    { initiatedByUserAction }: Partial<OnChangeParams> = DEFAULT_ON_CHANGE_PARAMS\n  ) {\n    const drawer = runtimeGlobalDrawers.find(drawer => drawer.id === drawerId);\n    if (activeGlobalDrawersIds.includes(drawerId)) {\n      setActiveGlobalDrawersIds(currentState => currentState.filter(id => id !== drawerId));\n      onGlobalDrawerFocus?.(drawerId, false);\n      drawersOpenQueue.current = drawersOpenQueue.current.filter(id => id !== drawerId);\n      fireNonCancelableEvent(drawer?.onToggle, { isOpen: false, initiatedByUserAction });\n      if (drawerId === expandedDrawerId) {\n        setExpandedDrawerId?.(null);\n      }\n    } else if (drawerId) {\n      onAddNewActiveDrawer?.(drawerId);\n      setActiveGlobalDrawersIds(currentState => [drawerId, ...currentState].slice(0, DRAWERS_LIMIT!));\n      onGlobalDrawerFocus?.(drawerId, true);\n      drawersOpenQueue.current = [drawerId, ...drawersOpenQueue.current];\n      fireNonCancelableEvent(drawer?.onToggle, { isOpen: true, initiatedByUserAction });\n    }\n  }\n\n  const hasOwnDrawers = !!drawers;\n  // support toolsOpen in runtime-drawers-only mode\n  let activeDrawerIdResolved =\n    toolsProps?.toolsOpen && !hasOwnDrawers\n      ? TOOLS_DRAWER_ID\n      : activeDrawerId !== TOOLS_DRAWER_ID\n        ? activeDrawerId\n        : null;\n  const runtimeDrawers = useRuntimeDrawers(\n    disableRuntimeDrawers,\n    activeDrawerIdResolved,\n    onActiveDrawerChange,\n    activeGlobalDrawersIds,\n    onActiveGlobalDrawersChange\n  );\n  const { localBefore, localAfter, global: runtimeGlobalDrawers } = runtimeDrawers;\n  const combinedLocalDrawers = drawers\n    ? [...localBefore, ...drawers, ...localAfter]\n    : applyToolsDrawer(toolsProps, runtimeDrawers);\n  const activeDrawer = combinedLocalDrawers?.find(drawer => drawer.id === activeDrawerIdResolved);\n  // ensure that id is only defined when the drawer exists\n  activeDrawerIdResolved = activeDrawer?.id ?? null;\n  const activeGlobalDrawers = runtimeGlobalDrawers.filter(drawer => activeGlobalDrawersIds.includes(drawer.id));\n\n  useDrawerRuntimeOpenClose(\n    disableRuntimeDrawers,\n    combinedLocalDrawers,\n    runtimeGlobalDrawers,\n    activeDrawerId,\n    onActiveDrawerChange,\n    activeGlobalDrawersIds,\n    onActiveGlobalDrawersChange\n  );\n\n  useDrawerRuntimeResize(disableRuntimeDrawers, onActiveDrawerResize);\n\n  const activeDrawerSize = activeDrawerIdResolved\n    ? (drawerSizes[activeDrawerIdResolved] ?? activeDrawer?.defaultSize ?? toolsProps.toolsWidth)\n    : toolsProps.toolsWidth;\n  const activeGlobalDrawersSizes: Record<string, number> = activeGlobalDrawersIds.reduce(\n    (acc, currentGlobalDrawerId) => {\n      const currentGlobalDrawer = runtimeGlobalDrawers.find(drawer => drawer.id === currentGlobalDrawerId);\n      return {\n        ...acc,\n        [currentGlobalDrawerId]:\n          drawerSizes[currentGlobalDrawerId] ?? currentGlobalDrawer?.defaultSize ?? MIN_DRAWER_SIZE,\n      };\n    },\n    {}\n  );\n  const minGlobalDrawersSizes: Record<string, number> = runtimeGlobalDrawers.reduce((acc, globalDrawer) => {\n    return {\n      ...acc,\n      [globalDrawer.id]: Math.min(globalDrawer.defaultSize ?? MIN_DRAWER_SIZE, MIN_DRAWER_SIZE),\n    };\n  }, {});\n  const minDrawerSize = Math.min(\n    toolsProps?.toolsOpen ? toolsProps.toolsWidth : (activeDrawer?.defaultSize ?? MIN_DRAWER_SIZE),\n    MIN_DRAWER_SIZE\n  );\n\n  return {\n    ariaLabelsWithDrawers: ariaLabels,\n    drawers: combinedLocalDrawers || undefined,\n    activeDrawer,\n    activeDrawerId: activeDrawerIdResolved,\n    globalDrawers: runtimeGlobalDrawers,\n    activeGlobalDrawers: activeGlobalDrawers,\n    activeGlobalDrawersIds,\n    activeGlobalDrawersSizes,\n    activeDrawerSize,\n    minDrawerSize,\n    minGlobalDrawersSizes,\n    drawerSizes,\n    drawersOpenQueue,\n    onActiveDrawerChange,\n    onActiveDrawerResize,\n    onActiveGlobalDrawersChange,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useContext, useEffect, useRef } from 'react';\n\nimport { ButtonGroupProps, ItemRuntime } from '../../button-group/interfaces';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../internal/events';\nimport {\n  DrawerConfig as RuntimeDrawerConfig,\n  DrawerStateChangeParams,\n} from '../../internal/plugins/controllers/drawers';\nimport { sortByPriority } from '../../internal/plugins/helpers/utils';\nimport { DrawerPayload as RuntimeAiDrawerConfig } from '../../internal/plugins/widget/interfaces';\nimport { AppLayoutProps } from '../interfaces';\nimport { ActiveDrawersContext } from '../utils/visibility-context';\n\nimport styles from './styles.css.js';\n\nexport interface RuntimeDrawer extends AppLayoutProps.Drawer {\n  onToggle?: NonCancelableEventHandler<DrawerStateChangeParams>;\n  position?: 'side' | 'bottom';\n}\n\nexport interface DrawersLayout {\n  global: Array<RuntimeDrawer>;\n  localBefore: Array<RuntimeDrawer>;\n  localAfter: Array<RuntimeDrawer>;\n}\n\ntype VisibilityCallback = (isVisible: boolean) => void;\n\ninterface RuntimeContentWrapperProps {\n  id?: string;\n  mountContent: RuntimeDrawerConfig['mountContent'];\n  unmountContent: RuntimeDrawerConfig['unmountContent'];\n}\n\nfunction RuntimeDrawerWrapper({ mountContent, unmountContent, id }: RuntimeContentWrapperProps) {\n  const ref = useRef<HTMLDivElement>(null);\n  const visibilityChangeCallback = useRef<VisibilityCallback | null>(null);\n  const activeDrawersIds = useContext(ActiveDrawersContext);\n  const isVisible = !!id && activeDrawersIds.includes(id);\n\n  useEffect(() => {\n    const container = ref.current!;\n    mountContent(container, {\n      onVisibilityChange: cb => {\n        visibilityChangeCallback.current = cb;\n      },\n    });\n    return () => {\n      unmountContent(container);\n      visibilityChangeCallback.current = null;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    visibilityChangeCallback.current?.(isVisible);\n  }, [isVisible]);\n\n  return <div ref={ref} className={styles['runtime-content-wrapper']} data-awsui-runtime-drawer-root-id={id}></div>;\n}\n\ninterface RuntimeContentHeaderProps {\n  mountHeader: (container: HTMLElement) => void;\n  unmountHeader?: (container: HTMLElement) => void;\n}\n\nfunction RuntimeDrawerHeader({ mountHeader, unmountHeader }: RuntimeContentHeaderProps) {\n  const ref = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const container = ref.current!;\n    mountHeader?.(container);\n    return () => {\n      unmountHeader?.(container);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return <div className={styles['runtime-header-wrapper']} ref={ref} />;\n}\n\nfunction mapRuntimeHeaderActionsToHeaderActions(\n  runtimeHeaderActions: ReadonlyArray<ItemRuntime>\n): ReadonlyArray<ButtonGroupProps.Item> {\n  return runtimeHeaderActions.map(runtimeHeaderAction => {\n    return {\n      ...runtimeHeaderAction,\n      ...('iconSvg' in runtimeHeaderAction &&\n        runtimeHeaderAction.iconSvg && {\n          iconSvg: convertRuntimeTriggerToReactNode(runtimeHeaderAction.iconSvg),\n        }),\n      ...('pressedIconSvg' in runtimeHeaderAction &&\n        runtimeHeaderAction.pressedIconSvg && {\n          iconSvg: convertRuntimeTriggerToReactNode(runtimeHeaderAction.pressedIconSvg),\n        }),\n    };\n  });\n}\n\nconst convertRuntimeTriggerToReactNode = (runtimeTrigger?: string) => {\n  if (!runtimeTrigger) {\n    return undefined;\n  }\n  // eslint-disable-next-line react/no-danger\n  return <span style={{ lineHeight: 0 }} dangerouslySetInnerHTML={{ __html: runtimeTrigger }} />;\n};\n\nexport const mapRuntimeConfigToDrawer = (\n  runtimeConfig: RuntimeDrawerConfig\n): AppLayoutProps.Drawer & {\n  orderPriority?: number;\n  onToggle?: NonCancelableEventHandler<DrawerStateChangeParams>;\n  headerActions?: ReadonlyArray<ButtonGroupProps.Item>;\n} => {\n  const { mountContent, unmountContent, trigger, ...runtimeDrawer } = runtimeConfig;\n\n  return {\n    ...runtimeDrawer,\n    ariaLabels: { drawerName: runtimeDrawer.ariaLabels.content ?? '', ...runtimeDrawer.ariaLabels },\n    trigger: trigger\n      ? {\n          ...(trigger.iconSvg && {\n            iconSvg: convertRuntimeTriggerToReactNode(trigger.iconSvg),\n          }),\n        }\n      : undefined,\n    content: (\n      <RuntimeDrawerWrapper\n        key={runtimeDrawer.id}\n        mountContent={mountContent}\n        unmountContent={unmountContent}\n        id={runtimeDrawer.id}\n      />\n    ),\n    onResize: event => {\n      fireNonCancelableEvent(runtimeDrawer.onResize, { size: event.detail.size, id: runtimeDrawer.id });\n    },\n    headerActions: runtimeDrawer.headerActions\n      ? mapRuntimeHeaderActionsToHeaderActions(runtimeDrawer.headerActions)\n      : undefined,\n  };\n};\n\nexport const mapRuntimeConfigToAiDrawer = (\n  runtimeConfig: RuntimeAiDrawerConfig\n): AppLayoutProps.Drawer & {\n  orderPriority?: number;\n  onToggle?: NonCancelableEventHandler<DrawerStateChangeParams>;\n  headerActions?: ReadonlyArray<ButtonGroupProps.Item>;\n  exitExpandedModeTrigger?: React.ReactNode;\n  onToggleFocusMode?: NonCancelableEventHandler<{ isExpanded: boolean }>;\n} => {\n  const { mountContent, unmountContent, trigger, exitExpandedModeTrigger, ...runtimeDrawer } = runtimeConfig;\n\n  return {\n    ...runtimeDrawer,\n    ariaLabels: { drawerName: runtimeDrawer.ariaLabels.content ?? '', ...runtimeDrawer.ariaLabels },\n    ...(trigger && {\n      trigger: {\n        customIcon: convertRuntimeTriggerToReactNode(trigger?.customIcon),\n        iconSvg: convertRuntimeTriggerToReactNode(trigger?.iconSvg),\n      },\n    }),\n    exitExpandedModeTrigger: exitExpandedModeTrigger\n      ? {\n          customIcon: convertRuntimeTriggerToReactNode(exitExpandedModeTrigger?.customIcon),\n        }\n      : undefined,\n    content: (\n      <RuntimeDrawerWrapper\n        key={runtimeDrawer.id}\n        mountContent={mountContent}\n        unmountContent={unmountContent}\n        id={runtimeDrawer.id}\n      />\n    ),\n    ...(runtimeDrawer.mountHeader && {\n      header: (\n        <RuntimeDrawerHeader mountHeader={runtimeDrawer.mountHeader} unmountHeader={runtimeDrawer.unmountHeader} />\n      ),\n    }),\n    onResize: event => {\n      fireNonCancelableEvent(runtimeDrawer.onResize, { size: event.detail.size, id: runtimeDrawer.id });\n    },\n    headerActions: runtimeDrawer.headerActions\n      ? mapRuntimeHeaderActionsToHeaderActions(runtimeDrawer.headerActions)\n      : undefined,\n  };\n};\n\nexport function convertRuntimeDrawers(\n  localDrawers: Array<RuntimeDrawerConfig>,\n  globalDrawers: Array<RuntimeDrawerConfig>\n): DrawersLayout {\n  const converted = localDrawers.map(mapRuntimeConfigToDrawer);\n  const sorted = sortByPriority(converted);\n  return {\n    global: sortByPriority(globalDrawers.map(mapRuntimeConfigToDrawer)),\n    localBefore: sorted.filter(item => (item.orderPriority ?? 0) > 0),\n    localAfter: sorted.filter(item => (item.orderPriority ?? 0) <= 0),\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { createContext } from 'react';\n\nexport const ActiveDrawersContext = createContext<ReadonlyArray<string>>([]);\n", "\n    import './styles.scoped.css';\n    export default {\n  \"runtime-content-wrapper\": \"awsui_runtime-content-wrapper_14m8x_spfr5_5\",\n  \"runtime-header-wrapper\": \"awsui_runtime-header-wrapper_14m8x_spfr5_9\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport function splitItems<T extends { id: string }>(\n  maybeItems: ReadonlyArray<T> | undefined,\n  splitIndex: number,\n  activeId: string | null\n) {\n  const items = maybeItems ?? [];\n  const visibleItems = items.slice(0, splitIndex);\n  const overflowItems = items.slice(splitIndex);\n\n  if (overflowItems.length === 1) {\n    return { visibleItems: items, overflowItems: [] };\n  }\n\n  if (activeId && overflowItems.length > 0 && visibleItems.length > 0) {\n    const activeInOverflow = overflowItems.find(item => item.id === activeId);\n    if (activeInOverflow) {\n      overflowItems.splice(overflowItems.indexOf(activeInOverflow), 1);\n      overflowItems.unshift(visibleItems.pop()!);\n      visibleItems.push(activeInOverflow);\n    }\n  }\n  return { visibleItems, overflowItems };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport {\n  ButtonDropdownProps,\n  InternalButtonDropdownProps,\n  InternalItemOrGroup,\n} from '../../button-dropdown/interfaces';\nimport InternalButtonDropdown from '../../button-dropdown/internal';\nimport { CancelableEventHandler } from '../../internal/events';\nimport { AppLayoutProps } from '../interfaces';\n\nimport testutilStyles from '../test-classes/styles.css.js';\n\ntype Drawer = AppLayoutProps.Drawer & { active?: boolean };\n\ninterface OverflowMenuProps {\n  items: Array<Drawer>;\n  onItemClick: CancelableEventHandler<ButtonDropdownProps.ItemClickDetails>;\n  customTriggerBuilder?: InternalButtonDropdownProps['customTriggerBuilder'];\n  ariaLabel?: string;\n  globalDrawersStartIndex?: number;\n}\n\nconst mapDrawerToItem = (drawer: Drawer, isTypeCheckbox: boolean) => ({\n  id: drawer.id,\n  text: drawer.ariaLabels.drawerName,\n  iconName: drawer.trigger!.iconName,\n  iconSvg: drawer.trigger!.iconSvg,\n  badge: drawer.badge,\n  itemType: isTypeCheckbox ? ('checkbox' as ButtonDropdownProps.ItemType) : undefined,\n  checked: drawer.active,\n});\n\nexport default function OverflowMenu({\n  items: drawers,\n  onItemClick,\n  customTriggerBuilder,\n  ariaLabel,\n  globalDrawersStartIndex,\n}: OverflowMenuProps) {\n  const hasGlobalDrawers = globalDrawersStartIndex !== undefined;\n  const itemsFlatList = drawers.map((item, index) =>\n    mapDrawerToItem(item, hasGlobalDrawers && index >= globalDrawersStartIndex)\n  );\n  let items: ReadonlyArray<InternalItemOrGroup>;\n  if (hasGlobalDrawers) {\n    items = [\n      { items: itemsFlatList.slice(0, globalDrawersStartIndex) },\n      { items: itemsFlatList.slice(globalDrawersStartIndex) },\n    ];\n  } else {\n    items = itemsFlatList;\n  }\n\n  return (\n    <InternalButtonDropdown\n      items={items}\n      className={testutilStyles['overflow-menu']}\n      onItemClick={onItemClick}\n      ariaLabel={ariaLabel}\n      variant=\"icon\"\n      customTriggerBuilder={customTriggerBuilder}\n      expandToViewport={true}\n    />\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"toggle\": \"awsui_toggle_1uo6m_o2dyh_193\",\n  \"drawer-triggers\": \"awsui_drawer-triggers_1uo6m_o2dyh_199\",\n  \"drawer\": \"awsui_drawer_1uo6m_o2dyh_199\",\n  \"drawer-mobile\": \"awsui_drawer-mobile_1uo6m_o2dyh_209\",\n  \"drawer-closed\": \"awsui_drawer-closed_1uo6m_o2dyh_212\",\n  \"drawer-content\": \"awsui_drawer-content_1uo6m_o2dyh_219\",\n  \"drawer-content-clickable\": \"awsui_drawer-content-clickable_1uo6m_o2dyh_233\",\n  \"drawer-resize-content\": \"awsui_drawer-resize-content_1uo6m_o2dyh_243\",\n  \"drawer-content-wrapper\": \"awsui_drawer-content-wrapper_1uo6m_o2dyh_248\",\n  \"drawer-triggers-wrapper\": \"awsui_drawer-triggers-wrapper_1uo6m_o2dyh_252\",\n  \"drawer-trigger\": \"awsui_drawer-trigger_1uo6m_o2dyh_199\",\n  \"drawer-trigger-active\": \"awsui_drawer-trigger-active_1uo6m_o2dyh_271\",\n  \"resize-handle-wrapper\": \"awsui_resize-handle-wrapper_1uo6m_o2dyh_279\",\n  \"hide\": \"awsui_hide_1uo6m_o2dyh_289\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\n\nimport PanelResizeHandle from '../../internal/components/panel-resize-handle';\nimport { getLimitedValue } from '../../split-panel/utils/size-utils';\nimport { SizeControlProps } from '../utils/interfaces';\nimport { TOOLS_DRAWER_ID } from '../utils/use-drawers';\nimport { useKeyboardEvents } from '../utils/use-keyboard-events';\nimport { usePointerEvents } from '../utils/use-pointer-events';\nimport { Drawer } from './index';\nimport { ResizableDrawerProps } from './interfaces';\n\nimport testutilStyles from '../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\nexport const ResizableDrawer = ({\n  onResize,\n  maxWidth,\n  minWidth,\n  refs,\n  activeDrawer,\n  toolsContent,\n  ...props\n}: ResizableDrawerProps) => {\n  const { isOpen, children, width, isMobile } = props;\n\n  const clampedWidth = getLimitedValue(minWidth, width, maxWidth);\n  const relativeSize = ((clampedWidth - minWidth) / (maxWidth - minWidth)) * 100;\n\n  const setSidePanelWidth = (newWidth: number) => {\n    const size = getLimitedValue(minWidth, newWidth, maxWidth);\n    const id = activeDrawer?.id;\n\n    if (isOpen && id && maxWidth >= minWidth) {\n      onResize({ size, id });\n    }\n  };\n\n  const drawerRefObject = useRef<HTMLDivElement>(null);\n\n  const sizeControlProps: SizeControlProps = {\n    position: 'side',\n    panelRef: drawerRefObject,\n    handleRef: refs.slider,\n    onResize: setSidePanelWidth,\n  };\n\n  const onSliderPointerDown = usePointerEvents(sizeControlProps);\n  const { onKeyDown, onDirectionClick } = useKeyboardEvents(sizeControlProps);\n\n  return (\n    <Drawer\n      {...props}\n      id={activeDrawer?.id}\n      width={clampedWidth}\n      ref={drawerRefObject}\n      isHidden={!activeDrawer}\n      resizeHandle={\n        !isMobile &&\n        activeDrawer?.resizable && (\n          <PanelResizeHandle\n            ref={refs.slider}\n            position=\"side\"\n            className={testutilStyles['drawers-slider']}\n            ariaLabel={activeDrawer?.ariaLabels?.resizeHandle}\n            tooltipText={activeDrawer?.ariaLabels?.resizeHandleTooltipText}\n            ariaValuenow={relativeSize}\n            onKeyDown={onKeyDown}\n            onDirectionClick={onDirectionClick}\n            onPointerDown={onSliderPointerDown}\n          />\n        )\n      }\n      ariaLabels={{\n        openLabel: activeDrawer?.ariaLabels?.triggerButton,\n        mainLabel: activeDrawer?.ariaLabels?.drawerName,\n        closeLabel: activeDrawer?.ariaLabels?.closeButton,\n      }}\n    >\n      {toolsContent && <div className={clsx(activeDrawer?.id !== TOOLS_DRAWER_ID && styles.hide)}>{toolsContent}</div>}\n      {activeDrawer?.id !== TOOLS_DRAWER_ID ? children : null}\n    </Drawer>\n  );\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { useInternalI18n } from '../../do-not-use/i18n';\nimport InternalDragHandle, { DragHandleProps } from '../drag-handle';\n\nimport styles from './styles.css.js';\n\ninterface ResizeHandleProps {\n  className?: string;\n  ariaLabel: string | undefined;\n  tooltipText?: string | undefined;\n  position: 'side-start' | 'side' | 'bottom';\n  ariaValuenow: number;\n  onDirectionClick: DragHandleProps['onDirectionClick'];\n  onKeyDown: (event: React.KeyboardEvent<HTMLElement>) => void;\n  onPointerDown: (event: React.PointerEvent<HTMLElement>) => void;\n  disabled?: boolean;\n}\n\nexport default React.forwardRef<HTMLDivElement, ResizeHandleProps>(function PanelResizeHandle(\n  { className, ariaLabel, tooltipText, ariaValuenow, position, onDirectionClick, onKeyDown, onPointerDown, disabled },\n  ref\n) {\n  const i18n = useInternalI18n('panel-resize-handle');\n  return (\n    <InternalDragHandle\n      className={clsx(className, styles.slider, styles[`slider-${position}`])}\n      ariaLabel={i18n('i18nStrings.resizeHandleAriaLabel', ariaLabel)}\n      tooltipText={i18n('i18nStrings.resizeHandleTooltipText', tooltipText)}\n      ariaValue={{ valueMin: 0, valueMax: 100, valueNow: ariaValuenow ?? 0 }}\n      variant={['side', 'side-start'].includes(position) ? 'resize-horizontal' : 'resize-vertical'}\n      directions={\n        disabled\n          ? {\n              'inline-start': 'disabled',\n              'inline-end': 'disabled',\n            }\n          : position === 'side'\n            ? {\n                'inline-end': ariaValuenow === 0 ? 'disabled' : 'active',\n                'inline-start': ariaValuenow === 100 ? 'disabled' : 'active',\n              }\n            : position === 'side-start'\n              ? {\n                  'inline-end': ariaValuenow === 100 ? 'disabled' : 'active',\n                  'inline-start': ariaValuenow === 0 ? 'disabled' : 'active',\n                }\n              : {\n                  'block-end': ariaValuenow === 0 ? 'disabled' : 'active',\n                  'block-start': ariaValuenow === 100 ? 'disabled' : 'active',\n                }\n      }\n      onDirectionClick={onDirectionClick}\n      onKeyDown={onKeyDown}\n      onPointerDown={onPointerDown}\n      ref={ref}\n    />\n  );\n});\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef } from 'react';\n\nimport { getBaseProps } from '../../base-component';\nimport DragHandleWrapper from '../drag-handle-wrapper';\nimport DragHandleButton from './button';\nimport { DragHandleProps } from './interfaces';\n\nexport { DragHandleProps };\n\nconst InternalDragHandle = forwardRef(\n  (\n    {\n      variant,\n      size,\n      ariaLabel,\n      ariaLabelledBy,\n      ariaDescribedby,\n      tooltipText,\n      ariaValue,\n      disabled,\n      directions = {},\n      onPointerDown,\n      onClick,\n      onKeyDown,\n      onDirectionClick,\n      triggerMode,\n      initialShowButtons,\n      controlledShowButtons,\n      hideButtonsOnDrag = false,\n      clickDragThreshold = 3,\n      active,\n      ...rest\n    }: DragHandleProps,\n    ref: React.Ref<Element>\n  ) => {\n    const baseProps = getBaseProps(rest);\n\n    return (\n      <DragHandleWrapper\n        directions={!disabled ? directions : {}}\n        tooltipText={tooltipText}\n        onDirectionClick={onDirectionClick}\n        triggerMode={triggerMode}\n        initialShowButtons={initialShowButtons}\n        controlledShowButtons={controlledShowButtons}\n        hideButtonsOnDrag={hideButtonsOnDrag}\n        clickDragThreshold={clickDragThreshold}\n      >\n        <DragHandleButton\n          ref={ref}\n          className={baseProps.className}\n          variant={variant}\n          size={size}\n          ariaLabel={ariaLabel}\n          ariaLabelledBy={ariaLabelledBy}\n          ariaDescribedby={ariaDescribedby}\n          ariaValue={ariaValue}\n          disabled={disabled}\n          active={active}\n          onPointerDown={onPointerDown}\n          onClick={onClick}\n          onKeyDown={onKeyDown}\n        />\n      </DragHandleWrapper>\n    );\n  }\n);\n\nexport default InternalDragHandle;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useMergeRefs } from '@cloudscape-design/component-toolkit/internal';\n\nimport { IconProps } from '../../../icon/interfaces';\nimport InternalIcon from '../../../icon/internal';\nimport { DragHandleProps } from './interfaces';\nimport { ResizeIcon } from './resize-icon';\n\nimport styles from './styles.css.js';\nimport testUtilsStyles from './test-classes/styles.css.js';\n\nconst DragHandleButton = forwardRef(\n  (\n    {\n      variant = 'drag-indicator',\n      size = 'normal',\n      active = false,\n      className,\n      ariaLabel,\n      ariaLabelledBy,\n      ariaDescribedby,\n      ariaValue,\n      disabled,\n      onPointerDown,\n      onClick,\n      onKeyDown,\n    }: DragHandleProps,\n    ref: React.Ref<Element>\n  ) => {\n    const dragHandleRefObject = useRef<HTMLDivElement>(null);\n\n    const iconProps: IconProps = (() => {\n      const shared = {\n        variant: disabled ? ('disabled' as const) : undefined,\n        size,\n      };\n      switch (variant) {\n        case 'drag-indicator':\n          return { ...shared, name: 'drag-indicator' };\n        case 'resize-area':\n          return { ...shared, name: 'resize-area' };\n        case 'resize-horizontal':\n          return { ...shared, svg: <ResizeIcon variant=\"horizontal\" /> };\n        case 'resize-vertical':\n          return { ...shared, svg: <ResizeIcon variant=\"vertical\" /> };\n      }\n    })();\n\n    return (\n      // We need to use a div with button role instead of a button\n      // so that Safari will focus on it when clicking it.\n      // (See https://bugs.webkit.org/show_bug.cgi?id=22261)\n      // Otherwise, we can't reliably catch keyboard events coming from the handle\n      // when it is being dragged.\n      <div\n        ref={useMergeRefs(ref, dragHandleRefObject)}\n        role={ariaValue ? 'slider' : 'application'}\n        tabIndex={0}\n        className={clsx(\n          className,\n          styles.handle,\n          testUtilsStyles.root,\n          styles[`handle-${variant}`],\n          styles[`handle-size-${size}`],\n          disabled && styles['handle-disabled'],\n          active && styles.active\n        )}\n        aria-label={ariaLabel}\n        aria-labelledby={ariaLabelledBy}\n        aria-describedby={ariaDescribedby}\n        aria-disabled={disabled}\n        aria-valuemax={ariaValue?.valueMax}\n        aria-valuemin={ariaValue?.valueMin}\n        aria-valuenow={ariaValue?.valueNow}\n        onPointerDown={onPointerDown}\n        onClick={onClick}\n        onKeyDown={onKeyDown}\n      >\n        {/* ensure that events happen on the parent div, not the icon */}\n        <div className={styles['prevent-pointer']}>\n          <InternalIcon {...iconProps} />\n        </div>\n      </div>\n    );\n  }\n);\n\nexport default DragHandleButton;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport styles from './styles.css.js';\n\ninterface ResizeIconProps {\n  variant: 'horizontal' | 'vertical';\n}\n\nexport function ResizeIcon({ variant }: ResizeIconProps) {\n  return (\n    <svg\n      focusable=\"false\"\n      className={clsx(styles['resize-icon'], styles[`resize-icon-${variant}`])}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      viewBox=\"0 0 16 16\"\n      aria-hidden={true}\n    >\n      <path d=\"M2 8H14\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n    </svg>\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"handle\": \"awsui_handle_sdha6_45ome_145\",\n  \"handle-size-normal\": \"awsui_handle-size-normal_sdha6_45ome_153\",\n  \"handle-size-small\": \"awsui_handle-size-small_sdha6_45ome_157\",\n  \"handle-drag-indicator\": \"awsui_handle-drag-indicator_sdha6_45ome_160\",\n  \"handle-disabled\": \"awsui_handle-disabled_sdha6_45ome_160\",\n  \"active\": \"awsui_active_sdha6_45ome_163\",\n  \"handle-resize-area\": \"awsui_handle-resize-area_sdha6_45ome_166\",\n  \"handle-resize-horizontal\": \"awsui_handle-resize-horizontal_sdha6_45ome_173\",\n  \"handle-resize-vertical\": \"awsui_handle-resize-vertical_sdha6_45ome_176\",\n  \"hide-focus\": \"awsui_hide-focus_sdha6_45ome_186\",\n  \"resize-icon\": \"awsui_resize-icon_sdha6_45ome_208\",\n  \"resize-icon-vertical\": \"awsui_resize-icon-vertical_sdha6_45ome_214\",\n  \"resize-icon-horizontal\": \"awsui_resize-icon-horizontal_sdha6_45ome_218\",\n  \"prevent-pointer\": \"awsui_prevent-pointer_sdha6_45ome_222\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1om0h_im8v7_5\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"slider\": \"awsui_slider_cqzlk_pwkoj_145\",\n  \"slider-side\": \"awsui_slider-side_cqzlk_pwkoj_179\",\n  \"slider-side-start\": \"awsui_slider-side-start_cqzlk_pwkoj_180\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { Direction } from '../../internal/components/drag-handle-wrapper/interfaces';\nimport handleKey from '../../internal/utils/handle-key';\nimport { SizeControlProps } from './interfaces';\n\nconst KEYBOARD_SINGLE_STEP_SIZE = 10;\nconst KEYBOARD_MULTIPLE_STEPS_SIZE = 60;\n\nconst getCurrentSize = (panelRef?: React.RefObject<HTMLDivElement>) => {\n  if (!panelRef || !panelRef.current) {\n    return {\n      panelHeight: 0,\n      panelWidth: 0,\n    };\n  }\n\n  return {\n    panelHeight: panelRef.current.clientHeight,\n    panelWidth: panelRef.current.clientWidth,\n  };\n};\n\nexport const useKeyboardEvents = ({ position, onResize, panelRef }: SizeControlProps) => {\n  return {\n    onDirectionClick: (direction: Direction) => {\n      let currentSize: number;\n\n      const { panelHeight, panelWidth } = getCurrentSize(panelRef);\n\n      if (['side', 'side-start'].includes(position)) {\n        currentSize = panelWidth;\n      } else {\n        currentSize = panelHeight;\n      }\n\n      const singleStepUp = () => onResize(currentSize + KEYBOARD_SINGLE_STEP_SIZE);\n      const singleStepDown = () => onResize(currentSize - KEYBOARD_SINGLE_STEP_SIZE);\n\n      switch (direction) {\n        case 'block-start':\n        case 'inline-start':\n          position === 'side-start' ? singleStepDown() : singleStepUp();\n          break;\n        case 'block-end':\n        case 'inline-end':\n          position === 'side-start' ? singleStepUp() : singleStepDown();\n          break;\n      }\n    },\n\n    onKeyDown: (event: React.KeyboardEvent<HTMLElement>) => {\n      let currentSize: number;\n      let maxSize: number;\n\n      const { panelHeight, panelWidth } = getCurrentSize(panelRef);\n\n      if (['side', 'side-start'].includes(position)) {\n        currentSize = panelWidth;\n        // don't need the exact max size as it's constrained in the set size function\n        maxSize = window.innerWidth;\n      } else {\n        currentSize = panelHeight;\n        // don't need the exact max size as it's constrained in the set size function\n        maxSize = window.innerHeight;\n      }\n\n      let isEventHandled = true;\n\n      const singleStepUp = () => onResize(currentSize + KEYBOARD_SINGLE_STEP_SIZE);\n      const singleStepDown = () => onResize(currentSize - KEYBOARD_SINGLE_STEP_SIZE);\n      const multipleStepUp = () => onResize(currentSize + KEYBOARD_MULTIPLE_STEPS_SIZE);\n      const multipleStepDown = () => onResize(currentSize - KEYBOARD_MULTIPLE_STEPS_SIZE);\n\n      handleKey(event, {\n        onBlockStart: () => {\n          ['bottom', 'side-start'].includes(position) ? singleStepUp() : singleStepDown();\n        },\n        onBlockEnd: () => {\n          ['bottom', 'side-start'].includes(position) ? singleStepDown() : singleStepUp();\n        },\n        onInlineEnd: () => {\n          ['bottom', 'side-start'].includes(position) ? singleStepUp() : singleStepDown();\n        },\n        onInlineStart: () => {\n          ['bottom', 'side-start'].includes(position) ? singleStepDown() : singleStepUp();\n        },\n        onPageDown: () => multipleStepDown(),\n        onPageUp: () => multipleStepUp(),\n        onHome: () => onResize(maxSize),\n        onEnd: () => onResize(0),\n        onDefault: () => (isEventHandled = false),\n      });\n\n      if (isEventHandled) {\n        event.preventDefault();\n      }\n    },\n  };\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback } from 'react';\n\nimport {\n  getIsRtl,\n  getLogicalBoundingClientRect,\n  getLogicalClientX,\n} from '@cloudscape-design/component-toolkit/internal';\n\nimport { SizeControlProps } from './interfaces';\n\nimport styles from '../resize/styles.css.js';\n\nexport const usePointerEvents = ({ position, panelRef, handleRef, onResize }: SizeControlProps) => {\n  const onDocumentPointerMove = useCallback(\n    (event: PointerEvent) => {\n      if (!panelRef || !panelRef.current || !handleRef || !handleRef.current) {\n        return;\n      }\n\n      if (position === 'side') {\n        const mouseClientX = getLogicalClientX(event, getIsRtl(panelRef.current)) || 0;\n\n        // The handle offset aligns the cursor with the middle of the resize handle.\n        const handleOffset = getLogicalBoundingClientRect(handleRef.current).inlineSize / 2;\n        const width = getLogicalBoundingClientRect(panelRef.current).insetInlineEnd - mouseClientX + handleOffset;\n\n        onResize(width);\n      } else if (position === 'side-start') {\n        const mouseClientX = getLogicalClientX(event, getIsRtl(panelRef.current)) || 0;\n\n        // The handle offset aligns the cursor with the middle of the resize handle.\n        const handleOffset = getLogicalBoundingClientRect(handleRef.current).inlineSize / 2;\n        const panelBoundingClientRect = getLogicalBoundingClientRect(panelRef.current);\n        const width = mouseClientX + handleOffset - panelBoundingClientRect.insetInlineStart;\n\n        onResize(width);\n      } else {\n        const mouseClientY = event.clientY || 0;\n\n        // The handle offset aligns the cursor with the middle of the resize handle.\n        const handleOffset = getLogicalBoundingClientRect(handleRef.current).blockSize / 2;\n        const height = getLogicalBoundingClientRect(panelRef.current).insetBlockEnd - mouseClientY + handleOffset;\n\n        onResize(height);\n      }\n    },\n    [position, panelRef, handleRef, onResize]\n  );\n\n  const onDocumentPointerUp = useCallback(() => {\n    const panelElement = panelRef?.current;\n    /* istanbul ignore if  */\n    if (!panelElement) {\n      return;\n    }\n    const currentDocument = panelElement.ownerDocument;\n\n    currentDocument.body.classList.remove(styles['resize-active']);\n    currentDocument.body.classList.remove(styles[`resize-${position}`]);\n    currentDocument.removeEventListener('pointerup', onDocumentPointerUp);\n    currentDocument.removeEventListener('pointermove', onDocumentPointerMove);\n  }, [panelRef, onDocumentPointerMove, position]);\n\n  const onSliderPointerDown = useCallback(() => {\n    const panelElement = panelRef?.current;\n    /* istanbul ignore if  */\n    if (!panelElement) {\n      return;\n    }\n    const currentDocument = panelElement.ownerDocument;\n    currentDocument.body.classList.add(styles['resize-active']);\n    currentDocument.body.classList.add(styles[`resize-${position}`]);\n    currentDocument.addEventListener('pointerup', onDocumentPointerUp);\n    currentDocument.addEventListener('pointermove', onDocumentPointerMove);\n  }, [panelRef, onDocumentPointerMove, onDocumentPointerUp, position]);\n\n  return onSliderPointerDown;\n};\n", "\n    import './styles.scoped.css';\n    export default {\n  \"with-motion-vertical\": \"awsui_with-motion-vertical_b18tp_kcmcc_146\",\n  \"with-motion-horizontal\": \"awsui_with-motion-horizontal_b18tp_kcmcc_165\",\n  \"resize-active\": \"awsui_resize-active_b18tp_kcmcc_184\",\n  \"resize-side\": \"awsui_resize-side_b18tp_kcmcc_195\",\n  \"resize-bottom\": \"awsui_resize-bottom_b18tp_kcmcc_198\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect } from 'react';\nimport clsx from 'clsx';\n\nimport { ButtonProps } from '../../button/interfaces';\nimport { splitItems } from '../drawer/drawers-helpers';\nimport OverflowMenu from '../drawer/overflow-menu';\nimport { AppLayoutProps } from '../interfaces';\nimport { ToggleButton, togglesConfig } from '../toggles';\nimport { TOOLS_DRAWER_ID } from '../utils/use-drawers';\n\nimport sharedStyles from '../styles.css.js';\nimport testutilStyles from '../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\ninterface MobileToggleProps {\n  className?: string;\n  ariaLabels?: AppLayoutProps.Labels;\n  type: keyof typeof togglesConfig;\n  disabled?: boolean;\n  onClick: () => void;\n}\nconst MobileToggle = React.forwardRef(\n  ({ className, ariaLabels, type, disabled, onClick }: MobileToggleProps, ref: React.Ref<ButtonProps.Ref>) => {\n    const { TagName, iconName, getLabels } = togglesConfig[type];\n    const { mainLabel, openLabel } = getLabels(ariaLabels);\n\n    return (\n      <TagName\n        className={clsx(styles['mobile-toggle'], styles[`mobile-toggle-type-${type}`])}\n        aria-hidden={disabled}\n        aria-label={mainLabel}\n        onClick={e => e.target === e.currentTarget && onClick()}\n      >\n        <ToggleButton\n          ref={ref}\n          className={className}\n          iconName={iconName}\n          onClick={onClick}\n          ariaLabel={openLabel}\n          disabled={disabled}\n          ariaExpanded={disabled}\n        />\n      </TagName>\n    );\n  }\n);\ninterface MobileToolbarProps {\n  anyPanelOpen: boolean;\n  unfocusable: boolean | undefined;\n  toggleRefs: {\n    navigation: React.Ref<ButtonProps.Ref>;\n    tools: React.Ref<ButtonProps.Ref>;\n  };\n  navigationHide: boolean | undefined;\n  toolsHide: boolean | undefined;\n  topOffset?: number;\n  ariaLabels: AppLayoutProps.Labels | undefined;\n  mobileBarRef: React.Ref<HTMLDivElement>;\n  children: React.ReactNode;\n  onNavigationOpen: () => void;\n  onToolsOpen: () => void;\n  drawers: Array<AppLayoutProps.Drawer> | undefined;\n  activeDrawerId: string | null;\n  onDrawerChange: (newDrawerId: string | null) => void;\n}\n\nexport function MobileToolbar({\n  ariaLabels,\n  toggleRefs,\n  topOffset,\n  navigationHide,\n  toolsHide,\n  anyPanelOpen,\n  unfocusable,\n  drawers,\n  activeDrawerId,\n  children,\n  onNavigationOpen,\n  onToolsOpen,\n  onDrawerChange,\n  mobileBarRef,\n}: MobileToolbarProps) {\n  useEffect(() => {\n    if (anyPanelOpen) {\n      document.body.classList.add(styles['block-body-scroll']);\n      return () => {\n        document.body.classList.remove(styles['block-body-scroll']);\n      };\n    } else {\n      document.body.classList.remove(styles['block-body-scroll']);\n    }\n  }, [anyPanelOpen]);\n\n  const { overflowItems, visibleItems } = splitItems(drawers, 2, activeDrawerId);\n  const overflowMenuHasBadge = !!overflowItems.find(item => item.badge);\n\n  return (\n    <div\n      ref={mobileBarRef}\n      className={clsx(styles['mobile-bar'], testutilStyles['mobile-bar'], unfocusable && sharedStyles.unfocusable)}\n      style={{ top: topOffset }}\n    >\n      {!navigationHide && (\n        <MobileToggle\n          ref={toggleRefs.navigation}\n          type=\"navigation\"\n          className={testutilStyles['navigation-toggle']}\n          ariaLabels={ariaLabels}\n          disabled={anyPanelOpen}\n          onClick={onNavigationOpen}\n        />\n      )}\n      <div className={styles['mobile-bar-breadcrumbs']}>\n        {children && <div className={testutilStyles.breadcrumbs}>{children}</div>}\n      </div>\n      {!toolsHide && !drawers && (\n        <MobileToggle\n          ref={toggleRefs.tools}\n          type=\"tools\"\n          className={testutilStyles['tools-toggle']}\n          ariaLabels={ariaLabels}\n          disabled={anyPanelOpen}\n          onClick={onToolsOpen}\n        />\n      )}\n      {drawers && (\n        <aside aria-label={ariaLabels?.drawers} role=\"region\">\n          <div\n            className={styles['drawers-container']}\n            aria-label={ariaLabels?.drawers}\n            role=\"toolbar\"\n            aria-orientation=\"horizontal\"\n          >\n            {visibleItems.map((item, index) => (\n              <div\n                className={clsx(styles['mobile-toggle'], styles['mobile-toggle-type-drawer'])}\n                key={index}\n                onClick={() => onDrawerChange(item.id)}\n              >\n                <ToggleButton\n                  className={clsx(\n                    testutilStyles['drawers-trigger'],\n                    item.id === TOOLS_DRAWER_ID && testutilStyles['tools-toggle']\n                  )}\n                  iconName={item.trigger!.iconName}\n                  iconSvg={item.trigger!.iconSvg}\n                  badge={item.badge}\n                  ariaLabel={item.ariaLabels?.triggerButton}\n                  ariaExpanded={activeDrawerId === item.id}\n                  testId={`awsui-app-layout-trigger-${item.id}`}\n                />\n              </div>\n            ))}\n            {overflowItems.length > 0 && (\n              <div className={clsx(styles['mobile-toggle'], styles['mobile-toggle-type-drawer'])}>\n                <OverflowMenu\n                  ariaLabel={overflowMenuHasBadge ? ariaLabels?.drawersOverflowWithBadge : ariaLabels?.drawersOverflow}\n                  items={overflowItems}\n                  onItemClick={({ detail }) => onDrawerChange(detail.id)}\n                />\n              </div>\n            )}\n          </div>\n        </aside>\n      )}\n    </div>\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_lm6vo_j45og_153\",\n  \"root-no-scroll\": \"awsui_root-no-scroll_lm6vo_j45og_160\",\n  \"layout\": \"awsui_layout_lm6vo_j45og_165\",\n  \"layout-no-scroll\": \"awsui_layout-no-scroll_lm6vo_j45og_171\",\n  \"layout-main\": \"awsui_layout-main_lm6vo_j45og_175\",\n  \"layout-main-scrollable\": \"awsui_layout-main-scrollable_lm6vo_j45og_181\",\n  \"unfocusable\": \"awsui_unfocusable_lm6vo_j45og_186\",\n  \"breadcrumbs-desktop\": \"awsui_breadcrumbs-desktop_lm6vo_j45og_190\",\n  \"content-header-wrapper\": \"awsui_content-header-wrapper_lm6vo_j45og_195\",\n  \"content-wrapper\": \"awsui_content-wrapper_lm6vo_j45og_199\",\n  \"content-overlapped\": \"awsui_content-overlapped_lm6vo_j45og_203\",\n  \"content-extra-top-padding\": \"awsui_content-extra-top-padding_lm6vo_j45og_207\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"block-body-scroll\": \"awsui_block-body-scroll_19d8l_ug653_153\",\n  \"mobile-bar\": \"awsui_mobile-bar_19d8l_ug653_157\",\n  \"mobile-bar-breadcrumbs\": \"awsui_mobile-bar-breadcrumbs_19d8l_ug653_170\",\n  \"mobile-toggle\": \"awsui_mobile-toggle_19d8l_ug653_177\",\n  \"mobile-toggle-type-navigation\": \"awsui_mobile-toggle-type-navigation_19d8l_ug653_186\",\n  \"mobile-toggle-type-tools\": \"awsui_mobile-toggle-type-tools_19d8l_ug653_189\",\n  \"mobile-toggle-type-drawer\": \"awsui_mobile-toggle-type-drawer_19d8l_ug653_189\",\n  \"drawers-container\": \"awsui_drawers-container_19d8l_ug653_196\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { AppLayoutProps } from '../interfaces';\n\nimport styles from './styles.css.js';\n\ninterface NotificationsProps {\n  testUtilsClassName: string;\n  children?: React.ReactNode;\n  labels: AppLayoutProps.Labels | undefined;\n  topOffset: number | undefined;\n  disableContentPaddings?: boolean;\n}\ninterface NotificationWrapperProps extends NotificationsProps {\n  sticky: boolean | undefined;\n}\n\nexport const Notifications = React.forwardRef(\n  ({ sticky, disableContentPaddings, ...props }: NotificationWrapperProps, ref: React.Ref<HTMLDivElement>) => {\n    return sticky ? (\n      <div ref={ref} className={styles['notifications-sticky']} style={{ top: props.topOffset }}>\n        <div\n          role=\"region\"\n          className={clsx(props.testUtilsClassName, disableContentPaddings && styles['no-content-paddings'])}\n          aria-label={props.labels?.notifications}\n        >\n          {props.children}\n        </div>\n      </div>\n    ) : (\n      <div\n        role=\"region\"\n        ref={ref}\n        className={clsx(\n          props.testUtilsClassName,\n          styles.notifications,\n          disableContentPaddings && styles['no-content-paddings']\n        )}\n        aria-label={props.labels?.notifications}\n      >\n        {props.children}\n      </div>\n    );\n  }\n);\n", "\n    import './styles.scoped.css';\n    export default {\n  \"notifications\": \"awsui_notifications_1hmm4_bgqmz_9\",\n  \"notifications-sticky\": \"awsui_notifications-sticky_1hmm4_bgqmz_10\",\n  \"no-content-paddings\": \"awsui_no-content-paddings_1hmm4_bgqmz_25\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const SPLIT_PANEL_MIN_HEIGHT = 160;\nexport const SPLIT_PANEL_MIN_WIDTH = 280;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { useSplitPanelContext } from '../../internal/context/split-panel-context';\n\nimport styles from './styles.css.js';\n\ninterface SideSplitPanelDrawer {\n  displayed: boolean;\n  children: React.ReactNode;\n}\n\nexport function SideSplitPanelDrawer({ displayed, children }: SideSplitPanelDrawer) {\n  const { isOpen, size, topOffset, bottomOffset } = useSplitPanelContext();\n  const width = isOpen && children ? size : undefined;\n  return (\n    <div\n      className={clsx(displayed && styles['drawer-displayed'])}\n      style={{ width }}\n      data-testid=\"side-split-panel-drawer\"\n    >\n      <div className={styles['drawer-content']} style={{ width: width, top: topOffset, bottom: bottomOffset }}>\n        {children}\n      </div>\n    </div>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useContext } from 'react';\n\nimport { SplitPanelFocusControlRefs } from '../../app-layout/utils/use-split-panel-focus-control';\nimport { awsuiPluginsInternal } from '../plugins/api';\n\nexport interface SplitPanelSideToggleProps {\n  displayed: boolean;\n  ariaLabel: string | undefined;\n}\n\nexport interface SplitPanelContextBaseProps {\n  topOffset: number;\n  bottomOffset: number;\n  leftOffset: number;\n  rightOffset: number;\n  position: 'side' | 'bottom';\n  size: number;\n  disableContentPaddings?: boolean;\n  contentWidthStyles?: React.CSSProperties;\n  contentWrapperPaddings?: {\n    closedNav: boolean;\n    closedTools: boolean;\n  };\n  isOpen?: boolean;\n  isForcedPosition: boolean;\n  onResize: (newSize: number) => void;\n  onToggle: () => void;\n  onPreferencesChange: (detail: { position: 'side' | 'bottom' }) => void;\n  reportHeaderHeight: (pixels: number) => void;\n  headerHeight?: number;\n  setSplitPanelToggle: (config: SplitPanelSideToggleProps) => void;\n  refs: SplitPanelFocusControlRefs;\n}\n\nexport interface SplitPanelContextProps extends SplitPanelContextBaseProps {\n  relativeSize: number;\n  animationDisabled?: boolean;\n}\n\nconst AppLayoutWidgetSplitPanelContext =\n  awsuiPluginsInternal.sharedReactContexts.createContext<SplitPanelContextProps | null>(\n    React,\n    'AppLayoutWidgetSplitPanelContext'\n  );\n\nexport const SplitPanelContextProvider = AppLayoutWidgetSplitPanelContext.Provider;\n\nexport function useSplitPanelContext() {\n  const ctx = useContext(AppLayoutWidgetSplitPanelContext);\n  if (!ctx) {\n    throw new Error('Split panel can only be used inside app layout');\n  }\n  return ctx;\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"drawer-displayed\": \"awsui_drawer-displayed_1lh3u_16xqy_149\",\n  \"drawer-content\": \"awsui_drawer-content_1lh3u_16xqy_153\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useState } from 'react';\n\nimport { SplitPanelContextBaseProps, SplitPanelContextProvider } from '../../internal/context/split-panel-context';\nimport { getLimitedValue } from '../../split-panel/utils/size-utils';\nimport { SPLIT_PANEL_MIN_HEIGHT, SPLIT_PANEL_MIN_WIDTH } from './constants';\n\nexport interface SplitPanelProviderProps extends SplitPanelContextBaseProps {\n  maxWidth: number;\n  reportSize: (size: number) => void;\n  getMaxHeight: () => number;\n  children?: React.ReactNode;\n  animationDisabled?: boolean;\n}\n\nexport function SplitPanelProvider({\n  children,\n  size,\n  getMaxHeight,\n  maxWidth,\n  reportSize,\n  onResize,\n  ...rest\n}: SplitPanelProviderProps) {\n  const { position, isOpen } = rest;\n  const [maxHeight, setMaxHeight] = useState(size);\n  const minSize = position === 'bottom' ? SPLIT_PANEL_MIN_HEIGHT : SPLIT_PANEL_MIN_WIDTH;\n  const maxSize = position === 'bottom' ? maxHeight : maxWidth;\n  const cappedSize = getLimitedValue(minSize, size, maxSize);\n  const relativeSize = ((size - minSize) / (maxSize - minSize)) * 100;\n\n  const onResizeWithValidation = (newSize: number) => {\n    const maxSize = position === 'side' ? maxWidth : getMaxHeight();\n    const isResizeValid = position === 'side' ? maxSize >= SPLIT_PANEL_MIN_WIDTH : maxSize >= SPLIT_PANEL_MIN_HEIGHT;\n    if (isOpen && isResizeValid) {\n      onResize(getLimitedValue(minSize, newSize, maxSize));\n    }\n  };\n\n  useEffect(() => {\n    if (position !== 'bottom') {\n      return;\n    }\n    // effects are called inside out in the components tree\n    // wait one frame to allow app-layout to complete its calculations\n    const handle = requestAnimationFrame(() => setMaxHeight(getMaxHeight()));\n    return () => cancelAnimationFrame(handle);\n  }, [size, minSize, position, getMaxHeight]);\n\n  useEffect(() => {\n    reportSize(cappedSize);\n  }, [reportSize, cappedSize]);\n\n  useEffect(() => {\n    if (position !== 'bottom') {\n      return;\n    }\n    const handler = () => setMaxHeight(getMaxHeight());\n    window.addEventListener('resize', handler);\n    return () => window.removeEventListener('resize', handler);\n  }, [position, getMaxHeight]);\n\n  return (\n    <SplitPanelContextProvider value={{ ...rest, size: cappedSize, relativeSize, onResize: onResizeWithValidation }}>\n      {children}\n    </SplitPanelContextProvider>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { browserScrollbarSize } from '../../internal/utils/browser-scrollbar-size';\nimport { SPLIT_PANEL_MIN_WIDTH } from './constants';\n\n/**\n * Even if the Split Panel is set to be displayed on the side, it will be forced to the bottom\n * if the available space is less than 280px.\n *\n * We also have to account for the fact that after the split panel changes its position\n * from bottom to side or vice versa, there is a chance that the content  a scrollbar appears or disappears from the page,\n * which changes the available space again. This could potentially lead to an infinite loop.\n * To prevent that, we give the split panel some \"resistance\" to change from bottom to side\n * (but not from side to bottom), requiring in this case some extra space on top of the \"nominal\" 280px.\n */\n\nfunction checkBasedOnPreviousPosition() {\n  let isForced = false; // Remember position for the next render\n  return (availableWidthForSplitPanel: number) => {\n    const minWidth = isForced ? SPLIT_PANEL_MIN_WIDTH + browserScrollbarSize().width : SPLIT_PANEL_MIN_WIDTH;\n    isForced = availableWidthForSplitPanel < minWidth;\n    return isForced;\n  };\n}\n\nconst checkForcedPosition = checkBasedOnPreviousPosition();\n\nexport function shouldSplitPanelBeForcedToBottom({\n  isMobile,\n  availableWidthForSplitPanel,\n}: {\n  isMobile: boolean;\n  availableWidthForSplitPanel: number;\n}) {\n  if (isMobile) {\n    return true;\n  }\n\n  return checkForcedPosition(availableWidthForSplitPanel);\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport globalVars from '../../internal/styles/global-vars';\n\nexport function getStickyOffsetVars(\n  headerHeight: number,\n  footerHeight: number,\n  stickyNotificationsHeight: string,\n  mobileToolbarHeight: string,\n  disableBodyScroll: boolean,\n  isMobile: boolean\n) {\n  return {\n    [globalVars.stickyVerticalTopOffset]: `calc(${!disableBodyScroll ? headerHeight : 0}px + ${\n      isMobile ? mobileToolbarHeight : stickyNotificationsHeight\n    })`,\n    [globalVars.stickyVerticalBottomOffset]: `${!disableBodyScroll ? footerHeight : 0}px`,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { createRef, RefObject, useCallback, useEffect, useRef } from 'react';\n\nexport interface Focusable {\n  focus(): void;\n}\n\nexport interface FocusControlRefs {\n  toggle: RefObject<Focusable>;\n  close: RefObject<Focusable>;\n  slider: RefObject<HTMLDivElement>;\n}\n\nexport interface FocusControlState {\n  refs: FocusControlRefs;\n  setFocus: (options?: { force: boolean; autoFocus?: boolean }) => void;\n  loseFocus: () => void;\n}\n\nexport interface FocusControlMultipleStates {\n  refs: Record<string, FocusControlRefs>;\n  setFocus: (params?: { force?: boolean; drawerId?: string; open?: boolean }) => void;\n  loseFocus: () => void;\n}\n\nexport function useMultipleFocusControl(\n  restoreFocus: boolean,\n  activeDrawersIds: Array<string>\n): FocusControlMultipleStates {\n  const refs = useRef<Record<string, FocusControlRefs>>({});\n\n  activeDrawersIds.forEach(drawerId => {\n    if (!refs.current[drawerId]) {\n      refs.current[drawerId] = {\n        toggle: createRef<Focusable>(),\n        close: createRef<Focusable>(),\n        slider: createRef<HTMLDivElement>(),\n      };\n    }\n  });\n\n  const doFocus = useCallback(\n    (drawerId: string, open = true) => {\n      const ref = refs.current[drawerId];\n      if (open) {\n        previousFocusedElement.current =\n          document.activeElement !== document.body ? (document.activeElement as HTMLElement) : undefined;\n        if (ref?.slider?.current) {\n          ref.slider.current?.focus();\n        } else {\n          ref?.close?.current?.focus();\n        }\n      } else {\n        if (restoreFocus && previousFocusedElement.current && document.contains(previousFocusedElement.current)) {\n          previousFocusedElement.current.focus();\n          previousFocusedElement.current = undefined;\n        } else {\n          ref?.toggle?.current?.focus();\n        }\n      }\n    },\n    [refs, restoreFocus]\n  );\n\n  const setFocus = (params?: { force?: boolean; drawerId?: string; open?: boolean }) => {\n    const { force = false, drawerId = null, open = true } = params || {};\n    if (force && (!drawerId || activeDrawersIds.includes(drawerId))) {\n      doFocus(drawerId!, open);\n    } else {\n      shouldFocus.current = true;\n    }\n  };\n\n  const loseFocus = useCallback(() => {\n    previousFocusedElement.current = undefined;\n  }, []);\n\n  const previousFocusedElement = useRef<HTMLElement>();\n  const shouldFocus = useRef(false);\n\n  useEffect(() => {\n    const drawerId = activeDrawersIds[0];\n    if (shouldFocus.current) {\n      Promise.resolve().then(() => {\n        doFocus(drawerId);\n        shouldFocus.current = false;\n      });\n    }\n  }, [activeDrawersIds, doFocus]);\n\n  return {\n    refs: refs.current,\n    setFocus,\n    loseFocus,\n  };\n}\n\nexport function useFocusControl(\n  isOpen: boolean,\n  restoreFocus = false,\n  activeDrawerId?: string | null\n): FocusControlState {\n  const refs = {\n    toggle: useRef<Focusable>(null),\n    close: useRef<Focusable>(null),\n    slider: useRef<HTMLDivElement>(null),\n  };\n  const previousFocusedElement = useRef<HTMLElement>();\n  const shouldFocus = useRef(false);\n\n  const doFocus = () => {\n    if (!shouldFocus.current) {\n      return;\n    }\n    if (isOpen) {\n      previousFocusedElement.current =\n        document.activeElement !== document.body ? (document.activeElement as HTMLElement) : undefined;\n      if (refs.slider.current) {\n        refs.slider.current?.focus();\n      } else {\n        refs.close.current?.focus();\n      }\n    } else {\n      if (restoreFocus && previousFocusedElement.current && document.contains(previousFocusedElement.current)) {\n        previousFocusedElement.current.focus();\n        previousFocusedElement.current = undefined;\n      } else {\n        refs.toggle.current?.focus();\n      }\n    }\n    shouldFocus.current = false;\n  };\n\n  const setFocus = ({ force, autoFocus = true }: { force: boolean; autoFocus?: boolean } = { force: false }) => {\n    if (force && isOpen) {\n      shouldFocus.current = true;\n      doFocus();\n    } else if (autoFocus) {\n      shouldFocus.current = true;\n    }\n  };\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(doFocus, [isOpen, activeDrawerId]);\n\n  const loseFocus = useCallback(() => {\n    previousFocusedElement.current = undefined;\n  }, []);\n\n  return {\n    refs,\n    setFocus,\n    loseFocus,\n  };\n}\n\nexport function useAsyncFocusControl(\n  isOpen: boolean,\n  restoreFocus = false,\n  activeDrawerId?: string | null\n): FocusControlState {\n  const refs = {\n    toggle: useRef<Focusable>(null),\n    close: useRef<Focusable>(null),\n    slider: useRef<HTMLDivElement>(null),\n  };\n  const previousFocusedElement = useRef<HTMLElement>();\n  const shouldFocus = useRef(false);\n\n  const doFocus = () => {\n    if (isOpen) {\n      previousFocusedElement.current =\n        document.activeElement !== document.body ? (document.activeElement as HTMLElement) : undefined;\n      if (refs.slider.current) {\n        refs.slider.current?.focus();\n      } else {\n        refs.close.current?.focus();\n      }\n    } else {\n      if (restoreFocus && previousFocusedElement.current && document.contains(previousFocusedElement.current)) {\n        previousFocusedElement.current.focus();\n        previousFocusedElement.current = undefined;\n      } else {\n        refs.toggle.current?.focus();\n      }\n    }\n  };\n\n  const setFocus = ({ force, autoFocus = true }: { force: boolean; autoFocus?: boolean } = { force: false }) => {\n    if (force && isOpen) {\n      doFocus();\n    } else if (autoFocus) {\n      shouldFocus.current = true;\n    }\n  };\n\n  useEffect(() => {\n    if (shouldFocus.current) {\n      Promise.resolve().then(() => {\n        doFocus();\n        shouldFocus.current = false;\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen, activeDrawerId]);\n\n  const loseFocus = useCallback(() => {\n    previousFocusedElement.current = undefined;\n  }, []);\n\n  return {\n    refs,\n    setFocus,\n    loseFocus,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DependencyList, RefObject, useEffect, useRef } from 'react';\n\nimport { Focusable } from './use-focus-control';\n\ntype SplitPanelLastInteraction = { type: 'open' } | { type: 'close' } | { type: 'position' };\n\nexport interface SplitPanelFocusControlRefs {\n  toggle: RefObject<Focusable>;\n  slider: RefObject<HTMLDivElement>;\n  preferences: RefObject<Focusable>;\n}\nexport interface SplitPanelFocusControlState {\n  refs: SplitPanelFocusControlRefs;\n  setLastInteraction: (interaction: SplitPanelLastInteraction) => void;\n}\n\nexport function useSplitPanelFocusControl(dependencies: DependencyList): SplitPanelFocusControlState {\n  const refs = {\n    toggle: useRef<Focusable>(null),\n    slider: useRef<HTMLDivElement>(null),\n    preferences: useRef<Focusable>(null),\n  };\n  const lastInteraction = useRef<SplitPanelLastInteraction | null>(null);\n\n  useEffect(() => {\n    Promise.resolve().then(() => {\n      switch (lastInteraction.current?.type) {\n        case 'open':\n          refs.slider.current?.focus();\n          break;\n        case 'close':\n          refs.toggle.current?.focus();\n          break;\n        case 'position':\n          refs.preferences.current?.focus();\n          break;\n      }\n      lastInteraction.current = null;\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, dependencies);\n\n  return {\n    refs,\n    setLastInteraction: (interaction: SplitPanelLastInteraction) => (lastInteraction.current = interaction),\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { AppLayoutProps, AppLayoutPropsWithDefaults } from '../interfaces';\nimport Background from './background';\nimport Breadcrumbs from './breadcrumbs';\nimport { AppLayoutInternalsProvider } from './context';\nimport Drawers from './drawers';\nimport Header from './header';\nimport Layout from './layout';\nimport Main from './main';\nimport MobileToolbar from './mobile-toolbar';\nimport Navigation from './navigation';\nimport Notifications from './notifications';\nimport SplitPanel from './split-panel';\nimport Tools from './tools';\n\nconst AppLayoutWithRef = React.forwardRef(function AppLayout(\n  props: AppLayoutPropsWithDefaults,\n  ref: React.Ref<AppLayoutProps.Ref>\n) {\n  return (\n    <AppLayoutInternalsProvider {...props} ref={ref}>\n      <SplitPanel>\n        <Layout>\n          <Background />\n\n          <Navigation />\n\n          <MobileToolbar />\n\n          <Notifications />\n\n          <Breadcrumbs />\n\n          <Header />\n\n          <Main />\n\n          <SplitPanel.Bottom />\n\n          <Tools>\n            <SplitPanel.Side />\n          </Tools>\n\n          <Drawers />\n        </Layout>\n      </SplitPanel>\n    </AppLayoutInternalsProvider>\n  );\n});\n\nexport default AppLayoutWithRef;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { highContrastHeaderClassName } from '../../internal/utils/content-header-utils';\nimport { useAppLayoutInternals } from './context';\n\nimport styles from './styles.css.js';\n\nexport default function Background() {\n  const { breadcrumbs, hasBackgroundOverlap, hasNotificationsContent, isMobile, headerVariant } =\n    useAppLayoutInternals();\n\n  if (!hasNotificationsContent && (!breadcrumbs || isMobile) && !hasBackgroundOverlap) {\n    return null;\n  }\n\n  return (\n    <div className={clsx(styles.background, { [highContrastHeaderClassName]: headerVariant === 'high-contrast' })}>\n      <div className={styles['scrolling-background']} />\n    </div>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const highContrastHeaderClassName = 'awsui-context-content-header';\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useImperativeHandle,\n  useLayoutEffect,\n  useRef,\n  useState,\n} from 'react';\n\nimport { useStableCallback, useUniqueId } from '@cloudscape-design/component-toolkit/internal';\nimport { getOffsetInlineStart } from '@cloudscape-design/component-toolkit/internal';\n\nimport { DynamicOverlapContext } from '../../internal/context/dynamic-overlap-context';\nimport { SplitPanelSideToggleProps } from '../../internal/context/split-panel-context';\nimport { fireNonCancelableEvent } from '../../internal/events';\nimport { useControllable } from '../../internal/hooks/use-controllable';\nimport { useMobile } from '../../internal/hooks/use-mobile';\nimport { getSplitPanelDefaultSize } from '../../split-panel/utils/size-utils';\nimport { AppLayoutProps, AppLayoutPropsWithDefaults } from '../interfaces';\nimport { SPLIT_PANEL_MIN_WIDTH } from '../split-panel';\nimport { shouldSplitPanelBeForcedToBottom } from '../split-panel/split-panel-forced-position';\nimport { useDrawers } from '../utils/use-drawers';\nimport { FocusControlRefs, useFocusControl } from '../utils/use-focus-control';\nimport useResize from '../utils/use-resize';\nimport { SplitPanelFocusControlRefs, useSplitPanelFocusControl } from '../utils/use-split-panel-focus-control';\nimport { getSplitPanelPosition } from './split-panel';\nimport useBackgroundOverlap from './use-background-overlap';\n\nimport styles from './styles.css.js';\n\nexport interface AppLayoutInternals extends AppLayoutPropsWithDefaults {\n  activeDrawerId: string | null;\n  drawers: Array<AppLayoutProps.Drawer> | undefined;\n  drawersAriaLabel: string | undefined;\n  drawersOverflowAriaLabel: string | undefined;\n  drawersOverflowWithBadgeAriaLabel: string | undefined;\n  drawersRefs: FocusControlRefs;\n  drawerSize: number;\n  drawersMinWidth: number;\n  drawersMaxWidth: number;\n  drawerRef: React.Ref<HTMLElement>;\n  resizeHandle: React.ReactElement;\n  drawersTriggerCount: number;\n  handleDrawersClick: (activeDrawerId: string | null, skipFocusControl?: boolean) => void;\n  handleSplitPanelClick: () => void;\n  handleNavigationClick: (isOpen: boolean) => void;\n  handleSplitPanelPreferencesChange: (detail: AppLayoutProps.SplitPanelPreferences) => void;\n  handleSplitPanelResize: (newSize: number) => void;\n  handleToolsClick: (value: boolean, skipFocusControl?: boolean) => void;\n  hasBackgroundOverlap: boolean;\n  hasDrawerViewportOverlay: boolean;\n  hasNotificationsContent: boolean;\n  hasOpenDrawer?: boolean;\n  isBackgroundOverlapDisabled: boolean;\n  isMobile: boolean;\n  isSplitPanelForcedPosition: boolean;\n  isSplitPanelOpen?: boolean;\n  isToolsOpen: boolean;\n  layoutElement: React.Ref<HTMLElement>;\n  layoutWidth: number;\n  loseToolsFocus: () => void;\n  loseDrawersFocus: () => void;\n  mainElement: React.Ref<HTMLDivElement>;\n  mainOffsetLeft: number;\n  navigationRefs: FocusControlRefs;\n  notificationsHeight: number;\n  setNotificationsHeight: (height: number) => void;\n  offsetBottom: number;\n  setSplitPanelReportedSize: (value: number) => void;\n  setSplitPanelReportedHeaderHeight: (value: number) => void;\n  headerHeight: number;\n  footerHeight: number;\n  splitPanelControlId: string;\n  splitPanelMaxWidth: number;\n  splitPanelPosition: AppLayoutProps.SplitPanelPosition;\n  splitPanelReportedSize: number;\n  splitPanelReportedHeaderHeight: number;\n  splitPanelToggle: SplitPanelSideToggleProps;\n  setSplitPanelToggle: (toggle: SplitPanelSideToggleProps) => void;\n  splitPanelDisplayed: boolean;\n  splitPanelRefs: SplitPanelFocusControlRefs;\n  toolsControlId: string;\n  toolsRefs: FocusControlRefs;\n  __embeddedViewMode?: boolean;\n}\n\n/**\n * The default values are destructured in the context instantiation to\n * prevent downstream Typescript errors. This could likely be replaced\n * by a context interface definition that extends the AppLayout interface.\n */\nconst AppLayoutInternalsContext = createContext<AppLayoutInternals | null>(null);\n\ninterface AppLayoutProviderInternalsProps extends AppLayoutPropsWithDefaults {\n  children: React.ReactNode;\n}\n\nexport function useAppLayoutInternals() {\n  const ctx = useContext(AppLayoutInternalsContext);\n  if (!ctx) {\n    throw new Error('Invariant violation: this context is only available inside app layout');\n  }\n  return ctx;\n}\n\nexport const AppLayoutInternalsProvider = React.forwardRef(\n  (props: AppLayoutProviderInternalsProps, forwardRef: React.Ref<AppLayoutProps.Ref>) => {\n    const {\n      toolsHide,\n      toolsOpen: controlledToolsOpen,\n      navigationHide,\n      navigationOpen,\n      contentType,\n      placement,\n      children,\n      splitPanel,\n    } = props;\n    const isMobile = useMobile();\n\n    // Private API for embedded view mode\n    const __embeddedViewMode = Boolean((props as any).__embeddedViewMode);\n\n    /**\n     * Set the default values for minimum and maximum content width.\n     */\n    const geckoMaxCssLength = ((1 << 30) - 1) / 60;\n    const halfGeckoMaxCssLength = geckoMaxCssLength / 2;\n    // CSS lengths in Gecko are limited to at most (1<<30)-1 app units (Gecko uses 60 as app unit).\n    // Limit the maxContentWidth to the half of the upper boundary (4230^2) to be on the safe side.\n    const maxContentWidth =\n      props.maxContentWidth && props.maxContentWidth > halfGeckoMaxCssLength\n        ? halfGeckoMaxCssLength\n        : (props.maxContentWidth ?? 0);\n    const minContentWidth = props.minContentWidth ?? 280;\n\n    const { refs: navigationRefs, setFocus: focusNavButtons } = useFocusControl(navigationOpen);\n\n    const handleNavigationClick = useStableCallback(\n      ({ isOpen, autoFocus }: { isOpen: boolean; autoFocus: boolean }) => {\n        focusNavButtons({ force: false, autoFocus });\n        fireNonCancelableEvent(props.onNavigationChange, { open: isOpen });\n      }\n    );\n\n    useEffect(() => {\n      // Close navigation drawer on mobile so that the main content is visible\n      if (isMobile) {\n        handleNavigationClick({ isOpen: false, autoFocus: false });\n      }\n    }, [isMobile, handleNavigationClick]);\n\n    const toolsWidth = props.toolsWidth;\n    const [isToolsOpen = false, setIsToolsOpen] = useControllable(controlledToolsOpen, props.onToolsChange, false, {\n      componentName: 'AppLayout',\n      controlledProp: 'toolsOpen',\n      changeHandler: 'onToolsChange',\n    });\n\n    const {\n      refs: toolsRefs,\n      setFocus: focusToolsButtons,\n      loseFocus: loseToolsFocus,\n    } = useFocusControl(isToolsOpen, true);\n\n    const handleToolsClick = useCallback(\n      function handleToolsChange(isOpen: boolean, skipFocusControl?: boolean) {\n        setIsToolsOpen(isOpen);\n        if (!skipFocusControl) {\n          focusToolsButtons({ force: false });\n        }\n        fireNonCancelableEvent(props.onToolsChange, { open: isOpen });\n      },\n      [props.onToolsChange, setIsToolsOpen, focusToolsButtons]\n    );\n\n    /**\n     * Set the default values for the minimum and maximum Split Panel width when it is\n     * in the side position. The useLayoutEffect will compute the available space in the\n     * DOM for the Split Panel given the current state. The minimum and maximum\n     * widths will potentially trigger a side effect that will put the Split Panel into\n     * a forced position on the bottom.\n     */\n    const [splitPanelMaxWidth, setSplitPanelMaxWidth] = useState(SPLIT_PANEL_MIN_WIDTH);\n\n    /**\n     * The useControllable hook will set the default value and manage either\n     * the controlled or uncontrolled state of the Split Panel. By default\n     * the Split Panel should always be closed on page load.\n     *\n     * The callback that will be passed to the SplitPanel component\n     * to handle the click events that will change the state of the SplitPanel\n     * to open or closed given the current state. It will set the isSplitPanelOpen\n     * controlled state and fire the onSplitPanelToggle event.\n     */\n    const [isSplitPanelOpen, setIsSplitPanelOpen] = useControllable(\n      props.splitPanelOpen,\n      props.onSplitPanelToggle,\n      false,\n      { componentName: 'AppLayout', controlledProp: 'splitPanelOpen', changeHandler: 'onSplitPanelToggle' }\n    );\n\n    /**\n     * The useControllable hook will manage the controlled or uncontrolled\n     * state of the splitPanelPreferences. By default the splitPanelPreferences\n     * is undefined. When set the object shape should have a single key to indicate\n     * either bottom or side position.\n     *\n     * The callback that will handle changes to the splitPanelPreferences\n     * object that will determine if the SplitPanel is rendered either on the\n     * bottom of the viewport or within the Tools container.\n     */\n    const [splitPanelPreferences, setSplitPanelPreferences] = useControllable(\n      props.splitPanelPreferences,\n      props.onSplitPanelPreferencesChange,\n      undefined,\n      {\n        componentName: 'AppLayout',\n        controlledProp: 'splitPanelPreferences',\n        changeHandler: 'onSplitPanelPreferencesChange',\n      }\n    );\n\n    const { refs: splitPanelRefs, setLastInteraction: setSplitPanelLastInteraction } = useSplitPanelFocusControl([\n      splitPanelPreferences,\n      isSplitPanelOpen,\n    ]);\n\n    const handleSplitPanelClick = useCallback(\n      function handleSplitPanelChange() {\n        setIsSplitPanelOpen(!isSplitPanelOpen);\n        setSplitPanelLastInteraction({ type: isSplitPanelOpen ? 'close' : 'open' });\n        fireNonCancelableEvent(props.onSplitPanelToggle, { open: !isSplitPanelOpen });\n      },\n      [props.onSplitPanelToggle, isSplitPanelOpen, setIsSplitPanelOpen, setSplitPanelLastInteraction]\n    );\n\n    const isSplitPanelForcedPosition = shouldSplitPanelBeForcedToBottom({\n      isMobile,\n      availableWidthForSplitPanel: splitPanelMaxWidth,\n    });\n    const splitPanelPosition = getSplitPanelPosition(isSplitPanelForcedPosition, splitPanelPreferences);\n\n    /**\n     * The useControllable hook will set the default size of the SplitPanel based\n     * on the default position set in the splitPanelPreferences. The logic for the\n     * default size is contained in the SplitPanel component. The splitPanelControlledSize\n     * will be bound to the size property in the SplitPanel context for rendering.\n     *\n     * The callback that will be passed to the SplitPanel component\n     * to handle the resize events that will change the size of the SplitPanel.\n     * It will set the splitPanelControlledSize controlled state and fire the\n     * onSplitPanelResize event.\n     */\n    const [splitPanelReportedSize, setSplitPanelReportedSize] = useState(0);\n    const [splitPanelReportedHeaderHeight, setSplitPanelReportedHeaderHeight] = useState(0);\n    const [splitPanelToggle, setSplitPanelToggle] = useState<SplitPanelSideToggleProps>({\n      displayed: false,\n      ariaLabel: undefined,\n    });\n    const splitPanelDisplayed = !!(splitPanelToggle.displayed || isSplitPanelOpen) && !!splitPanel;\n    const splitPanelControlId = useUniqueId('split-panel-');\n    const toolsControlId = useUniqueId('tools-');\n\n    const [splitPanelSize, setSplitPanelSize] = useControllable(\n      props.splitPanelSize,\n      props.onSplitPanelResize,\n      getSplitPanelDefaultSize(splitPanelPosition),\n      { componentName: 'AppLayout', controlledProp: 'splitPanelSize', changeHandler: 'onSplitPanelResize' }\n    );\n\n    const handleSplitPanelResize = useCallback(\n      (size: number) => {\n        setSplitPanelSize(size);\n        fireNonCancelableEvent(props.onSplitPanelResize, { size });\n      },\n      [props.onSplitPanelResize, setSplitPanelSize]\n    );\n\n    const handleSplitPanelPreferencesChange = useCallback(\n      function handleSplitPanelChange(detail: AppLayoutProps.SplitPanelPreferences) {\n        setSplitPanelPreferences(detail);\n        setSplitPanelLastInteraction({ type: 'position' });\n        fireNonCancelableEvent(props.onSplitPanelPreferencesChange, detail);\n      },\n      [props.onSplitPanelPreferencesChange, setSplitPanelPreferences, setSplitPanelLastInteraction]\n    );\n\n    const {\n      drawers,\n      activeDrawer,\n      activeDrawerId,\n      minDrawerSize: drawersMinWidth,\n      onActiveDrawerChange,\n      onActiveDrawerResize,\n      activeDrawerSize,\n      ...drawersProps\n    } = useDrawers(props, props.ariaLabels, {\n      disableDrawersMerge: true,\n      ariaLabels: props.ariaLabels,\n      toolsHide,\n      toolsOpen: isToolsOpen,\n      tools: props.tools,\n      toolsWidth,\n      onToolsToggle: handleToolsClick,\n    });\n\n    const [drawersMaxWidth, setDrawersMaxWidth] = useState(toolsWidth);\n    const hasDrawers = !!drawers && drawers.length > 0;\n\n    const {\n      refs: drawersRefs,\n      setFocus: focusDrawersButtons,\n      loseFocus: loseDrawersFocus,\n    } = useFocusControl(!!activeDrawerId, true, activeDrawerId);\n\n    const drawerRef = useRef<HTMLDivElement>(null);\n    const { resizeHandle, drawerSize } = useResize(drawerRef, {\n      onActiveDrawerResize,\n      activeDrawerSize,\n      activeDrawer,\n      drawersRefs,\n      isToolsOpen,\n      drawersMaxWidth,\n      drawersMinWidth,\n    });\n\n    const handleDrawersClick = (id: string | null, skipFocusControl?: boolean) => {\n      const newActiveDrawerId = id !== activeDrawerId ? id : null;\n\n      onActiveDrawerChange(newActiveDrawerId, { initiatedByUserAction: true });\n\n      if (!skipFocusControl) {\n        focusDrawersButtons();\n      }\n    };\n\n    let drawersTriggerCount = drawers ? drawers.length : !toolsHide ? 1 : 0;\n    if (splitPanelDisplayed && splitPanelPosition === 'side') {\n      drawersTriggerCount++;\n    }\n    const hasOpenDrawer =\n      !!activeDrawerId ||\n      (!toolsHide && isToolsOpen) ||\n      (splitPanelDisplayed && splitPanelPosition === 'side' && isSplitPanelOpen);\n    const hasDrawerViewportOverlay =\n      isMobile && (!!activeDrawerId || (!navigationHide && navigationOpen) || (!toolsHide && isToolsOpen));\n\n    const layoutElement = useRef<HTMLDivElement>(null);\n    const mainElement = useRef<HTMLDivElement>(null);\n    const [mainOffsetLeft, setMainOffsetLeft] = useState(0);\n\n    const { hasBackgroundOverlap, updateBackgroundOverlapHeight } = useBackgroundOverlap({\n      contentHeader: props.contentHeader,\n      disableContentHeaderOverlap: props.disableContentHeaderOverlap,\n      layoutElement,\n    });\n\n    useLayoutEffect(\n      function handleMainOffsetLeft() {\n        const offsetInlineStart = mainElement?.current ? getOffsetInlineStart(mainElement?.current) : 0;\n        setMainOffsetLeft(offsetInlineStart);\n      },\n      [placement.inlineSize, navigationOpen, isToolsOpen, splitPanelReportedSize]\n    );\n\n    /**\n     * On mobile viewports the navigation and tools drawers are adjusted to a fixed position\n     * that consumes 100% of the viewport height and width. The body content could potentially\n     * be scrollable underneath the drawer. In order to prevent this a CSS class needs to be\n     * added to the document body that sets overflow to hidden.\n     */\n    useEffect(\n      function handleBodyScroll() {\n        if (isMobile && (navigationOpen || isToolsOpen || !!activeDrawer)) {\n          document.body.classList.add(styles['block-body-scroll']);\n        } else {\n          document.body.classList.remove(styles['block-body-scroll']);\n        }\n\n        // Ensure the CSS class is removed from the body on side effect cleanup\n        return function cleanup() {\n          document.body.classList.remove(styles['block-body-scroll']);\n        };\n      },\n      [isMobile, navigationOpen, isToolsOpen, activeDrawer]\n    );\n\n    const [notificationsHeight, setNotificationsHeight] = useState(0);\n    const hasNotificationsContent = notificationsHeight > 0;\n    /**\n     * Determine the offsetBottom value based on the presence of a footer element and\n     * the SplitPanel component. Ignore the SplitPanel if it is not in the bottom\n     * position. Use the size property if it is open and the header height if it is closed.\n     */\n    let offsetBottom = placement.insetBlockEnd;\n\n    if (splitPanelDisplayed && splitPanelPosition === 'bottom') {\n      if (isSplitPanelOpen) {\n        offsetBottom += splitPanelReportedSize;\n      } else {\n        offsetBottom += splitPanelReportedHeaderHeight;\n      }\n    }\n\n    /**\n     * Warning! This is a hack! In order to accurately calculate if there is adequate\n     * horizontal space for the Split Panel to be in the side position we need two values\n     * that are not available in JavaScript.\n     *\n     * The first is the the content gap on the right which is stored in a design token\n     * and applied in the Layout CSS:\n     *\n     * $contentGapRight: #{awsui.$space-layout-content-horizontal};\n     *\n     * The second is the width of the element that has the circular buttons for the\n     * Tools and Split Panel. This could be suppressed given the state of the Tools\n     * drawer returning a zero value. It would, however, be rendered if the Split Panel\n     * were to move into the side position. This is calculated in the Tools CSS and\n     * the Trigger button CSS with design tokens:\n     *\n     * padding: awsui.$space-scaled-s awsui.$space-layout-toggle-padding;\n     * width: awsui.$space-layout-toggle-diameter;\n     *\n     * These values will be defined below as static integers that are rough approximations\n     * of their computed width when rendered in the DOM, but doubled to ensure adequate\n     * spacing for the Split Panel to be in side position.\n     */\n    useLayoutEffect(\n      function handleSplitPanelMaxWidth() {\n        const contentGapRight = 50; // Approximately 24px when rendered but doubled for safety\n        const toolsFormOffsetWidth = 120; // Approximately 60px when rendered but doubled for safety\n        const getPanelOffsetWidth = () => {\n          if (drawers) {\n            return activeDrawerId ? drawerSize : 0;\n          }\n          return isToolsOpen ? toolsWidth : 0;\n        };\n\n        setSplitPanelMaxWidth(\n          placement.inlineSize -\n            mainOffsetLeft -\n            minContentWidth -\n            contentGapRight -\n            toolsFormOffsetWidth -\n            getPanelOffsetWidth()\n        );\n\n        setDrawersMaxWidth(\n          placement.inlineSize - mainOffsetLeft - minContentWidth - contentGapRight - toolsFormOffsetWidth\n        );\n      },\n      [\n        activeDrawerId,\n        drawerSize,\n        drawers,\n        navigationOpen,\n        isToolsOpen,\n        placement.inlineSize,\n        mainOffsetLeft,\n        minContentWidth,\n        toolsWidth,\n      ]\n    );\n\n    /**\n     * The useImperativeHandle hook in conjunction with the forwardRef function\n     * in the AppLayout component definition expose the following callable\n     * functions to component consumers when they put a ref as a property on\n     * their component implementation.\n     */\n    useImperativeHandle(\n      forwardRef,\n      function createImperativeHandle() {\n        return {\n          closeNavigationIfNecessary: function () {\n            if (isMobile) {\n              handleNavigationClick({ isOpen: false, autoFocus: true });\n            }\n          },\n          openTools: function () {\n            handleToolsClick(true, hasDrawers);\n            if (hasDrawers) {\n              focusDrawersButtons({ force: true });\n            }\n          },\n          focusToolsClose: () => {\n            if (hasDrawers) {\n              focusDrawersButtons({ force: true });\n            } else {\n              focusToolsButtons({ force: true });\n            }\n          },\n          focusActiveDrawer: () => focusDrawersButtons({ force: true }),\n          focusSplitPanel: () => splitPanelRefs.slider.current?.focus(),\n        };\n      },\n      [\n        isMobile,\n        handleNavigationClick,\n        handleToolsClick,\n        focusToolsButtons,\n        focusDrawersButtons,\n        splitPanelRefs.slider,\n        hasDrawers,\n      ]\n    );\n\n    return (\n      <AppLayoutInternalsContext.Provider\n        value={{\n          ...props,\n          activeDrawerId,\n          contentType,\n          drawers,\n          drawersAriaLabel: drawersProps.ariaLabelsWithDrawers?.drawers,\n          drawersOverflowAriaLabel: drawersProps.ariaLabelsWithDrawers?.drawersOverflow,\n          drawersOverflowWithBadgeAriaLabel: drawersProps.ariaLabelsWithDrawers?.drawersOverflowWithBadge,\n          drawersRefs,\n          drawersMinWidth,\n          drawersMaxWidth,\n          drawerSize,\n          drawerRef,\n          resizeHandle,\n          drawersTriggerCount,\n          headerHeight: placement.insetBlockStart,\n          footerHeight: placement.insetBlockEnd,\n          hasDrawerViewportOverlay,\n          handleDrawersClick,\n          handleNavigationClick: isOpen => handleNavigationClick({ isOpen, autoFocus: true }),\n          handleSplitPanelClick,\n          handleSplitPanelPreferencesChange,\n          handleSplitPanelResize,\n          handleToolsClick,\n          hasBackgroundOverlap,\n          hasNotificationsContent,\n          hasOpenDrawer,\n          isBackgroundOverlapDisabled: props.disableContentHeaderOverlap || !hasBackgroundOverlap,\n          isMobile,\n          isSplitPanelForcedPosition,\n          isSplitPanelOpen,\n          isToolsOpen,\n          layoutElement,\n          layoutWidth: placement.inlineSize,\n          loseToolsFocus,\n          loseDrawersFocus,\n          mainElement,\n          mainOffsetLeft,\n          maxContentWidth,\n          minContentWidth,\n          navigationHide,\n          navigationRefs,\n          notificationsHeight,\n          setNotificationsHeight,\n          offsetBottom,\n          setSplitPanelReportedSize,\n          setSplitPanelReportedHeaderHeight,\n          splitPanel,\n          splitPanelControlId,\n          splitPanelDisplayed,\n          splitPanelMaxWidth,\n          splitPanelPosition,\n          splitPanelPreferences,\n          splitPanelReportedSize,\n          splitPanelReportedHeaderHeight,\n          splitPanelSize,\n          splitPanelToggle,\n          setSplitPanelToggle,\n          splitPanelRefs,\n          toolsControlId,\n          toolsHide,\n          toolsOpen: isToolsOpen,\n          toolsWidth,\n          toolsRefs,\n          __embeddedViewMode,\n        }}\n      >\n        <DynamicOverlapContext.Provider value={updateBackgroundOverlapHeight}>\n          {children}\n        </DynamicOverlapContext.Provider>\n      </AppLayoutInternalsContext.Provider>\n    );\n  }\n);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { createContext } from 'react';\n\nexport const DynamicOverlapContext = createContext<(overlapHeight: number) => void>(() => {});\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useState } from 'react';\n\nimport PanelResizeHandle from '../../internal/components/panel-resize-handle';\nimport { getLimitedValue } from '../../split-panel/utils/size-utils';\nimport { AppLayoutProps } from '../interfaces';\nimport { SizeControlProps } from './interfaces';\nimport { FocusControlRefs } from './use-focus-control';\nimport { useKeyboardEvents } from './use-keyboard-events';\nimport { usePointerEvents } from './use-pointer-events';\n\nimport testutilStyles from '../test-classes/styles.css.js';\n\ninterface DrawerResizeProps {\n  activeDrawer: AppLayoutProps.Drawer | undefined;\n  activeDrawerSize: number;\n  onActiveDrawerResize: (detail: { id: string; size: number }) => void;\n  drawersRefs: FocusControlRefs;\n  isToolsOpen: boolean;\n  drawersMaxWidth: number;\n  drawersMinWidth: number;\n}\n\nfunction useResize(\n  drawerRefObject: React.RefObject<HTMLDivElement>,\n  {\n    activeDrawer,\n    activeDrawerSize,\n    onActiveDrawerResize,\n    drawersRefs,\n    isToolsOpen,\n    drawersMinWidth,\n    drawersMaxWidth,\n  }: DrawerResizeProps\n) {\n  const [relativeSize, setRelativeSize] = useState(0);\n\n  const drawerSize = !activeDrawer && !isToolsOpen ? 0 : activeDrawerSize;\n\n  useEffect(() => {\n    // effects are called inside out in the components tree\n    // wait one frame to allow app-layout to complete its calculations\n    const handle = requestAnimationFrame(() => {\n      const maxSize = drawersMaxWidth;\n      setRelativeSize(((drawerSize - drawersMinWidth) / (maxSize - drawersMinWidth)) * 100);\n    });\n    return () => cancelAnimationFrame(handle);\n  }, [drawerSize, drawersMaxWidth, drawersMinWidth]);\n\n  const setSidePanelWidth = (width: number) => {\n    const maxWidth = drawersMaxWidth;\n    const size = getLimitedValue(drawersMinWidth, width, maxWidth);\n    const id = activeDrawer?.id;\n\n    if (id && maxWidth >= drawersMinWidth) {\n      onActiveDrawerResize({ size, id });\n    }\n  };\n\n  const sizeControlProps: SizeControlProps = {\n    position: 'side',\n    panelRef: drawerRefObject,\n    handleRef: drawersRefs.slider,\n    onResize: setSidePanelWidth,\n  };\n\n  const onSliderPointerDown = usePointerEvents(sizeControlProps);\n  const { onKeyDown, onDirectionClick } = useKeyboardEvents(sizeControlProps);\n\n  const resizeHandle = (\n    <PanelResizeHandle\n      ref={drawersRefs.slider}\n      position=\"side\"\n      ariaLabel={activeDrawer?.ariaLabels?.resizeHandle}\n      tooltipText={activeDrawer?.ariaLabels?.resizeHandleTooltipText}\n      ariaValuenow={relativeSize}\n      className={testutilStyles['drawers-slider']}\n      onKeyDown={onKeyDown}\n      onDirectionClick={onDirectionClick}\n      onPointerDown={onSliderPointerDown}\n    />\n  );\n\n  return { resizeHandle, drawerSize };\n}\n\nexport default useResize;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { Transition } from '../../internal/components/transition';\nimport customCssProps from '../../internal/generated/custom-css-properties';\nimport { AppLayoutProps } from '../interfaces';\nimport { SPLIT_PANEL_MIN_WIDTH, SplitPanelProvider, SplitPanelProviderProps } from '../split-panel';\nimport { useAppLayoutInternals } from './context';\n\nimport styles from './styles.css.js';\n\n/**\n * If there is no Split Panel in the AppLayout context then the SplitPanel\n * will pass through the AppLayout children without the context.\n */\nfunction SplitPanel({ children }: React.PropsWithChildren<unknown>) {\n  const {\n    footerHeight,\n    handleSplitPanelClick,\n    handleSplitPanelPreferencesChange,\n    handleSplitPanelResize,\n    headerHeight,\n    isSplitPanelForcedPosition,\n    isSplitPanelOpen,\n    setSplitPanelReportedSize,\n    setSplitPanelReportedHeaderHeight,\n    setSplitPanelToggle,\n    splitPanelPosition,\n    splitPanelRefs,\n    splitPanelSize,\n  } = useAppLayoutInternals();\n\n  const props: SplitPanelProviderProps = {\n    bottomOffset: 0,\n    getMaxHeight: () => {\n      const availableHeight = document.documentElement.clientHeight - headerHeight - footerHeight;\n      // If the page is likely zoomed in at 200%, allow the split panel to fill the content area.\n      return availableHeight < 400 ? availableHeight - 40 : availableHeight - 250;\n    },\n    maxWidth: typeof document !== 'undefined' ? document.documentElement.clientWidth : Number.POSITIVE_INFINITY,\n    isForcedPosition: isSplitPanelForcedPosition,\n    isOpen: isSplitPanelOpen,\n    leftOffset: 0,\n    onPreferencesChange: handleSplitPanelPreferencesChange,\n    onResize: handleSplitPanelResize,\n    onToggle: handleSplitPanelClick,\n    position: splitPanelPosition,\n    reportSize: setSplitPanelReportedSize,\n    reportHeaderHeight: setSplitPanelReportedHeaderHeight,\n    rightOffset: 0,\n    size: splitPanelSize || 0,\n    topOffset: 0,\n    setSplitPanelToggle,\n    refs: splitPanelRefs,\n  };\n\n  return <SplitPanelProvider {...props}>{children}</SplitPanelProvider>;\n}\n\n/**\n * This is the render function for the SplitPanel when it is in bottom position.\n * The Split Panel container will be another row entry in the grid definition in\n * the Layout component. The start and finish columns will be variable based\n * on the presence and state of the Navigation and Tools components.\n */\nfunction SplitPanelBottom() {\n  const {\n    disableBodyScroll,\n    hasOpenDrawer,\n    navigationOpen,\n    isSplitPanelOpen,\n    splitPanel,\n    splitPanelPosition,\n    splitPanelReportedSize,\n    splitPanelReportedHeaderHeight,\n  } = useAppLayoutInternals();\n\n  if (!splitPanel) {\n    return null;\n  }\n\n  return (\n    <Transition in={isSplitPanelOpen ?? false} exit={false}>\n      {(state, transitionEventsRef) => (\n        <section\n          className={clsx(styles['split-panel-bottom'], styles[`position-${splitPanelPosition}`], {\n            [styles.animating]: state === 'entering',\n            [styles['disable-body-scroll']]: disableBodyScroll,\n            [styles['has-open-drawer']]: hasOpenDrawer,\n            [styles['is-navigation-open']]: navigationOpen,\n            [styles['is-split-panel-open']]: isSplitPanelOpen,\n          })}\n          ref={transitionEventsRef}\n          style={{\n            [customCssProps.splitPanelReportedSize]: `${splitPanelReportedSize}px`,\n            [customCssProps.splitPanelReportedHeaderSize]: `${splitPanelReportedHeaderHeight}px`,\n          }}\n        >\n          {splitPanelPosition === 'bottom' && splitPanel}\n        </section>\n      )}\n    </Transition>\n  );\n}\n\n/**\n * This is the render function for the SplitPanel when it is side position.\n * The Split Panel will not be within the grid defined in the Layout component\n * but instead a direct child of the Tools component. The width constraints\n * for this position are computed in the Tools component.\n */\n\n/**\n * This component has no opening animations because it causes lots of rerenders that makes the component lag. *\n */\n\nfunction SplitPanelSide() {\n  const {\n    isSplitPanelOpen,\n    splitPanel,\n    splitPanelPosition,\n    splitPanelMaxWidth,\n    splitPanelControlId,\n    isToolsOpen,\n    activeDrawerId,\n  } = useAppLayoutInternals();\n\n  if (!splitPanel) {\n    return null;\n  }\n\n  return (\n    <section\n      id={splitPanelControlId}\n      aria-hidden={!isSplitPanelOpen || splitPanelPosition === 'bottom' ? true : false}\n      className={clsx(styles['split-panel-side'], styles[`position-${splitPanelPosition}`], {\n        [styles['is-split-panel-open']]: isSplitPanelOpen,\n        [styles['has-open-drawer']]: !!activeDrawerId || isToolsOpen,\n      })}\n      style={{\n        [customCssProps.splitPanelMaxWidth]: `${splitPanelMaxWidth}px`,\n        [customCssProps.splitPanelMinWidth]: `${SPLIT_PANEL_MIN_WIDTH}px`,\n      }}\n    >\n      {splitPanelPosition === 'side' && splitPanel}\n    </section>\n  );\n}\n\n/**\n * This logic will determine what the Split Panel position should be. It reconciles the possibility\n * of being in forced position with the current selected position in the settings.\n */\nexport function getSplitPanelPosition(\n  isSplitPanelForcedPosition: boolean,\n  splitPanelPreferences: AppLayoutProps.SplitPanelPreferences | undefined\n) {\n  let splitPanelPosition: AppLayoutProps.SplitPanelPosition = 'bottom';\n\n  if (!isSplitPanelForcedPosition && splitPanelPreferences?.position === 'side') {\n    splitPanelPosition = 'side';\n  }\n\n  return splitPanelPosition;\n}\nSplitPanel.Bottom = SplitPanelBottom;\nSplitPanel.Side = SplitPanelSide;\n\nexport default SplitPanel;\n", "\n    import './styles.scoped.css';\n    export default {\n  \"background\": \"awsui_background_hyvsj_6bnh2_149\",\n  \"scrolling-background\": \"awsui_scrolling-background_hyvsj_6bnh2_152\",\n  \"breadcrumbs\": \"awsui_breadcrumbs_hyvsj_6bnh2_163\",\n  \"drawers-container\": \"awsui_drawers-container_hyvsj_6bnh2_176\",\n  \"has-open-drawer\": \"awsui_has-open-drawer_hyvsj_6bnh2_187\",\n  \"disable-body-scroll\": \"awsui_disable-body-scroll_hyvsj_6bnh2_208\",\n  \"drawers-desktop-triggers-container\": \"awsui_drawers-desktop-triggers-container_hyvsj_6bnh2_213\",\n  \"has-multiple-triggers\": \"awsui_has-multiple-triggers_hyvsj_6bnh2_251\",\n  \"drawers-mobile-triggers-container\": \"awsui_drawers-mobile-triggers-container_hyvsj_6bnh2_261\",\n  \"drawers-trigger-content\": \"awsui_drawers-trigger-content_hyvsj_6bnh2_266\",\n  \"drawers-trigger-overflow\": \"awsui_drawers-trigger-overflow_hyvsj_6bnh2_280\",\n  \"drawers-trigger\": \"awsui_drawers-trigger_hyvsj_6bnh2_266\",\n  \"drawer\": \"awsui_drawer_hyvsj_6bnh2_176\",\n  \"drawer-content-container\": \"awsui_drawer-content-container_hyvsj_6bnh2_311\",\n  \"drawer-close-button\": \"awsui_drawer-close-button_hyvsj_6bnh2_320\",\n  \"drawer-content\": \"awsui_drawer-content_hyvsj_6bnh2_311\",\n  \"drawer-content-hidden\": \"awsui_drawer-content-hidden_hyvsj_6bnh2_329\",\n  \"drawer-slider\": \"awsui_drawer-slider_hyvsj_6bnh2_332\",\n  \"is-drawer-open\": \"awsui_is-drawer-open_hyvsj_6bnh2_340\",\n  \"content\": \"awsui_content_hyvsj_6bnh2_366\",\n  \"layout\": \"awsui_layout_hyvsj_6bnh2_391\",\n  \"has-max-content-width\": \"awsui_has-max-content-width_hyvsj_6bnh2_463\",\n  \"content-type-dashboard\": \"awsui_content-type-dashboard_hyvsj_6bnh2_478\",\n  \"content-type-table\": \"awsui_content-type-table_hyvsj_6bnh2_492\",\n  \"content-type-cards\": \"awsui_content-type-cards_hyvsj_6bnh2_492\",\n  \"is-overlap-disabled\": \"awsui_is-overlap-disabled_hyvsj_6bnh2_498\",\n  \"is-hide-mobile-toolbar\": \"awsui_is-hide-mobile-toolbar_hyvsj_6bnh2_501\",\n  \"has-content-gap-left\": \"awsui_has-content-gap-left_hyvsj_6bnh2_515\",\n  \"has-content-gap-right\": \"awsui_has-content-gap-right_hyvsj_6bnh2_518\",\n  \"has-breadcrumbs\": \"awsui_has-breadcrumbs_hyvsj_6bnh2_528\",\n  \"content-first-child-header\": \"awsui_content-first-child-header_hyvsj_6bnh2_531\",\n  \"content-first-child-notifications\": \"awsui_content-first-child-notifications_hyvsj_6bnh2_531\",\n  \"has-header\": \"awsui_has-header_hyvsj_6bnh2_531\",\n  \"content-first-child-main\": \"awsui_content-first-child-main_hyvsj_6bnh2_546\",\n  \"disable-content-paddings\": \"awsui_disable-content-paddings_hyvsj_6bnh2_546\",\n  \"has-left-toggles-gutter\": \"awsui_has-left-toggles-gutter_hyvsj_6bnh2_566\",\n  \"has-right-toggles-gutter\": \"awsui_has-right-toggles-gutter_hyvsj_6bnh2_569\",\n  \"has-split-panel\": \"awsui_has-split-panel_hyvsj_6bnh2_589\",\n  \"split-panel-position-bottom\": \"awsui_split-panel-position-bottom_hyvsj_6bnh2_589\",\n  \"block-body-scroll\": \"awsui_block-body-scroll_hyvsj_6bnh2_597\",\n  \"unfocusable\": \"awsui_unfocusable_hyvsj_6bnh2_602\",\n  \"container\": \"awsui_container_hyvsj_6bnh2_612\",\n  \"is-navigation-open\": \"awsui_is-navigation-open_hyvsj_6bnh2_638\",\n  \"is-tools-open\": \"awsui_is-tools-open_hyvsj_6bnh2_641\",\n  \"is-split-panel-open\": \"awsui_is-split-panel-open_hyvsj_6bnh2_641\",\n  \"split-panel-position-side\": \"awsui_split-panel-position-side_hyvsj_6bnh2_641\",\n  \"has-active-drawer\": \"awsui_has-active-drawer_hyvsj_6bnh2_641\",\n  \"mobile-toolbar\": \"awsui_mobile-toolbar_hyvsj_6bnh2_654\",\n  \"remove-high-contrast-header\": \"awsui_remove-high-contrast-header_hyvsj_6bnh2_671\",\n  \"mobile-toolbar-nav\": \"awsui_mobile-toolbar-nav_hyvsj_6bnh2_675\",\n  \"mobile-toolbar-breadcrumbs\": \"awsui_mobile-toolbar-breadcrumbs_hyvsj_6bnh2_679\",\n  \"mobile-toolbar-tools\": \"awsui_mobile-toolbar-tools_hyvsj_6bnh2_683\",\n  \"navigation-container\": \"awsui_navigation-container_hyvsj_6bnh2_692\",\n  \"show-navigation\": \"awsui_show-navigation_hyvsj_6bnh2_730\",\n  \"animating\": \"awsui_animating_hyvsj_6bnh2_753\",\n  \"showButtons\": \"awsui_showButtons_hyvsj_6bnh2_1\",\n  \"navigation\": \"awsui_navigation_hyvsj_6bnh2_692\",\n  \"openNavigation\": \"awsui_openNavigation_hyvsj_6bnh2_1\",\n  \"animated-content\": \"awsui_animated-content_hyvsj_6bnh2_817\",\n  \"content-container\": \"awsui_content-container_hyvsj_6bnh2_820\",\n  \"hide-navigation\": \"awsui_hide-navigation_hyvsj_6bnh2_829\",\n  \"notifications\": \"awsui_notifications_hyvsj_6bnh2_839\",\n  \"has-notification-content\": \"awsui_has-notification-content_hyvsj_6bnh2_844\",\n  \"sticky-notifications\": \"awsui_sticky-notifications_hyvsj_6bnh2_848\",\n  \"high-contrast\": \"awsui_high-contrast_hyvsj_6bnh2_853\",\n  \"split-panel-bottom\": \"awsui_split-panel-bottom_hyvsj_6bnh2_871\",\n  \"position-bottom\": \"awsui_position-bottom_hyvsj_6bnh2_918\",\n  \"openSplitPanelBottom\": \"awsui_openSplitPanelBottom_hyvsj_6bnh2_1\",\n  \"split-panel-side\": \"awsui_split-panel-side_hyvsj_6bnh2_947\",\n  \"position-side\": \"awsui_position-side_hyvsj_6bnh2_960\",\n  \"tools-container\": \"awsui_tools-container_hyvsj_6bnh2_982\",\n  \"tools\": \"awsui_tools_hyvsj_6bnh2_982\",\n  \"openTools\": \"awsui_openTools_hyvsj_6bnh2_1\",\n  \"has-tools-form-persistence\": \"awsui_has-tools-form-persistence_hyvsj_6bnh2_1071\",\n  \"hide-tools\": \"awsui_hide-tools_hyvsj_6bnh2_1081\",\n  \"show-tools\": \"awsui_show-tools_hyvsj_6bnh2_1093\",\n  \"has-tools-form\": \"awsui_has-tools-form_hyvsj_6bnh2_1071\",\n  \"trigger-button-styles\": \"awsui_trigger-button-styles_hyvsj_6bnh2_1173\",\n  \"trigger-badge-wrapper\": \"awsui_trigger-badge-wrapper_hyvsj_6bnh2_1189\",\n  \"trigger\": \"awsui_trigger_hyvsj_6bnh2_1173\",\n  \"selected\": \"awsui_selected_hyvsj_6bnh2_1241\",\n  \"badge\": \"awsui_badge_hyvsj_6bnh2_1261\",\n  \"trigger-wrapper\": \"awsui_trigger-wrapper_hyvsj_6bnh2_1265\",\n  \"trigger-wrapper-tooltip-visible\": \"awsui_trigger-wrapper-tooltip-visible_hyvsj_6bnh2_1276\",\n  \"dot\": \"awsui_dot_hyvsj_6bnh2_1280\",\n  \"trigger-tooltip\": \"awsui_trigger-tooltip_hyvsj_6bnh2_1293\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useState } from 'react';\n\nimport customCssProps from '../../internal/generated/custom-css-properties';\n\nexport default function useBackgroundOverlap({\n  contentHeader,\n  disableContentHeaderOverlap,\n  layoutElement,\n}: {\n  contentHeader: React.ReactNode;\n  disableContentHeaderOverlap?: boolean;\n  layoutElement: React.Ref<HTMLElement>;\n}) {\n  const hasContentHeader = !!contentHeader;\n\n  const [hasBackgroundOverlap, setHasBackgroundOverlap] = useState(hasContentHeader);\n\n  const updateBackgroundOverlapHeight = useCallback(\n    (height: number) => {\n      const hasOverlap = hasContentHeader || height > 0;\n      setHasBackgroundOverlap(hasOverlap);\n\n      /**\n       * React 18 will trigger a paint before the state is correctly updated\n       * (see https://github.com/facebook/react/issues/24331).\n       * To work around this, we bypass React state updates and imperatively update the custom property on the DOM.\n       * An alternative would be to use `queueMicrotask` and `flushSync` in the ResizeObserver callback,\n       * but that would have some performance impact as it would delay the render.\n       */\n      // Layout component uses RefObject, we don't expect a RefCallback\n      const element = typeof layoutElement !== 'function' && layoutElement?.current;\n      if (!element) {\n        return;\n      }\n      if (disableContentHeaderOverlap || !hasOverlap || height <= 0) {\n        element.style.removeProperty(customCssProps.overlapHeight);\n      } else {\n        element.style.setProperty(customCssProps.overlapHeight, `${height}px`);\n      }\n    },\n    [hasContentHeader, layoutElement, disableContentHeaderOverlap]\n  );\n\n  return {\n    hasBackgroundOverlap,\n    updateBackgroundOverlapHeight,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { highContrastHeaderClassName } from '../../internal/utils/content-header-utils';\nimport { useAppLayoutInternals } from './context';\n\nimport testutilStyles from '../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\nexport default function Breadcrumbs() {\n  const { breadcrumbs, isMobile, headerVariant } = useAppLayoutInternals();\n\n  if (isMobile || !breadcrumbs) {\n    return null;\n  }\n\n  return (\n    <div\n      className={clsx(styles.breadcrumbs, testutilStyles.breadcrumbs, {\n        [highContrastHeaderClassName]: headerVariant === 'high-contrast',\n      })}\n    >\n      {breadcrumbs}\n    </div>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\n\nimport { InternalButton } from '../../button/internal';\nimport customCssProps from '../../internal/generated/custom-css-properties';\nimport { getLimitedValue } from '../../split-panel/utils/size-utils';\nimport { splitItems } from '../drawer/drawers-helpers';\nimport OverflowMenu from '../drawer/overflow-menu';\nimport { TOOLS_DRAWER_ID } from '../utils/use-drawers';\nimport { useAppLayoutInternals } from './context';\nimport SplitPanel from './split-panel';\nimport TriggerButton from './trigger-button';\n\nimport splitPanelTestUtilStyles from '../../split-panel/test-classes/styles.css.js';\nimport testutilStyles from '../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\n/**\n * The VISIBLE_MOBILE_TOOLBAR_TRIGGERS_LIMIT is used to reduce the number\n * of triggers that are initially visible on the mobile toolbar, the rest\n * are then placed into an overflow menu\n *\n * Note if one of the triggers is for a split-panel, it would not count that\n */\nconst VISIBLE_MOBILE_TOOLBAR_TRIGGERS_LIMIT = 2;\n\n/**\n * The Drawers root component is mounted in the AppLayout index file. It will only\n * render if the drawers are defined, and it will take over the mounting of and\n * rendering of the Tools and SplitPanel (side position) if they exist. If drawers\n * do not exist then the Tools and SplitPanel will be handled by the Tools component.\n */\nexport default function Drawers() {\n  const {\n    disableBodyScroll,\n    drawers,\n    drawersTriggerCount,\n    hasDrawerViewportOverlay,\n    hasOpenDrawer,\n    navigationOpen,\n    navigationHide,\n    isMobile,\n  } = useAppLayoutInternals();\n\n  const isUnfocusable = hasDrawerViewportOverlay && navigationOpen && !navigationHide;\n\n  if (!drawers || drawersTriggerCount === 0) {\n    return null;\n  }\n\n  return (\n    <div\n      className={clsx(styles['drawers-container'], {\n        [styles['disable-body-scroll']]: disableBodyScroll,\n        [styles['has-open-drawer']]: hasOpenDrawer,\n        [styles.unfocusable]: isUnfocusable,\n      })}\n    >\n      <SplitPanel.Side />\n      <ActiveDrawer />\n      {!isMobile && <DesktopTriggers />}\n    </div>\n  );\n}\n\nfunction ActiveDrawer() {\n  const {\n    activeDrawerId,\n    ariaLabels,\n    drawers,\n    drawersRefs,\n    handleDrawersClick,\n    handleToolsClick,\n    hasDrawerViewportOverlay,\n    isMobile,\n    navigationOpen,\n    navigationHide,\n    loseDrawersFocus,\n    resizeHandle,\n    drawerSize,\n    drawersMinWidth,\n    drawersMaxWidth,\n    drawerRef,\n  } = useAppLayoutInternals();\n\n  const activeDrawer = drawers?.find(item => item.id === activeDrawerId) ?? null;\n\n  const computedAriaLabels = {\n    closeButton: activeDrawerId ? activeDrawer?.ariaLabels?.closeButton : ariaLabels?.toolsClose,\n    content: activeDrawerId ? activeDrawer?.ariaLabels?.drawerName : ariaLabels?.tools,\n  };\n\n  const isHidden = !activeDrawerId;\n  const isUnfocusable = isHidden || (hasDrawerViewportOverlay && navigationOpen && !navigationHide);\n  const isToolsDrawer = activeDrawerId === TOOLS_DRAWER_ID;\n  const toolsContent = drawers?.find(drawer => drawer.id === TOOLS_DRAWER_ID)?.content;\n\n  const size = getLimitedValue(drawersMinWidth, drawerSize, drawersMaxWidth);\n\n  return (\n    <aside\n      id={activeDrawerId ?? undefined}\n      aria-hidden={isHidden}\n      aria-label={computedAriaLabels.content}\n      className={clsx(styles.drawer, {\n        [styles['is-drawer-open']]: activeDrawerId,\n        [styles.unfocusable]: isUnfocusable,\n        [testutilStyles['active-drawer']]: activeDrawerId,\n        [testutilStyles.tools]: isToolsDrawer,\n      })}\n      style={{\n        ...(!isMobile && drawerSize && { [customCssProps.drawerSize]: `${size}px` }),\n      }}\n      ref={drawerRef}\n      onBlur={e => {\n        if (!e.relatedTarget || !e.currentTarget.contains(e.relatedTarget)) {\n          loseDrawersFocus();\n        }\n      }}\n    >\n      {!isMobile && activeDrawer?.resizable && <div className={styles['drawer-slider']}>{resizeHandle}</div>}\n      <div className={styles['drawer-content-container']}>\n        <div className={styles['drawer-close-button']}>\n          <InternalButton\n            ariaLabel={computedAriaLabels.closeButton}\n            className={clsx({\n              [testutilStyles['active-drawer-close-button']]: activeDrawerId,\n              [testutilStyles['tools-close']]: isToolsDrawer,\n            })}\n            formAction=\"none\"\n            iconName={isMobile ? 'close' : 'angle-right'}\n            onClick={() => {\n              handleDrawersClick(activeDrawerId);\n              handleToolsClick(false);\n            }}\n            ref={drawersRefs.close}\n            variant=\"icon\"\n          />\n        </div>\n        {toolsContent && (\n          <div\n            key={TOOLS_DRAWER_ID}\n            className={clsx(\n              styles['drawer-content'],\n              activeDrawerId !== TOOLS_DRAWER_ID && styles['drawer-content-hidden']\n            )}\n          >\n            {toolsContent}\n          </div>\n        )}\n        {activeDrawerId !== TOOLS_DRAWER_ID && (\n          <div key={activeDrawerId} className={styles['drawer-content']}>\n            {activeDrawerId && activeDrawer?.content}\n          </div>\n        )}\n      </div>\n    </aside>\n  );\n}\n\n/**\n * The DesktopTriggers will render the trigger buttons for Tools, Drawers, and the\n * SplitPanel in non mobile viewports. Changes to the activeDrawerId need to be\n * tracked by the previousActiveDrawerId property in order to appropriately apply\n * the ref required to manage focus control.\n */\nfunction DesktopTriggers() {\n  const {\n    activeDrawerId,\n    drawers,\n    drawersAriaLabel,\n    drawersOverflowAriaLabel,\n    drawersOverflowWithBadgeAriaLabel,\n    drawersRefs,\n    drawersTriggerCount,\n    handleDrawersClick,\n    handleSplitPanelClick,\n    hasOpenDrawer,\n    isSplitPanelOpen,\n    splitPanel,\n    splitPanelControlId,\n    splitPanelDisplayed,\n    splitPanelPosition,\n    splitPanelRefs,\n    splitPanelToggle,\n    splitPanelReportedHeaderHeight,\n    splitPanelReportedSize,\n    headerVariant,\n  } = useAppLayoutInternals();\n\n  const hasMultipleTriggers = drawersTriggerCount > 1;\n  const hasSplitPanel = splitPanel && splitPanelDisplayed && splitPanelPosition === 'side';\n\n  const previousActiveDrawerId = useRef(activeDrawerId);\n  const [containerHeight, triggersContainerRef] = useContainerQuery(rect => rect.contentBoxHeight);\n\n  if (activeDrawerId) {\n    previousActiveDrawerId.current = activeDrawerId;\n  }\n\n  const splitPanelHeight =\n    isSplitPanelOpen && splitPanelPosition === 'bottom' ? splitPanelReportedSize : splitPanelReportedHeaderHeight;\n\n  const getIndexOfOverflowItem = () => {\n    if (containerHeight) {\n      const ITEM_HEIGHT = 48;\n      const overflowSpot =\n        activeDrawerId && isSplitPanelOpen\n          ? (containerHeight - splitPanelReportedHeaderHeight) / 1.5\n          : (containerHeight - splitPanelHeight) / 1.5;\n\n      const index = Math.floor(overflowSpot / ITEM_HEIGHT);\n\n      let splitPanelItem = 0;\n      if (hasSplitPanel && splitPanelToggle.displayed) {\n        splitPanelItem = 1;\n      }\n      return index - splitPanelItem;\n    }\n\n    return 0;\n  };\n\n  const { visibleItems, overflowItems } = splitItems(drawers ?? undefined, getIndexOfOverflowItem(), activeDrawerId);\n  const overflowMenuHasBadge = !!overflowItems.find(item => item.badge);\n\n  return (\n    <aside\n      className={clsx(styles['drawers-desktop-triggers-container'], {\n        [styles['has-multiple-triggers']]: hasMultipleTriggers,\n        [styles['has-open-drawer']]: hasOpenDrawer,\n      })}\n      aria-label={drawersAriaLabel}\n      ref={triggersContainerRef}\n      role=\"region\"\n    >\n      <div\n        className={clsx(styles['drawers-trigger-content'], {\n          [styles['has-multiple-triggers']]: hasMultipleTriggers,\n          [styles['has-open-drawer']]: hasOpenDrawer,\n        })}\n        aria-label={drawersAriaLabel}\n        role=\"toolbar\"\n        aria-orientation=\"vertical\"\n      >\n        {visibleItems.map(item => {\n          const isForPreviousActiveDrawer = previousActiveDrawerId?.current === item.id;\n          return (\n            <TriggerButton\n              ariaLabel={item.ariaLabels?.triggerButton}\n              ariaExpanded={item.id === activeDrawerId}\n              ariaControls={activeDrawerId === item.id ? item.id : undefined}\n              className={clsx(styles['drawers-trigger'], testutilStyles['drawers-trigger'], {\n                [testutilStyles['drawers-trigger-with-badge']]: item.badge,\n                [testutilStyles['tools-toggle']]: item.id === TOOLS_DRAWER_ID,\n              })}\n              iconName={item?.trigger?.iconName}\n              iconSvg={item?.trigger?.iconSvg}\n              key={item.id}\n              onClick={() => handleDrawersClick(item.id)}\n              ref={isForPreviousActiveDrawer ? drawersRefs.toggle : undefined}\n              badge={item.badge}\n              testId={`awsui-app-layout-trigger-${item.id}`}\n              highContrastHeader={headerVariant === 'high-contrast'}\n              selected={item.id === activeDrawerId}\n            />\n          );\n        })}\n\n        {overflowItems.length > 0 && (\n          <OverflowMenu\n            items={overflowItems}\n            ariaLabel={overflowMenuHasBadge ? drawersOverflowWithBadgeAriaLabel : drawersOverflowAriaLabel}\n            customTriggerBuilder={({ onClick, triggerRef, ariaLabel, ariaExpanded, testUtilsClass }) => (\n              <TriggerButton\n                ref={triggerRef}\n                ariaLabel={ariaLabel}\n                ariaExpanded={ariaExpanded}\n                badge={overflowMenuHasBadge}\n                className={clsx(styles['drawers-trigger'], testutilStyles['drawers-trigger'], testUtilsClass)}\n                iconName=\"ellipsis\"\n                onClick={onClick}\n                highContrastHeader={headerVariant === 'high-contrast'}\n              />\n            )}\n            onItemClick={({ detail }) => {\n              handleDrawersClick(detail.id);\n            }}\n          />\n        )}\n        {hasSplitPanel && splitPanelToggle.displayed && (\n          <TriggerButton\n            ariaLabel={splitPanelToggle.ariaLabel}\n            ariaControls={splitPanelControlId}\n            ariaExpanded={!!isSplitPanelOpen}\n            className={clsx(styles['drawers-trigger'], splitPanelTestUtilStyles['open-button'])}\n            iconName=\"view-vertical\"\n            onClick={() => handleSplitPanelClick()}\n            selected={hasSplitPanel && isSplitPanelOpen}\n            ref={splitPanelRefs.toggle}\n            highContrastHeader={headerVariant === 'high-contrast'}\n          />\n        )}\n      </div>\n    </aside>\n  );\n}\n\n/**\n * The MobileTriggers will be mounted inside of the AppBar component and\n * only rendered when Drawers are defined in mobile viewports. The same logic\n * will in the AppBar component will suppress the rendering of the legacy\n * trigger button for the Tools drawer.\n */\nexport function MobileTriggers() {\n  const {\n    activeDrawerId,\n    drawers,\n    drawersAriaLabel,\n    drawersOverflowAriaLabel,\n    drawersOverflowWithBadgeAriaLabel,\n    drawersRefs,\n    handleDrawersClick,\n    hasDrawerViewportOverlay,\n    headerVariant,\n  } = useAppLayoutInternals();\n\n  const previousActiveDrawerId = useRef(activeDrawerId);\n\n  if (!drawers) {\n    return null;\n  }\n\n  if (activeDrawerId) {\n    previousActiveDrawerId.current = activeDrawerId;\n  }\n\n  const { visibleItems, overflowItems } = splitItems(drawers, VISIBLE_MOBILE_TOOLBAR_TRIGGERS_LIMIT, activeDrawerId);\n  const overflowMenuHasBadge = !!overflowItems.find(item => item.badge);\n\n  return (\n    <aside\n      aria-hidden={hasDrawerViewportOverlay}\n      className={clsx({\n        [styles.unfocusable]: hasDrawerViewportOverlay,\n      })}\n      aria-label={drawersAriaLabel}\n      role=\"region\"\n    >\n      <div\n        className={styles['drawers-mobile-triggers-container']}\n        aria-label={drawersAriaLabel}\n        role=\"toolbar\"\n        aria-orientation=\"horizontal\"\n      >\n        {visibleItems.map(item => {\n          const isForPreviousActiveDrawer = previousActiveDrawerId?.current === item.id;\n          return (\n            <TriggerButton\n              ariaExpanded={item.id === activeDrawerId}\n              ariaLabel={item.ariaLabels?.triggerButton}\n              ariaControls={activeDrawerId === item.id ? item.id : undefined}\n              className={clsx(styles['drawers-trigger'], testutilStyles['drawers-trigger'], {\n                [testutilStyles['drawers-trigger-with-badge']]: item.badge,\n                [testutilStyles['tools-toggle']]: item.id === TOOLS_DRAWER_ID,\n              })}\n              disabled={hasDrawerViewportOverlay}\n              ref={isForPreviousActiveDrawer ? drawersRefs.toggle : undefined}\n              iconName={item?.trigger?.iconName}\n              iconSvg={item?.trigger?.iconSvg}\n              badge={item.badge}\n              key={item.id}\n              onClick={() => handleDrawersClick(item.id)}\n              testId={`awsui-app-layout-trigger-${item.id}`}\n              highContrastHeader={headerVariant === 'high-contrast'}\n              selected={item.id === activeDrawerId}\n            />\n          );\n        })}\n        {overflowItems.length > 0 && (\n          <OverflowMenu\n            items={overflowItems}\n            ariaLabel={overflowMenuHasBadge ? drawersOverflowWithBadgeAriaLabel : drawersOverflowAriaLabel}\n            onItemClick={({ detail }) => handleDrawersClick(detail.id)}\n          />\n        )}\n      </div>\n    </aside>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { Ref } from 'react';\nimport clsx from 'clsx';\n\nimport { ButtonProps } from '../../button/interfaces';\nimport { InternalButton } from '../../button/internal';\nimport { IconProps } from '../../icon/interfaces';\nimport Icon from '../../icon/internal';\nimport { useAppLayoutInternals } from './context';\n\nimport styles from './styles.css.js';\n\nexport interface TriggerButtonProps {\n  ariaLabel?: string;\n  className?: string;\n  iconName?: IconProps.Name;\n  iconSvg?: React.ReactNode;\n  ariaExpanded: boolean | undefined;\n  ariaControls?: string;\n  disabled?: boolean;\n  /**\n   * Ovewrwrites any internal testIds when provided\n   */\n  testId?: string;\n  /**\n   * If button is selected. Used only for desktop and applies a selected class for desktop. Mobile does not need the class as the trigger buttons are hidden by the open drawer\n   */\n  selected?: boolean;\n  onClick: () => void;\n  badge?: boolean;\n  highContrastHeader?: boolean;\n}\n\nfunction TriggerButton(\n  {\n    ariaLabel,\n    className,\n    iconName,\n    iconSvg,\n    ariaExpanded,\n    ariaControls,\n    onClick,\n    testId,\n    disabled = false,\n    badge,\n    selected = false,\n    highContrastHeader,\n  }: TriggerButtonProps,\n  ref: React.Ref<ButtonProps.Ref>\n) {\n  const { isMobile } = useAppLayoutInternals();\n\n  return (\n    <div className={clsx(styles['trigger-wrapper'], !highContrastHeader && styles['remove-high-contrast-header'])}>\n      {isMobile ? (\n        <InternalButton\n          ariaExpanded={ariaExpanded}\n          ariaLabel={ariaLabel}\n          ariaControls={ariaControls}\n          className={className}\n          disabled={disabled}\n          ref={ref}\n          formAction=\"none\"\n          iconName={iconName}\n          iconSvg={iconSvg}\n          badge={badge}\n          onClick={onClick}\n          variant=\"icon\"\n          nativeButtonAttributes={{\n            'aria-haspopup': true,\n            ...(testId && {\n              'data-testid': testId,\n            }),\n          }}\n        />\n      ) : (\n        <>\n          <button\n            aria-expanded={ariaExpanded}\n            aria-controls={ariaControls}\n            aria-haspopup={true}\n            aria-label={ariaLabel}\n            aria-disabled={disabled}\n            disabled={disabled}\n            className={clsx(\n              styles.trigger,\n              styles['trigger-button-styles'],\n              {\n                [styles.selected]: selected,\n                [styles.badge]: badge,\n              },\n              className\n            )}\n            onClick={onClick}\n            ref={ref as Ref<HTMLButtonElement>}\n            type=\"button\"\n            data-testid={testId}\n          >\n            <span className={clsx(badge && clsx(styles['trigger-badge-wrapper'], styles['trigger-button-styles']))}>\n              {(iconName || iconSvg) && <Icon name={iconName} svg={iconSvg} />}\n            </span>\n          </button>\n          {badge && <div className={styles.dot} />}\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default React.forwardRef(TriggerButton);\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_rjqu5_1kbym_5\",\n  \"header-actions\": \"awsui_header-actions_rjqu5_1kbym_6\",\n  \"header-before\": \"awsui_header-before_rjqu5_1kbym_7\",\n  \"header-description\": \"awsui_header-description_rjqu5_1kbym_8\",\n  \"header-info\": \"awsui_header-info_rjqu5_1kbym_9\",\n  \"header-text\": \"awsui_header-text_rjqu5_1kbym_10\",\n  \"open-button\": \"awsui_open-button_rjqu5_1kbym_11\",\n  \"close-button\": \"awsui_close-button_rjqu5_1kbym_12\",\n  \"preferences-button\": \"awsui_preferences-button_rjqu5_1kbym_13\",\n  \"slider\": \"awsui_slider_rjqu5_1kbym_14\",\n  \"open-position-bottom\": \"awsui_open-position-bottom_rjqu5_1kbym_15\",\n  \"open-position-side\": \"awsui_open-position-side_rjqu5_1kbym_16\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { highContrastHeaderClassName } from '../../internal/utils/content-header-utils';\nimport { useAppLayoutInternals } from './context';\n\nimport styles from './styles.css.js';\n\nexport default function Header() {\n  const { breadcrumbs, contentHeader, hasDrawerViewportOverlay, hasNotificationsContent, headerVariant } =\n    useAppLayoutInternals();\n\n  if (!contentHeader) {\n    return null;\n  }\n\n  return (\n    <header\n      className={clsx(styles.content, {\n        [styles['has-breadcrumbs']]: breadcrumbs,\n        [styles['has-notifications-content']]: hasNotificationsContent,\n        [styles.unfocusable]: hasDrawerViewportOverlay,\n        [highContrastHeaderClassName]: headerVariant === 'high-contrast',\n      })}\n    >\n      {contentHeader}\n    </header>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport customCssProps from '../../internal/generated/custom-css-properties';\nimport { useGlobalScrollPadding } from '../utils/use-global-scroll-padding';\nimport { useAppLayoutInternals } from './context';\n\nimport testutilStyles from '../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\ninterface LayoutProps {\n  children: React.ReactNode;\n}\n\n/**\n * The layoutElement ref will be used by the resize observers to calculate the offset from\n * the top and bottom of the viewport based on the header and footer elements. This is to\n * ensure the Layout component minimum height will fill 100% of the viewport less those\n * cumulative heights.\n */\nexport default function Layout({ children }: LayoutProps) {\n  const {\n    breadcrumbs,\n    contentHeader,\n    contentType,\n    disableBodyScroll,\n    disableContentPaddings,\n    drawersTriggerCount,\n    footerHeight,\n    hasNotificationsContent,\n    hasOpenDrawer,\n    headerHeight,\n    isBackgroundOverlapDisabled,\n    isMobile,\n    navigationOpen,\n    layoutElement,\n    layoutWidth,\n    mainOffsetLeft,\n    maxContentWidth,\n    minContentWidth,\n    navigationHide,\n    notificationsHeight,\n    __embeddedViewMode,\n    splitPanelPosition,\n    splitPanelDisplayed,\n  } = useAppLayoutInternals();\n\n  useGlobalScrollPadding(headerHeight);\n\n  // Determine the first content child so the gap will vertically align with the trigger buttons\n  const contentFirstChild = getContentFirstChild(breadcrumbs, contentHeader, hasNotificationsContent, isMobile);\n\n  // Content gaps on the left and right are used with the minmax function in the CSS grid column definition\n  const hasContentGapLeft = navigationOpen || navigationHide;\n  const hasContentGapRight = drawersTriggerCount === 0 || hasOpenDrawer;\n\n  return (\n    <main\n      className={clsx(\n        styles.layout,\n        styles[`content-first-child-${contentFirstChild}`],\n        styles[`content-type-${contentType}`],\n        styles[`split-panel-position-${splitPanelPosition ?? 'bottom'}`],\n        {\n          [styles['disable-body-scroll']]: disableBodyScroll,\n          [testutilStyles['disable-body-scroll-root']]: disableBodyScroll,\n          [styles['disable-content-paddings']]: disableContentPaddings,\n          [styles['has-breadcrumbs']]: breadcrumbs && !isMobile,\n          [styles['has-content-gap-left']]: hasContentGapLeft,\n          [styles['has-content-gap-right']]: hasContentGapRight,\n          [styles['has-header']]: contentHeader,\n          [styles['has-max-content-width']]: maxContentWidth && maxContentWidth > 0,\n          [styles['has-split-panel']]: splitPanelDisplayed,\n          [styles['is-overlap-disabled']]: isBackgroundOverlapDisabled,\n          [styles['is-hide-mobile-toolbar']]: __embeddedViewMode,\n          [styles['has-left-toggles-gutter']]: !(isMobile || navigationHide || navigationOpen),\n          [styles['has-right-toggles-gutter']]: !isMobile && !hasContentGapRight,\n        },\n        testutilStyles.root\n      )}\n      ref={layoutElement}\n      style={{\n        [customCssProps.headerHeight]: `${headerHeight}px`,\n        [customCssProps.footerHeight]: `${footerHeight}px`,\n        [customCssProps.layoutWidth]: `${layoutWidth}px`,\n        [customCssProps.mainOffsetLeft]: `${mainOffsetLeft}px`,\n        ...(maxContentWidth && { [customCssProps.maxContentWidth]: `${maxContentWidth}px` }),\n        ...(minContentWidth && { [customCssProps.minContentWidth]: `${minContentWidth}px` }),\n        [customCssProps.notificationsHeight]: `${notificationsHeight}px`,\n      }}\n    >\n      {children}\n    </main>\n  );\n}\n\n/*\nThe Notifications, Breadcrumbs, Header, and Main are all rendered in the center\ncolumn of the grid layout. Any of these could be the first child to render in the\ncontent area if the previous siblings do not exist. The grid gap before the first\nchild will be different to ensure vertical alignment with the trigger buttons.\n*/\nfunction getContentFirstChild(\n  breadcrumbs: React.ReactNode,\n  contentHeader: React.ReactNode,\n  hasNotificationsContent: boolean,\n  isMobile: boolean\n) {\n  let contentFirstChild = 'main';\n\n  if (hasNotificationsContent) {\n    contentFirstChild = 'notifications';\n  } else if (breadcrumbs && !isMobile) {\n    contentFirstChild = 'breadcrumbs';\n  } else if (contentHeader) {\n    contentFirstChild = 'header';\n  }\n\n  return contentFirstChild;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect } from 'react';\n\n// Sets scroll padding to the scrolling element (`html` or `body`).\n// This prevents the focused element to be hidden under the sticky headers.\nexport function useGlobalScrollPadding(headerHeight: number) {\n  useEffect(() => {\n    const scrollingElement = document.scrollingElement;\n    if (scrollingElement instanceof HTMLElement) {\n      scrollingElement.style.scrollPaddingTop = `${headerHeight}px`;\n    }\n  }, [headerHeight]);\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { BuiltInErrorBoundary } from '../../error-boundary/internal';\nimport customCssProps from '../../internal/generated/custom-css-properties';\nimport * as tokens from '../../internal/generated/styles/tokens';\nimport { getStickyOffsetVars } from '../utils/sticky-offsets';\nimport { useAppLayoutInternals } from './context';\n\nimport testutilStyles from '../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\nexport default function Main() {\n  const {\n    content,\n    disableBodyScroll,\n    disableContentPaddings,\n    footerHeight,\n    hasDrawerViewportOverlay,\n    navigationOpen,\n    placement,\n    isMobile,\n    isSplitPanelOpen,\n    isToolsOpen,\n    mainElement,\n    notificationsHeight,\n    stickyNotifications,\n    offsetBottom,\n    splitPanelDisplayed,\n    splitPanelPosition,\n    activeDrawerId,\n  } = useAppLayoutInternals();\n\n  const splitPanelHeight = offsetBottom - footerHeight;\n\n  return (\n    <div\n      className={clsx(\n        styles.container,\n        styles[`split-panel-position-${splitPanelPosition ?? 'bottom'}`],\n        {\n          [styles['disable-content-paddings']]: disableContentPaddings,\n          [styles['has-split-panel']]: splitPanelDisplayed,\n          [styles['is-navigation-open']]: navigationOpen,\n          [styles['is-tools-open']]: isToolsOpen,\n          [styles['has-active-drawer']]: !!activeDrawerId,\n          [styles['is-split-panel-open']]: isSplitPanelOpen,\n          [styles.unfocusable]: hasDrawerViewportOverlay,\n        },\n        testutilStyles.content\n      )}\n      ref={mainElement}\n      style={{\n        [customCssProps.splitPanelHeight]: `${splitPanelHeight}px`,\n        ...getStickyOffsetVars(\n          placement.insetBlockStart,\n          offsetBottom,\n          stickyNotifications && notificationsHeight > 0 ? `${tokens.spaceXs} + ${notificationsHeight}px` : '0px',\n          `var(${customCssProps.mobileBarHeight})`,\n          !!disableBodyScroll,\n          isMobile\n        ),\n      }}\n    >\n      <BuiltInErrorBoundary>{content}</BuiltInErrorBoundary>\n    </div>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { InternalButton } from '../../button/internal';\nimport { highContrastHeaderClassName } from '../../internal/utils/content-header-utils';\nimport { useAppLayoutInternals } from './context';\nimport { MobileTriggers as DrawersMobileTriggers } from './drawers';\n\nimport testutilStyles from '../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\nexport default function MobileToolbar() {\n  const {\n    ariaLabels,\n    breadcrumbs,\n    drawers,\n    handleNavigationClick,\n    handleToolsClick,\n    hasDrawerViewportOverlay,\n    isMobile,\n    navigationOpen,\n    __embeddedViewMode,\n    isToolsOpen,\n    navigationHide,\n    navigationRefs,\n    toolsHide,\n    toolsRefs,\n    headerVariant,\n  } = useAppLayoutInternals();\n\n  if (\n    !isMobile ||\n    __embeddedViewMode ||\n    (navigationHide && !breadcrumbs && toolsHide && (!drawers || drawers.length === 0))\n  ) {\n    return null;\n  }\n\n  return (\n    <section\n      className={clsx(\n        styles['mobile-toolbar'],\n        [testutilStyles['mobile-bar']],\n        {\n          [styles['has-breadcrumbs']]: breadcrumbs,\n          [styles.unfocusable]: hasDrawerViewportOverlay,\n          [highContrastHeaderClassName]: headerVariant === 'high-contrast',\n        },\n        testutilStyles['mobile-bar'],\n        headerVariant !== 'high-contrast' && styles['remove-high-contrast-header']\n      )}\n    >\n      {!navigationHide && (\n        <nav\n          aria-hidden={navigationOpen}\n          aria-label={ariaLabels?.navigation ?? undefined}\n          aria-orientation=\"horizontal\"\n          className={clsx(styles['mobile-toolbar-nav'], { [testutilStyles['drawer-closed']]: !navigationOpen })}\n        >\n          <InternalButton\n            ariaLabel={ariaLabels?.navigationToggle ?? undefined}\n            ariaExpanded={navigationOpen ? undefined : false}\n            iconName=\"menu\"\n            formAction=\"none\"\n            onClick={() => handleNavigationClick(true)}\n            variant=\"icon\"\n            className={testutilStyles['navigation-toggle']}\n            ref={navigationRefs.toggle}\n            disabled={hasDrawerViewportOverlay}\n            nativeButtonAttributes={{ 'aria-haspopup': navigationOpen ? undefined : true }}\n          />\n        </nav>\n      )}\n\n      {breadcrumbs && (\n        <div className={clsx(styles['mobile-toolbar-breadcrumbs'], testutilStyles.breadcrumbs)}>{breadcrumbs}</div>\n      )}\n\n      {drawers ? (\n        <DrawersMobileTriggers />\n      ) : (\n        !toolsHide && (\n          <aside\n            aria-hidden={isToolsOpen}\n            aria-label={ariaLabels?.tools ?? undefined}\n            className={clsx(styles['mobile-toolbar-tools'], { [testutilStyles['drawer-closed']]: !isToolsOpen })}\n          >\n            <InternalButton\n              className={testutilStyles['tools-toggle']}\n              ariaExpanded={isToolsOpen}\n              disabled={hasDrawerViewportOverlay}\n              ariaLabel={ariaLabels?.toolsToggle ?? undefined}\n              iconName=\"status-info\"\n              formAction=\"none\"\n              onClick={() => handleToolsClick(true)}\n              variant=\"icon\"\n              ref={toolsRefs.toggle}\n              nativeButtonAttributes={{ 'aria-haspopup': true }}\n            />\n          </aside>\n        )\n      )}\n    </section>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { findUpUntil } from '@cloudscape-design/component-toolkit/dom';\n\nimport { InternalButton } from '../../button/internal';\nimport { Transition } from '../../internal/components/transition';\nimport customCssProps from '../../internal/generated/custom-css-properties';\nimport { useAppLayoutInternals } from './context';\nimport TriggerButton from './trigger-button';\n\nimport testutilStyles from '../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\n/**\n * The Navigation component consists of the following elements:\n * the container, or root element, that sits as a direct child to the Layout grid definition;\n * the show navigation form that contains the trigger for the drawer in large viewports;\n * the navigation, or drawer, that contains the hide navigation form and the children\n * passed through the API;\n */\nexport default function Navigation() {\n  const {\n    ariaLabels,\n    disableBodyScroll,\n    handleNavigationClick,\n    hasDrawerViewportOverlay,\n    isMobile,\n    navigationOpen,\n    isToolsOpen,\n    navigation,\n    navigationHide,\n    navigationRefs,\n    navigationWidth,\n    toolsHide,\n    headerVariant,\n  } = useAppLayoutInternals();\n\n  if (navigationHide) {\n    return null;\n  }\n\n  // Close the Navigation drawer on mobile when a user clicks a link inside.\n  const onNavigationClick = (event: React.MouseEvent) => {\n    const hasLink = findUpUntil(\n      event.target as HTMLElement,\n      node => node.tagName === 'A' && !!(node as HTMLAnchorElement).href\n    );\n    if (hasLink && isMobile) {\n      handleNavigationClick(false);\n    }\n  };\n\n  const isUnfocusable = hasDrawerViewportOverlay && (!navigationOpen || (isToolsOpen && !toolsHide));\n\n  return (\n    <Transition in={navigationOpen}>\n      {(state, transitionEventsRef) => (\n        <div\n          className={clsx(styles['navigation-container'], {\n            [styles['disable-body-scroll']]: disableBodyScroll,\n            [styles.unfocusable]: isUnfocusable,\n          })}\n          style={{ [customCssProps.navigationWidth]: `${navigationWidth}px` }}\n        >\n          {!isMobile && (\n            <nav\n              aria-hidden={isMobile || navigationOpen}\n              aria-label={ariaLabels?.navigation ?? undefined}\n              className={clsx(styles['show-navigation'], {\n                [styles.animating]: state === 'exiting',\n                [styles['is-navigation-open']]: navigationOpen,\n              })}\n              ref={state === 'exiting' ? transitionEventsRef : undefined}\n            >\n              <TriggerButton\n                ariaLabel={ariaLabels?.navigationToggle}\n                ariaExpanded={navigationOpen ? undefined : false}\n                iconName=\"menu\"\n                className={testutilStyles['navigation-toggle']}\n                onClick={() => handleNavigationClick(true)}\n                ref={navigationRefs.toggle}\n                highContrastHeader={headerVariant === 'high-contrast'}\n              />\n            </nav>\n          )}\n\n          <nav\n            aria-label={ariaLabels?.navigation ?? undefined}\n            className={clsx(styles.navigation, testutilStyles.navigation, {\n              [testutilStyles['drawer-closed']]: !navigationOpen,\n              [styles.animating]: state === 'entering',\n              [styles['is-navigation-open']]: navigationOpen,\n            })}\n            ref={state !== 'exiting' ? transitionEventsRef : undefined}\n            aria-hidden={!navigationOpen}\n            onClick={onNavigationClick}\n          >\n            <div className={clsx(styles['content-container'], styles['animated-content'])}>\n              <div className={styles['hide-navigation']}>\n                <InternalButton\n                  ariaLabel={ariaLabels?.navigationClose ?? undefined}\n                  iconName={isMobile ? 'close' : 'angle-left'}\n                  onClick={() => handleNavigationClick(false)}\n                  variant=\"icon\"\n                  formAction=\"none\"\n                  className={testutilStyles['navigation-close']}\n                  ref={navigationRefs.close}\n                />\n              </div>\n              {navigation}\n            </div>\n          </nav>\n        </div>\n      )}\n    </Transition>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\n\nimport { highContrastHeaderClassName } from '../../internal/utils/content-header-utils';\nimport { useAppLayoutInternals } from './context';\n\nimport testutilStyles from '../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\nexport default function Notifications() {\n  const { notifications } = useAppLayoutInternals();\n  if (!notifications) {\n    return null;\n  }\n  return <NotificationsImplementation />;\n}\n\nfunction NotificationsImplementation() {\n  const {\n    ariaLabels,\n    hasDrawerViewportOverlay,\n    notifications,\n    setNotificationsHeight,\n    stickyNotifications,\n    headerVariant,\n    hasNotificationsContent,\n  } = useAppLayoutInternals();\n  const ref = useRef<HTMLDivElement>(null);\n\n  useResizeObserver(ref, entry => setNotificationsHeight(entry.contentBoxHeight));\n  useEffect(() => {\n    return () => {\n      setNotificationsHeight(0);\n    };\n    // unmount effect only\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  /**\n   * The notificationsElement ref is assigned to an inner div to prevent internal bottom margin\n   * from affecting the calculated height, which is used for sticky elements below.\n   */\n  return (\n    <div\n      role=\"region\"\n      aria-label={ariaLabels?.notifications ?? undefined}\n      className={clsx(\n        styles.notifications,\n        {\n          [styles['sticky-notifications']]: stickyNotifications,\n          [styles['has-notification-content']]: hasNotificationsContent,\n          [styles.unfocusable]: hasDrawerViewportOverlay,\n          [highContrastHeaderClassName]: headerVariant === 'high-contrast',\n          [styles['high-contrast']]: headerVariant === 'high-contrast',\n        },\n        testutilStyles.notifications\n      )}\n    >\n      <div ref={ref}>{notifications}</div>\n    </div>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { InternalButton } from '../../button/internal';\nimport { Transition } from '../../internal/components/transition';\nimport customCssProps from '../../internal/generated/custom-css-properties';\nimport { useAppLayoutInternals } from './context';\nimport TriggerButton from './trigger-button';\n\nimport splitPanelTestUtilStyles from '../../split-panel/test-classes/styles.css.js';\nimport testutilStyles from '../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\ninterface ToolsProps {\n  children: React.ReactNode;\n}\n\n/**\n * The Tools component consists of the following elements:\n * the container, or root element, that sits as a direct child to the Layout grid definition;\n * the split panel, which exists only if there is a split panel in side position;\n * the tools, or drawer, that contains the hide tools form and the children passed through the API;\n * the show tools form that contains the triggers for both the drawer and the\n * split panel in large viewports;\n */\nexport default function Tools({ children }: ToolsProps) {\n  const {\n    ariaLabels,\n    disableBodyScroll,\n    drawers,\n    handleSplitPanelClick,\n    handleToolsClick,\n    hasDrawerViewportOverlay,\n    isMobile,\n    isSplitPanelOpen,\n    isToolsOpen,\n    loseToolsFocus,\n    splitPanel,\n    splitPanelControlId,\n    splitPanelDisplayed,\n    splitPanelPosition,\n    splitPanelRefs,\n    splitPanelToggle,\n    tools,\n    toolsControlId,\n    toolsHide,\n    toolsRefs,\n    toolsWidth,\n    headerVariant,\n  } = useAppLayoutInternals();\n\n  const hasSplitPanel = !!splitPanel && splitPanelPosition === 'side';\n  const hasToolsForm = getToolsFormStatus(\n    hasSplitPanel && splitPanelDisplayed,\n    isMobile,\n    isSplitPanelOpen,\n    isToolsOpen,\n    toolsHide\n  );\n  const hasToolsFormPersistence = getToolsFormPersistence(hasSplitPanel, isSplitPanelOpen, isToolsOpen, toolsHide);\n  const isUnfocusable = hasDrawerViewportOverlay && !isToolsOpen;\n\n  /**\n   * If the drawers property is defined the SplitPanel will be mounted and rendered\n   * by the Drawers component.\n   */\n  if ((toolsHide && !hasSplitPanel) || drawers) {\n    return null;\n  }\n\n  return (\n    <Transition in={isToolsOpen ?? false}>\n      {(state, transitionEventsRef) => (\n        <div\n          className={clsx(styles['tools-container'], {\n            [styles['disable-body-scroll']]: disableBodyScroll,\n            [styles.unfocusable]: isUnfocusable,\n          })}\n          style={{\n            [customCssProps.toolsAnimationStartingOpacity]: `${hasSplitPanel && isSplitPanelOpen ? 1 : 0}`,\n            [customCssProps.toolsWidth]: `${toolsWidth}px`,\n          }}\n          onBlur={e => {\n            if (!e.relatedTarget || !e.currentTarget.contains(e.relatedTarget)) {\n              loseToolsFocus();\n            }\n          }}\n        >\n          {children}\n\n          {!toolsHide && (\n            <aside\n              id={toolsControlId}\n              aria-hidden={!isToolsOpen ? true : false}\n              aria-label={ariaLabels?.tools ?? undefined}\n              className={clsx(\n                styles.tools,\n                {\n                  [styles.animating]: state === 'entering',\n                  [styles['has-tools-form-persistence']]: hasToolsFormPersistence,\n                  [styles['is-tools-open']]: isToolsOpen,\n                  [testutilStyles['drawer-closed']]: !isToolsOpen,\n                },\n                testutilStyles.tools\n              )}\n              ref={state !== 'exiting' ? transitionEventsRef : undefined}\n            >\n              <div className={styles['animated-content']}>\n                <div className={styles['hide-tools']}>\n                  <InternalButton\n                    ariaLabel={ariaLabels?.toolsClose ?? undefined}\n                    iconName={isMobile ? 'close' : 'angle-right'}\n                    onClick={() => handleToolsClick(false)}\n                    variant=\"icon\"\n                    formAction=\"none\"\n                    className={testutilStyles['tools-close']}\n                    ref={toolsRefs.close}\n                  />\n                </div>\n\n                {tools}\n              </div>\n            </aside>\n          )}\n\n          {!isMobile && (\n            <aside\n              aria-hidden={!hasToolsForm ? true : false}\n              aria-label={ariaLabels?.tools ?? undefined}\n              className={clsx(styles['show-tools'], {\n                [styles.animating]: state === 'exiting',\n                [styles['has-tools-form']]: hasToolsForm,\n                [styles['has-tools-form-persistence']]: hasToolsFormPersistence,\n              })}\n              ref={state === 'exiting' ? transitionEventsRef : undefined}\n              data-testid=\"side-split-panel-drawer\"\n            >\n              {!toolsHide && (\n                <TriggerButton\n                  ariaLabel={ariaLabels?.toolsToggle}\n                  ariaControls={toolsControlId}\n                  ariaExpanded={isToolsOpen}\n                  iconName=\"status-info\"\n                  onClick={() => handleToolsClick(!isToolsOpen)}\n                  selected={hasSplitPanel && isToolsOpen}\n                  className={testutilStyles['tools-toggle']}\n                  ref={toolsRefs.toggle}\n                  highContrastHeader={headerVariant === 'high-contrast'}\n                />\n              )}\n\n              {hasSplitPanel && splitPanelToggle.displayed && (\n                <TriggerButton\n                  ariaLabel={splitPanelToggle.ariaLabel}\n                  ariaControls={splitPanelControlId}\n                  ariaExpanded={!!isSplitPanelOpen}\n                  iconName=\"view-vertical\"\n                  onClick={() => handleSplitPanelClick()}\n                  selected={hasSplitPanel && isSplitPanelOpen}\n                  className={splitPanelTestUtilStyles['open-button']}\n                  ref={splitPanelRefs.toggle}\n                  highContrastHeader={headerVariant === 'high-contrast'}\n                />\n              )}\n            </aside>\n          )}\n        </div>\n      )}\n    </Transition>\n  );\n}\n\n/**\n * By default the Tools form is styled as display: none; This behavior should\n * be unchanged in mobile viewports where the Tools form is always suppressed.\n * In large viewports, however the Tools form and its corresponding buttons\n * should be present in the UI under the below circumstances.\n */\nfunction getToolsFormStatus(\n  hasSplitPanel: boolean,\n  isMobile: boolean,\n  isSplitPanelOpen?: boolean,\n  isToolsOpen?: boolean,\n  toolsHide?: boolean\n) {\n  let hasToolsForm = false;\n\n  if (!isMobile) {\n    // Both the Split Panel and Tools button are needed\n    if (hasSplitPanel && !toolsHide) {\n      hasToolsForm = true;\n    }\n\n    // The Split Panel button is needed\n    if (hasSplitPanel && !isSplitPanelOpen && toolsHide) {\n      hasToolsForm = true;\n    }\n\n    // The Tools button is needed\n    if (!hasSplitPanel && !toolsHide && !isToolsOpen) {\n      hasToolsForm = true;\n    }\n  }\n\n  return hasToolsForm;\n}\n\n/**\n * Under two scenarios the Tools form that contains the triggers\n * for the Tools content and the Split Panel may be persistent\n * in the UI (as opposed to disappearing when one of the drawers\n * is open). This will also add a white background as opposed to the\n * default transparent background. The buttons will present and in a\n * selected / not selected state.\n */\nfunction getToolsFormPersistence(\n  hasSplitPanel: boolean,\n  isSplitPanelOpen?: boolean,\n  isToolsOpen?: boolean,\n  toolsHide?: boolean\n) {\n  let hasToolsFormPersistence = false;\n\n  // Both Tools and Split Panel exist and one or both is open\n  if (hasSplitPanel && !toolsHide && (isSplitPanelOpen || isToolsOpen)) {\n    hasToolsFormPersistence = true;\n  }\n\n  return hasToolsFormPersistence;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useLayoutEffect, useRef, useState } from 'react';\nimport { unstable_batchedUpdates } from 'react-dom';\n\nimport ScreenreaderOnly from '../../internal/components/screenreader-only';\nimport { AppLayoutProps } from '../interfaces';\nimport { AppLayoutVisibilityContext } from './contexts';\nimport { AppLayoutInternalProps, AppLayoutPendingState } from './interfaces';\nimport { AppLayoutWidgetizedState } from './internal';\nimport { SkeletonLayout } from './skeleton';\nimport { SkeletonSlotsAttributes } from './skeleton/interfaces';\nimport { DeduplicationType, useMultiAppLayout } from './skeleton/multi-layout';\nimport { StateManager } from './state';\nimport { SharedProps } from './state/interfaces';\nimport { getPropsToMerge, mergeProps } from './state/props-merger';\nimport { ToolbarProps } from './toolbar';\n\nconst AppLayoutStateProvider: React.FC<{\n  forceDeduplicationType: DeduplicationType;\n  appLayoutProps: AppLayoutInternalProps;\n  stateManager: React.MutableRefObject<StateManager>;\n  children: (\n    registered: boolean,\n    appLayoutState: AppLayoutPendingState,\n    toolbarProps: ToolbarProps | null,\n    skeletonAttributes: SkeletonSlotsAttributes\n  ) => React.ReactNode;\n}> = ({ forceDeduplicationType, appLayoutProps, stateManager, children }) => {\n  const [appLayoutState, setAppLayoutState] = useState<AppLayoutPendingState>({ isIntersecting: true });\n  const [skeletonAttributes, setSkeletonAttributes] = useState<SkeletonSlotsAttributes>({});\n  // use { fn: } object wrapper to avoid confusion with callback form of setState\n  const [deduplicator, setDeduplicator] = useState({ fn: mergeProps });\n  const [deduplicationProps, setDeduplicationProps] = useState<SharedProps | undefined>(undefined);\n\n  const { registered, toolbarProps } = useMultiAppLayout(\n    forceDeduplicationType,\n    appLayoutState.isIntersecting,\n    deduplicationProps ?? getPropsToMerge(appLayoutProps, appLayoutState),\n    deduplicator.fn\n  );\n\n  useLayoutEffect(() => {\n    stateManager.current.setState = (appLayoutState, skeletonAttributes, deduplicationProps, mergeProps) => {\n      unstable_batchedUpdates(() => {\n        setAppLayoutState(appLayoutState);\n        setSkeletonAttributes(skeletonAttributes);\n        setDeduplicationProps(deduplicationProps);\n        setDeduplicator({ fn: mergeProps });\n      });\n    };\n  }, [stateManager]);\n\n  const hasToolbar = !!toolbarProps;\n  useEffect(() => {\n    stateManager.current.hasToolbar = hasToolbar;\n    stateManager.current.setToolbar?.(hasToolbar);\n  }, [stateManager, hasToolbar]);\n\n  return <>{children(registered, appLayoutState, toolbarProps, skeletonAttributes)}</>;\n};\n\nconst AppLayoutVisualRefreshToolbar = React.forwardRef<AppLayoutProps.Ref, AppLayoutInternalProps>(\n  (props, forwardRef) => {\n    const stateManager = useRef<StateManager>({ setState: undefined, hasToolbar: false, setToolbar: undefined });\n    const { __forceDeduplicationType: forceDeduplicationType, __embeddedViewMode: embeddedViewMode } = props as any;\n\n    return (\n      <>\n        <AppLayoutStateProvider\n          forceDeduplicationType={forceDeduplicationType}\n          appLayoutProps={props}\n          stateManager={stateManager}\n        >\n          {(registered, appLayoutState, toolbarProps, skeletonAttributes) => (\n            <AppLayoutVisibilityContext.Provider value={appLayoutState.isIntersecting}>\n              {/* Rendering a hidden copy of breadcrumbs to trigger their deduplication */}\n              {(embeddedViewMode || !toolbarProps) && props.breadcrumbs ? (\n                <ScreenreaderOnly>{props.breadcrumbs}</ScreenreaderOnly>\n              ) : null}\n              <SkeletonLayout\n                registered={registered}\n                toolbarProps={toolbarProps}\n                appLayoutProps={props}\n                appLayoutState={appLayoutState}\n                skeletonSlotsAttributes={skeletonAttributes}\n              />\n            </AppLayoutVisibilityContext.Provider>\n          )}\n        </AppLayoutStateProvider>\n        <AppLayoutWidgetizedState forwardRef={forwardRef} appLayoutProps={props} stateManager={stateManager} />\n      </>\n    );\n  }\n);\n\nexport default AppLayoutVisualRefreshToolbar;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useState } from 'react';\n\nimport { FunctionComponent, PropsType } from './index';\n\nconst getCustomFlag = (flagName: string) => {\n  const flagHolder: any = typeof window !== 'undefined' ? window : globalThis;\n  const awsuiCustomFlagsSymbol = Symbol.for('awsui-custom-flags');\n  return flagHolder?.[awsuiCustomFlagsSymbol as any]?.[flagName as any];\n};\n\nconst isAppLayoutDelayedWidget = () => {\n  return !!getCustomFlag('appLayoutDelayedWidget');\n};\n\nconst enableDelayedComponents = isAppLayoutDelayedWidget();\n\nlet loadPromise: Promise<void>;\n\nexport function createLoadableComponent<ComponentType extends FunctionComponent<any>>(\n  Component: ComponentType\n): ComponentType | undefined {\n  if (!enableDelayedComponents) {\n    return;\n  }\n  return ((props: PropsType<ComponentType>) => {\n    const [mounted, setMounted] = useState(false);\n\n    useEffect(() => {\n      if (!loadPromise) {\n        loadPromise = new Promise(resolve => setTimeout(() => resolve(), 1000));\n      }\n      let mounted = true;\n      loadPromise.then(() => {\n        if (mounted) {\n          setMounted(true);\n        }\n      });\n      return () => {\n        mounted = false;\n      };\n    }, []);\n\n    if (mounted) {\n      return <Component {...props} />;\n    }\n    // this prop is injected in `createWidgetizedComponent` and is not a part of the component signature\n    const { Skeleton } = props as any;\n\n    return Skeleton ? <Skeleton {...props} /> : <div />;\n  }) as ComponentType;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { ForwardedRef, useLayoutEffect, useState } from 'react';\n\nimport { createWidgetizedComponent } from '../../../internal/widgets';\nimport { AppLayoutProps } from '../../interfaces';\nimport { AppLayoutInternalProps, AppLayoutState } from '../interfaces';\nimport { SkeletonSlotsAttributes } from '../skeleton/interfaces';\nimport { MergeProps, SharedProps } from './interfaces';\nimport { getPropsToMerge, mergeProps } from './props-merger';\nimport { useAppLayout } from './use-app-layout';\nimport { useSkeletonSlotsAttributes } from './use-skeleton-slots-attributes';\n\nexport interface StateManager {\n  setState:\n    | ((\n        appLayoutState: AppLayoutState,\n        skeletonAttributes: SkeletonSlotsAttributes,\n        deduplicationProps: SharedProps,\n        mergeProps: MergeProps\n      ) => void)\n    | undefined;\n  hasToolbar: boolean;\n  setToolbar: ((hasToolbar: boolean) => void) | undefined;\n}\n\nexport interface AppLayoutStateProps {\n  appLayoutProps: AppLayoutInternalProps;\n  stateManager: React.MutableRefObject<StateManager>;\n  forwardRef: ForwardedRef<AppLayoutProps.Ref>;\n}\n\nexport const AppLayoutStateProvider = ({ appLayoutProps, stateManager, forwardRef }: AppLayoutStateProps) => {\n  const [hasToolbar, setHasToolbar] = useState(stateManager.current.hasToolbar ?? false);\n  const appLayoutState = useAppLayout(hasToolbar, appLayoutProps, forwardRef);\n  const skeletonSlotsAttributes = useSkeletonSlotsAttributes(hasToolbar, appLayoutProps, appLayoutState);\n\n  useLayoutEffect(() => {\n    if (!stateManager.current?.setState) {\n      console.warn('AppLayout state manager is not found');\n      return;\n    }\n    stateManager.current.setState(\n      appLayoutState,\n      skeletonSlotsAttributes,\n      getPropsToMerge(appLayoutProps, appLayoutState),\n      mergeProps\n    );\n  });\n\n  useLayoutEffect(() => {\n    stateManager.current.setToolbar = setHasToolbar;\n  }, [stateManager]);\n\n  return <></>;\n};\n\nexport const createWidgetizedAppLayoutState = createWidgetizedComponent(AppLayoutStateProvider);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { AppLayoutInternalProps, AppLayoutPendingState } from '../interfaces';\nimport { ToolbarProps } from '../toolbar';\nimport { MergeProps, SharedProps } from './interfaces';\n\nfunction checkAlreadyExists(value: boolean, propName: string) {\n  if (value) {\n    warnOnce(\n      'AppLayout',\n      `Another app layout instance on this page already defines ${propName} property. This instance will be ignored.`\n    );\n    return true;\n  }\n  return false;\n}\n\nexport const mergeProps: MergeProps = (ownProps, additionalProps) => {\n  const toolbar: ToolbarProps = {};\n  for (const props of [ownProps, ...additionalProps]) {\n    toolbar.ariaLabels = { ...toolbar.ariaLabels, ...props.ariaLabels };\n    if (\n      props.drawers &&\n      props.drawers.some(drawer => drawer.trigger) &&\n      !checkAlreadyExists(!!toolbar.drawers, 'tools or drawers')\n    ) {\n      toolbar.drawers = props.drawers;\n      toolbar.activeDrawerId = props.activeDrawerId;\n      toolbar.drawersFocusRef = props.drawersFocusRef;\n      toolbar.onActiveDrawerChange = props.onActiveDrawerChange;\n    }\n    if (\n      props.globalDrawers &&\n      props.globalDrawers.some(drawer => drawer.trigger) &&\n      !checkAlreadyExists(!!toolbar.globalDrawers, 'globalDrawers')\n    ) {\n      toolbar.globalDrawersFocusControl = props.globalDrawersFocusControl;\n      toolbar.globalDrawers = props.globalDrawers;\n      toolbar.activeGlobalDrawersIds = props.activeGlobalDrawersIds;\n      toolbar.onActiveGlobalDrawersChange = props.onActiveGlobalDrawersChange;\n    }\n    if (\n      props.aiDrawer &&\n      props.aiDrawerFocusRef &&\n      !checkAlreadyExists(!!toolbar.aiDrawerFocusRef, 'aiDrawerFocusRef')\n    ) {\n      toolbar.aiDrawerFocusRef = props.aiDrawerFocusRef;\n    }\n    if (\n      props.bottomDrawers &&\n      props.bottomDrawers.some(drawer => drawer.trigger) &&\n      !checkAlreadyExists(!!toolbar.bottomDrawers, 'bottomDrawers')\n    ) {\n      toolbar.bottomDrawers = props.bottomDrawers;\n      toolbar.bottomDrawersFocusRef = props.bottomDrawersFocusRef;\n      toolbar.activeGlobalBottomDrawerId = props.activeGlobalBottomDrawerId;\n      toolbar.onActiveGlobalBottomDrawerChange = props.onActiveGlobalBottomDrawerChange;\n    }\n    if (props.navigation && !checkAlreadyExists(!!toolbar.hasNavigation, 'navigation')) {\n      toolbar.hasNavigation = true;\n      toolbar.navigationOpen = props.navigationOpen;\n      toolbar.navigationFocusRef = props.navigationFocusRef;\n      toolbar.onNavigationToggle = props.onNavigationToggle;\n    }\n    if (\n      props.splitPanel &&\n      props.splitPanelToggleProps?.displayed &&\n      !checkAlreadyExists(!!toolbar.hasSplitPanel, 'splitPanel')\n    ) {\n      toolbar.hasSplitPanel = true;\n      toolbar.splitPanelFocusRef = props.splitPanelFocusRef;\n      toolbar.splitPanelToggleProps = props.splitPanelToggleProps;\n      toolbar.onSplitPanelToggle = props.onSplitPanelToggle;\n    }\n    if (props.breadcrumbs && !checkAlreadyExists(!!toolbar.hasBreadcrumbsPortal, 'hasBreadcrumbsPortal')) {\n      toolbar.hasBreadcrumbsPortal = true;\n    }\n    if (props.expandedDrawerId && !checkAlreadyExists(!!toolbar.expandedDrawerId, 'expandedDrawerId')) {\n      toolbar.expandedDrawerId = props.expandedDrawerId;\n      toolbar.setExpandedDrawerId = props.setExpandedDrawerId;\n    }\n  }\n  // do not render toolbar if no fields are defined, except ariaLabels, which are always there\n  return Object.keys(toolbar).filter(key => key !== 'ariaLabels').length > 0 ? toolbar : null;\n};\n\nexport const getPropsToMerge = (props: AppLayoutInternalProps, appLayoutState: AppLayoutPendingState): SharedProps => {\n  const state = appLayoutState.widgetizedState;\n  return {\n    breadcrumbs: props.breadcrumbs,\n    ariaLabels: state ? state.ariaLabels : props.ariaLabels,\n    navigation: !props.navigationTriggerHide && !props.navigationHide,\n    navigationOpen: state ? state.navigationOpen : props.navigationOpen,\n    onNavigationToggle: state?.onNavigationToggle,\n    navigationFocusRef: state?.navigationFocusControl.refs.toggle,\n    activeDrawerId: state?.activeDrawer?.id ?? null,\n    // only pass it down if there are non-empty drawers or tools\n    drawers: state?.drawers?.length || !props.toolsHide ? state?.drawers : undefined,\n    globalDrawersFocusControl: state?.globalDrawersFocusControl,\n    globalDrawers: state?.globalDrawers?.length ? state.globalDrawers : undefined,\n    activeGlobalDrawersIds: state?.activeGlobalDrawersIds,\n    onActiveGlobalDrawersChange: state?.onActiveGlobalDrawersChange,\n    onActiveDrawerChange: state?.onActiveDrawerChange,\n    bottomDrawers: state?.bottomDrawers,\n    activeGlobalBottomDrawerId: state?.activeGlobalBottomDrawerId,\n    onActiveGlobalBottomDrawerChange: state?.onActiveGlobalBottomDrawerChange,\n    drawersFocusRef: state?.drawersFocusControl.refs.toggle,\n    bottomDrawersFocusRef: state?.bottomDrawersFocusControl.refs.toggle,\n    splitPanel: props.splitPanel,\n    splitPanelToggleProps: state?.splitPanelToggleConfig && {\n      ...state.splitPanelToggleConfig,\n      active: state?.splitPanelOpen,\n      controlId: state?.splitPanelControlId,\n      position: state?.splitPanelPosition,\n    },\n    splitPanelFocusRef: state?.splitPanelFocusControl.refs.toggle,\n    onSplitPanelToggle: state?.onSplitPanelToggle,\n    expandedDrawerId: state?.expandedDrawerId,\n    setExpandedDrawerId: state?.setExpandedDrawerId,\n    aiDrawer: state?.aiDrawer ?? undefined,\n    aiDrawerFocusRef: state?.aiDrawerFocusControl?.refs?.toggle,\n  };\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { ForwardedRef, useCallback, useEffect, useImperativeHandle, useRef, useState } from 'react';\n\nimport { useMergeRefs, useStableCallback, useUniqueId } from '@cloudscape-design/component-toolkit/internal';\n\nimport { SplitPanelSideToggleProps } from '../../../internal/context/split-panel-context';\nimport { fireNonCancelableEvent } from '../../../internal/events';\nimport { useControllable } from '../../../internal/hooks/use-controllable';\nimport { useIntersectionObserver } from '../../../internal/hooks/use-intersection-observer';\nimport { useMobile } from '../../../internal/hooks/use-mobile';\nimport { metrics } from '../../../internal/metrics';\nimport { useGetGlobalBreadcrumbs } from '../../../internal/plugins/helpers/use-global-breadcrumbs';\nimport { WidgetMessage } from '../../../internal/plugins/widget/interfaces';\nimport globalVars from '../../../internal/styles/global-vars';\nimport { getSplitPanelDefaultSize } from '../../../split-panel/utils/size-utils';\nimport { AppLayoutProps } from '../../interfaces';\nimport { SplitPanelProviderProps } from '../../split-panel';\nimport { MIN_DRAWER_SIZE, OnChangeParams, useDrawers } from '../../utils/use-drawers';\nimport { useAsyncFocusControl, useMultipleFocusControl } from '../../utils/use-focus-control';\nimport { useGlobalScrollPadding } from '../../utils/use-global-scroll-padding';\nimport { useSplitPanelFocusControl } from '../../utils/use-split-panel-focus-control';\nimport {\n  computeHorizontalLayout,\n  computeSplitPanelOffsets,\n  computeVerticalLayout,\n  CONTENT_PADDING,\n} from '../compute-layout';\nimport { AppLayoutState } from '../interfaces';\nimport { AppLayoutInternalProps, AppLayoutInternals } from '../interfaces';\nimport { useAiDrawer } from './use-ai-drawer';\nimport { useBottomDrawers } from './use-bottom-drawers';\nimport { useWidgetMessages } from './use-widget-messages';\n\nexport const useAppLayout = (\n  hasToolbar: boolean,\n  {\n    ariaLabels,\n    navigationOpen,\n    navigationWidth,\n    navigation,\n    navigationHide,\n    onNavigationChange,\n    tools,\n    toolsOpen: controlledToolsOpen,\n    onToolsChange,\n    toolsHide,\n    toolsWidth,\n    headerVariant,\n    breadcrumbs,\n    stickyNotifications,\n    splitPanelPreferences: controlledSplitPanelPreferences,\n    splitPanelOpen: controlledSplitPanelOpen,\n    splitPanel,\n    splitPanelSize: controlledSplitPanelSize,\n    onSplitPanelToggle,\n    onSplitPanelResize,\n    onSplitPanelPreferencesChange,\n    minContentWidth,\n    placement,\n    navigationTriggerHide,\n    ...rest\n  }: AppLayoutInternalProps,\n  forwardRef: ForwardedRef<AppLayoutProps.Ref>\n): AppLayoutState => {\n  const isMobile = useMobile();\n  const splitPanelControlId = useUniqueId('split-panel');\n  const [toolbarState, setToolbarState] = useState<'show' | 'hide'>('show');\n  const [toolbarHeight, setToolbarHeight] = useState(0);\n  const [notificationsHeight, setNotificationsHeight] = useState(0);\n  const [navigationAnimationDisabled, setNavigationAnimationDisabled] = useState(true);\n  const [splitPanelAnimationDisabled, setSplitPanelAnimationDisabled] = useState(true);\n  const [isNested, setIsNested] = useState(false);\n  const [expandedDrawerId, setInternalExpandedDrawerId] = useState<string | null>(null);\n  const rootRefInternal = useRef<HTMLDivElement>(null);\n  // This workaround ensures the ref is defined before checking if the app layout is nested.\n  // On initial render, the ref might be undefined because this component loads asynchronously via the widget API.\n  const onMountRootRef = useCallback(node => {\n    setIsNested(getIsNestedInAppLayout(node));\n  }, []);\n\n  const [toolsOpen = false, setToolsOpen] = useControllable(controlledToolsOpen, onToolsChange, false, {\n    componentName: 'AppLayout',\n    controlledProp: 'toolsOpen',\n    changeHandler: 'onToolsChange',\n  });\n  const onToolsToggle = (open: boolean) => {\n    setToolsOpen(open);\n    drawersFocusControl.setFocus();\n    fireNonCancelableEvent(onToolsChange, { open });\n  };\n\n  const setExpandedDrawerId = (value: string | null) => {\n    setInternalExpandedDrawerId(value);\n\n    if (aiDrawer?.onToggleFocusMode && (value === aiDrawer?.id || value === null)) {\n      fireNonCancelableEvent(aiDrawer.onToggleFocusMode, {\n        isExpanded: !!value,\n      });\n    }\n  };\n\n  const onGlobalDrawerFocus = (drawerId: string, open: boolean) => {\n    globalDrawersFocusControl.setFocus({ force: true, drawerId, open });\n  };\n\n  const onAddNewActiveDrawer = (drawerId: string) => {\n    // If either a local drawer or a bottom drawer is already open, and we attempt to open a new one,\n    // it will replace the existing one instead of opening an additional drawer,\n    // since only one local drawer is supported. Therefore, layout calculations are not necessary.\n    if ((activeDrawer && drawers?.find(drawer => drawer.id === drawerId)) || activeGlobalBottomDrawerId === drawerId) {\n      return;\n    }\n    // get the size of drawerId. it could be either local or global drawer\n    const combinedDrawers = [...(drawers || []), ...globalDrawers];\n    const newDrawer = combinedDrawers.find(drawer => drawer.id === drawerId);\n    if (!newDrawer) {\n      return;\n    }\n    const newDrawerSize = Math.min(newDrawer.defaultSize ?? drawerSizes[drawerId] ?? MIN_DRAWER_SIZE, MIN_DRAWER_SIZE);\n    //   check if the active drawers could be resized to fit the new drawers\n    //   to do this, we need to take all active drawers, sum up their min sizes, truncate it from resizableSpaceAvailable\n    //   and compare a given number with the new drawer id min size\n\n    // the total size of all global drawers resized to their min size\n    const availableSpaceForNewDrawer = resizableSpaceAvailable - totalActiveDrawersMinSize;\n    if (availableSpaceForNewDrawer >= newDrawerSize) {\n      return;\n    }\n\n    // now we made sure we cannot accommodate the new drawer with existing ones\n    closeFirstDrawer();\n  };\n\n  const onGlobalBottomDrawerFocus = () => {\n    bottomDrawersFocusControl.setFocus();\n  };\n\n  const {\n    drawers,\n    activeDrawer,\n    minDrawerSize,\n    minGlobalDrawersSizes,\n    activeDrawerSize,\n    ariaLabelsWithDrawers,\n    globalDrawers,\n    activeGlobalDrawers,\n    activeGlobalDrawersIds,\n    activeGlobalDrawersSizes,\n    drawerSizes,\n    drawersOpenQueue,\n    onActiveDrawerChange,\n    onActiveDrawerResize,\n    onActiveGlobalDrawersChange,\n  } = useDrawers(\n    {\n      ...rest,\n      onGlobalDrawerFocus,\n      onAddNewActiveDrawer,\n      expandedDrawerId,\n      setExpandedDrawerId,\n    },\n    ariaLabels,\n    {\n      ariaLabels,\n      toolsHide,\n      toolsOpen,\n      tools,\n      toolsWidth,\n      onToolsToggle,\n    }\n  );\n  const {\n    aiDrawer,\n    aiDrawerMessageHandler,\n    onActiveAiDrawerChange,\n    activeAiDrawer,\n    activeAiDrawerId,\n    activeAiDrawerSize,\n    minAiDrawerSize,\n    onActiveAiDrawerResize,\n  } = useAiDrawer({\n    getMaxAiDrawerSize: () => maxAiDrawerSize,\n    onAiDrawerFocus: () => aiDrawerFocusControl.setFocus(),\n    expandedDrawerId,\n    setExpandedDrawerId,\n  });\n  const aiDrawerFocusControl = useAsyncFocusControl(!!activeAiDrawer?.id, true, activeAiDrawer?.id);\n\n  const {\n    bottomDrawers,\n    activeBottomDrawer,\n    onActiveBottomDrawerChange: onActiveGlobalBottomDrawerChange,\n    activeBottomDrawerSize: activeGlobalBottomDrawerSize,\n    minBottomDrawerSize: minGlobalBottomDrawerSize,\n    onActiveBottomDrawerResize,\n    bottomDrawersMessageHandler,\n  } = useBottomDrawers({\n    onBottomDrawerFocus: onGlobalBottomDrawerFocus,\n    expandedDrawerId,\n    setExpandedDrawerId,\n    drawersOpenQueue,\n  });\n  const activeGlobalBottomDrawerId = activeBottomDrawer?.id ?? null;\n\n  const checkAIDrawerIdExists = (id: string) => {\n    return aiDrawer?.id === id;\n  };\n\n  const checkBottomDrawerIdExists = (id: string) => {\n    return !!bottomDrawers.find(drawer => drawer.id === id);\n  };\n\n  const checkDrawerIdExists = (id: string) => {\n    return checkAIDrawerIdExists(id) || checkBottomDrawerIdExists(id);\n  };\n\n  const drawerGenericMessageHandler = (message: WidgetMessage) => {\n    switch (message.type) {\n      case 'expandDrawer':\n        if (!checkDrawerIdExists(message.payload.id)) {\n          metrics.sendOpsMetricObject('awsui-widget-drawer-incorrect-id', {\n            id: message.payload.id,\n            type: message.type,\n            bottomDrawers: bottomDrawers.map(drawer => drawer.id).join(','),\n            aiDrawer: aiDrawer?.id ?? '',\n          });\n        }\n        setExpandedDrawerId(message.payload.id);\n        break;\n      case 'exitExpandedMode':\n        setExpandedDrawerId(null);\n        break;\n    }\n  };\n\n  useWidgetMessages(hasToolbar, message => {\n    if (message.type === 'expandDrawer' || message.type === 'exitExpandedMode') {\n      drawerGenericMessageHandler(message);\n      return;\n    }\n\n    if (!('payload' in message && 'id' in message.payload)) {\n      metrics.sendOpsMetricObject('awsui-widget-drawer-incorrect-payload', {\n        type: message.type,\n        bottomDrawers: bottomDrawers.map(drawer => drawer.id).join(','),\n        aiDrawer: aiDrawer?.id ?? '',\n      });\n      return;\n    }\n\n    const { id } = message.payload;\n\n    if (checkAIDrawerIdExists(id) || message.type === 'registerLeftDrawer') {\n      aiDrawerMessageHandler(message);\n      return;\n    }\n\n    if (checkBottomDrawerIdExists(id) || message.type === 'registerBottomDrawer') {\n      bottomDrawersMessageHandler(message);\n      return;\n    }\n\n    metrics.sendOpsMetricObject('awsui-widget-drawer-incorrect-id', {\n      id,\n      type: message.type,\n      bottomDrawers: bottomDrawers.map(drawer => drawer.id).join(','),\n      aiDrawer: aiDrawer?.id ?? '',\n    });\n  });\n\n  const onActiveDrawerChangeHandler = (\n    drawerId: string | null,\n    params: OnChangeParams = { initiatedByUserAction: true }\n  ) => {\n    onActiveDrawerChange(drawerId, params);\n    drawersFocusControl.setFocus();\n  };\n\n  const [splitPanelOpen = false, setSplitPanelOpen] = useControllable(\n    controlledSplitPanelOpen,\n    onSplitPanelToggle,\n    false,\n    {\n      componentName: 'AppLayout',\n      controlledProp: 'splitPanelOpen',\n      changeHandler: 'onSplitPanelToggle',\n    }\n  );\n\n  const onSplitPanelToggleHandler = () => {\n    setSplitPanelAnimationDisabled(false);\n    setSplitPanelOpen(!splitPanelOpen);\n    splitPanelFocusControl.setLastInteraction({ type: splitPanelOpen ? 'close' : 'open' });\n    fireNonCancelableEvent(onSplitPanelToggle, { open: !splitPanelOpen });\n  };\n\n  const [splitPanelPreferences, setSplitPanelPreferences] = useControllable(\n    controlledSplitPanelPreferences,\n    onSplitPanelPreferencesChange,\n    undefined,\n    {\n      componentName: 'AppLayout',\n      controlledProp: 'splitPanelPreferences',\n      changeHandler: 'onSplitPanelPreferencesChange',\n    }\n  );\n\n  const onSplitPanelPreferencesChangeHandler = (detail: AppLayoutProps.SplitPanelPreferences) => {\n    setSplitPanelPreferences(detail);\n    splitPanelFocusControl.setLastInteraction({ type: 'position' });\n    fireNonCancelableEvent(onSplitPanelPreferencesChange, detail);\n  };\n\n  const [splitPanelSize = 0, setSplitPanelSize] = useControllable(\n    controlledSplitPanelSize,\n    onSplitPanelResize,\n    getSplitPanelDefaultSize(splitPanelPreferences?.position ?? 'bottom'),\n    { componentName: 'AppLayout', controlledProp: 'splitPanelSize', changeHandler: 'onSplitPanelResize' }\n  );\n\n  const [splitPanelReportedSize, setSplitPanelReportedSize] = useState(0);\n  const [splitPanelHeaderBlockSize, setSplitPanelHeaderBlockSize] = useState(0);\n\n  const onSplitPanelResizeHandler = (size: number) => {\n    setSplitPanelSize(size);\n    fireNonCancelableEvent(onSplitPanelResize, { size });\n  };\n\n  const [splitPanelToggleConfig, setSplitPanelToggleConfig] = useState<SplitPanelSideToggleProps>({\n    ariaLabel: undefined,\n    displayed: false,\n  });\n\n  const [bottomDrawerReportedSize, setBottomDrawerReportedSize] = useState(0);\n\n  const globalDrawersFocusControl = useMultipleFocusControl(true, activeGlobalDrawersIds);\n  const drawersFocusControl = useAsyncFocusControl(!!activeDrawer?.id, true, activeDrawer?.id);\n  const bottomDrawersFocusControl = useAsyncFocusControl(\n    !!activeGlobalBottomDrawerId,\n    true,\n    activeGlobalBottomDrawerId\n  );\n  const navigationFocusControl = useAsyncFocusControl(navigationOpen, navigationTriggerHide);\n  const splitPanelFocusControl = useSplitPanelFocusControl([splitPanelPreferences, splitPanelOpen]);\n\n  const onNavigationToggle = useStableCallback(({ isOpen, autoFocus }: { isOpen: boolean; autoFocus: boolean }) => {\n    setNavigationAnimationDisabled(false);\n    navigationFocusControl.setFocus({ force: false, autoFocus });\n    fireNonCancelableEvent(onNavigationChange, { open: isOpen });\n  });\n\n  useImperativeHandle(forwardRef, () => ({\n    closeNavigationIfNecessary: () => isMobile && onNavigationToggle({ isOpen: false, autoFocus: true }),\n    openTools: () => onToolsToggle(true),\n    focusToolsClose: () => drawersFocusControl.setFocus({ force: true }),\n    focusActiveDrawer: () => drawersFocusControl.setFocus({ force: true }),\n    focusSplitPanel: () => splitPanelFocusControl.setLastInteraction({ type: 'open' }),\n    focusNavigation: () => navigationFocusControl.setFocus({ force: true }),\n  }));\n\n  const resolvedStickyNotifications = !!stickyNotifications && !isMobile;\n  //navigation must be null if hidden so toolbar knows to hide the toggle button\n  const resolvedNavigation = navigationHide ? null : navigation || <></>;\n  //navigation must not be open if navigationHide is true\n  const resolvedNavigationOpen = !!resolvedNavigation && navigationOpen;\n  const {\n    maxDrawerSize,\n    maxSplitPanelSize,\n    splitPanelForcedPosition,\n    splitPanelPosition,\n    maxGlobalDrawersSizes,\n    resizableSpaceAvailable,\n    maxAiDrawerSize,\n  } = computeHorizontalLayout({\n    activeDrawerSize: activeDrawer ? activeDrawerSize : 0,\n    splitPanelSize,\n    minContentWidth,\n    navigationOpen: resolvedNavigationOpen,\n    navigationWidth,\n    placement,\n    splitPanelOpen,\n    splitPanelPosition: splitPanelPreferences?.position,\n    isMobile,\n    activeGlobalDrawersSizes,\n    activeAiDrawerSize,\n  });\n\n  const verticalOffsets = computeVerticalLayout({\n    topOffset: placement.insetBlockStart,\n    hasVisibleToolbar: hasToolbar && toolbarState !== 'hide',\n    notificationsHeight: notificationsHeight ?? 0,\n    toolbarHeight: toolbarHeight ?? 0,\n    stickyNotifications: resolvedStickyNotifications,\n  });\n\n  const { ref: intersectionObserverRef, isIntersecting } = useIntersectionObserver({ initialState: true });\n\n  const rootRef = useMergeRefs(rootRefInternal, intersectionObserverRef, onMountRootRef);\n\n  const discoveredBreadcrumbs = useGetGlobalBreadcrumbs(hasToolbar && !breadcrumbs);\n\n  useGlobalScrollPadding(verticalOffsets.header ?? 0);\n\n  const getMaxGlobalBottomDrawerHeight = useCallback(() => {\n    const splitPanelSize = splitPanelOpen && splitPanelPosition === 'bottom' ? splitPanelReportedSize : 0;\n    const availableHeight =\n      document.documentElement.clientHeight - placement.insetBlockStart - placement.insetBlockEnd - splitPanelSize;\n\n    // skip reading sizes in JSDOM\n    if (availableHeight === 0) {\n      return Infinity;\n    }\n\n    // If the page is likely zoomed in at 200%, allow the split panel to fill the content area.\n    return availableHeight < 400 ? availableHeight - 40 : availableHeight - 250;\n  }, [splitPanelOpen, splitPanelPosition, splitPanelReportedSize, placement.insetBlockStart, placement.insetBlockEnd]);\n\n  const appLayoutInternals: AppLayoutInternals = {\n    ariaLabels: ariaLabelsWithDrawers,\n    headerVariant,\n    isMobile,\n    breadcrumbs,\n    discoveredBreadcrumbs,\n    stickyNotifications: resolvedStickyNotifications,\n    navigationOpen: resolvedNavigationOpen,\n    navigation: resolvedNavigation,\n    navigationFocusControl,\n    activeDrawer,\n    activeDrawerSize,\n    minDrawerSize,\n    maxDrawerSize,\n    minGlobalDrawersSizes,\n    maxGlobalDrawersSizes,\n    drawers: drawers!,\n    globalDrawers,\n    activeGlobalDrawers,\n    activeGlobalDrawersIds,\n    activeGlobalDrawersSizes,\n    onActiveGlobalDrawersChange,\n    drawersFocusControl,\n    globalDrawersFocusControl,\n    splitPanelPosition,\n    splitPanelToggleConfig,\n    splitPanelOpen,\n    splitPanelControlId,\n    splitPanelFocusControl,\n    placement,\n    toolbarState,\n    setToolbarState,\n    verticalOffsets,\n    drawersOpenQueue: drawersOpenQueue.current,\n    setToolbarHeight,\n    setNotificationsHeight,\n    onSplitPanelToggle: onSplitPanelToggleHandler,\n    onNavigationToggle: isOpen => onNavigationToggle({ isOpen, autoFocus: true }),\n    onActiveDrawerChange: onActiveDrawerChangeHandler,\n    onActiveDrawerResize,\n    splitPanelAnimationDisabled,\n    expandedDrawerId,\n    setExpandedDrawerId,\n    aiDrawer,\n    onActiveAiDrawerChange,\n    activeAiDrawer,\n    activeAiDrawerId,\n    activeAiDrawerSize,\n    minAiDrawerSize,\n    maxAiDrawerSize,\n    aiDrawerFocusControl,\n    onActiveAiDrawerResize,\n  };\n\n  const splitPanelInternals: SplitPanelProviderProps = {\n    bottomOffset: 0,\n    getMaxHeight: useCallback(() => {\n      const bottomDrawerHeight = activeGlobalBottomDrawerId ? bottomDrawerReportedSize : 0;\n      const availableHeight =\n        document.documentElement.clientHeight -\n        placement.insetBlockStart -\n        placement.insetBlockEnd -\n        bottomDrawerHeight;\n      // If the page is likely zoomed in at 200%, allow the split panel to fill the content area.\n      return availableHeight < 400 ? availableHeight - 40 : availableHeight - 250;\n    }, [activeGlobalBottomDrawerId, bottomDrawerReportedSize, placement.insetBlockEnd, placement.insetBlockStart]),\n    maxWidth: maxSplitPanelSize,\n    isForcedPosition: splitPanelForcedPosition,\n    isOpen: splitPanelOpen,\n    leftOffset: 0,\n    onPreferencesChange: onSplitPanelPreferencesChangeHandler,\n    onResize: onSplitPanelResizeHandler,\n    onToggle: onSplitPanelToggleHandler,\n    position: splitPanelPosition,\n    reportSize: useStableCallback(size => setSplitPanelReportedSize(size)),\n    reportHeaderHeight: useStableCallback(size => setSplitPanelHeaderBlockSize(size)),\n    headerHeight: splitPanelHeaderBlockSize,\n    rightOffset: 0,\n    size: splitPanelSize,\n    topOffset: 0,\n    setSplitPanelToggle: setSplitPanelToggleConfig,\n    refs: splitPanelFocusControl.refs,\n  };\n\n  const closeFirstDrawer = useStableCallback(() => {\n    let drawerToClose = drawersOpenQueue.current[drawersOpenQueue.current.length - 1];\n    if (drawerToClose === activeBottomDrawer?.id) {\n      drawerToClose = drawersOpenQueue.current[drawersOpenQueue.current.length - 2];\n    }\n    if (activeDrawer && activeDrawer?.id === drawerToClose) {\n      onActiveDrawerChange(null, { initiatedByUserAction: true });\n    } else if (activeGlobalDrawersIds.includes(drawerToClose)) {\n      onActiveGlobalDrawersChange(drawerToClose, { initiatedByUserAction: true });\n    }\n  });\n\n  useEffect(() => {\n    // Close navigation drawer on mobile so that the main content is visible\n    if (isMobile) {\n      onNavigationToggle({ isOpen: false, autoFocus: false });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isMobile]);\n\n  const getTotalActiveDrawersMinSize = () => {\n    const combinedDrawers = [...(drawers || []), ...globalDrawers];\n    let result = activeGlobalDrawersIds\n      .map(activeDrawerId =>\n        Math.min(\n          combinedDrawers.find(drawer => drawer.id === activeDrawerId)?.defaultSize ?? MIN_DRAWER_SIZE,\n          MIN_DRAWER_SIZE\n        )\n      )\n      .reduce((acc, curr) => acc + curr, 0);\n    if (activeDrawer) {\n      result += Math.min(activeDrawer?.defaultSize ?? MIN_DRAWER_SIZE, MIN_DRAWER_SIZE);\n    }\n    if (activeAiDrawer) {\n      result += Math.min(activeAiDrawer?.defaultSize ?? MIN_DRAWER_SIZE, MIN_DRAWER_SIZE);\n    }\n\n    return result;\n  };\n\n  const totalActiveDrawersMinSize = getTotalActiveDrawersMinSize();\n\n  useEffect(() => {\n    if (isMobile) {\n      return;\n    }\n\n    const activeNavigationWidth = !navigationHide && navigationOpen ? navigationWidth : 0;\n    const scrollWidth = activeNavigationWidth + CONTENT_PADDING + totalActiveDrawersMinSize;\n    const hasHorizontalScroll = scrollWidth > placement.inlineSize;\n    if (hasHorizontalScroll) {\n      if (!navigationHide && navigationOpen) {\n        onNavigationToggle({ isOpen: false, autoFocus: false });\n        return;\n      }\n\n      closeFirstDrawer();\n    }\n  }, [\n    totalActiveDrawersMinSize,\n    closeFirstDrawer,\n    isMobile,\n    navigationHide,\n    navigationOpen,\n    navigationWidth,\n    onNavigationToggle,\n    placement.inlineSize,\n  ]);\n\n  /**\n   * Returns true if the AppLayout is nested\n   * Does not apply to iframe\n   */\n  const getIsNestedInAppLayout = (element: HTMLElement | null): boolean => {\n    let currentElement: Element | null = element?.parentElement ?? null;\n\n    // this traverse is needed only for JSDOM\n    // in real browsers the globalVar will be propagated to all descendants and this loops exits after initial iteration\n    while (currentElement) {\n      if (getComputedStyle(currentElement).getPropertyValue(globalVars.stickyVerticalTopOffset)) {\n        return true;\n      }\n      currentElement = currentElement.parentElement;\n    }\n\n    return false;\n  };\n\n  const splitPanelOffsets = computeSplitPanelOffsets({\n    placement,\n    hasSplitPanel: !!splitPanel,\n    splitPanelOpen,\n    splitPanelPosition,\n    splitPanelFullHeight: splitPanelReportedSize,\n    splitPanelHeaderHeight: splitPanelHeaderBlockSize,\n  });\n\n  return {\n    rootRef,\n    isIntersecting,\n    appLayoutInternals,\n    splitPanelInternals,\n    widgetizedState: {\n      ...appLayoutInternals,\n      aiDrawerExpandedMode: expandedDrawerId === activeAiDrawer?.id,\n      isNested,\n      navigationAnimationDisabled,\n      verticalOffsets,\n      splitPanelOffsets,\n      activeGlobalBottomDrawerId,\n      onActiveGlobalBottomDrawerChange,\n      activeGlobalBottomDrawerSize,\n      bottomDrawerReportedSize,\n      minGlobalBottomDrawerSize,\n      getMaxGlobalBottomDrawerHeight,\n      reportBottomDrawerSize: useStableCallback(size => setBottomDrawerReportedSize(size)),\n      onActiveBottomDrawerResize,\n      bottomDrawers,\n      bottomDrawersFocusControl,\n    },\n  };\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useContext, useEffect, useLayoutEffect, useRef, useState } from 'react';\n\nimport { useAppLayoutFlagEnabled } from '../../../app-layout/utils/feature-flags';\nimport {\n  AppLayoutVisibilityContext,\n  BreadcrumbsSlotContext,\n} from '../../../app-layout/visual-refresh-toolbar/contexts';\nimport { BreadcrumbGroupProps } from '../../../breadcrumb-group/interfaces';\nimport { metrics } from '../../metrics';\nimport { awsuiPluginsInternal } from '../api';\nimport { BreadcrumbsGlobalRegistration } from '../controllers/breadcrumbs';\n\nfunction useSetGlobalBreadcrumbsImplementation({\n  __disableGlobalization,\n  ...props\n}: BreadcrumbGroupProps<any> & { __disableGlobalization?: boolean }) {\n  const { isInToolbar } = useContext(BreadcrumbsSlotContext) ?? {};\n  const isLayoutVisible = useContext(AppLayoutVisibilityContext) ?? true;\n  const registrationRef = useRef<BreadcrumbsGlobalRegistration<BreadcrumbGroupProps> | null>();\n  const [registered, setRegistered] = useState(false);\n\n  useEffect(() => {\n    if (isInToolbar || __disableGlobalization || !isLayoutVisible) {\n      return;\n    }\n    const registration = awsuiPluginsInternal.breadcrumbs.registerBreadcrumbs(props, isRegistered => {\n      setRegistered(isRegistered ?? true);\n      if (isRegistered) {\n        const breadcrumbs = props.items.map(item => item.text).join(' > ');\n        metrics.sendOpsMetricObject('awsui-global-breadcrumbs-used', { breadcrumbs });\n      }\n    });\n    registrationRef.current = registration;\n\n    return () => {\n      registration.cleanup();\n    };\n    // subsequent prop changes are handled by another effect\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isInToolbar, __disableGlobalization, isLayoutVisible]);\n\n  useLayoutEffect(() => {\n    registrationRef.current?.update(props);\n  });\n\n  return registered;\n}\n\nexport function useSetGlobalBreadcrumbs<T extends BreadcrumbGroupProps.Item>(props: BreadcrumbGroupProps<T>) {\n  // avoid additional side effects when this feature is not active\n  if (!useAppLayoutFlagEnabled()) {\n    return false;\n  }\n  // getGlobalFlag() value does not change without full page reload\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return useSetGlobalBreadcrumbsImplementation(props);\n}\n\nexport function useGetGlobalBreadcrumbs(enabled: boolean) {\n  const [discoveredBreadcrumbs, setDiscoveredBreadcrumbs] = useState<BreadcrumbGroupProps<any> | null>(null);\n\n  useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    const unregisterAppLayout = awsuiPluginsInternal.breadcrumbs.registerAppLayout(breadcrumbs => {\n      setDiscoveredBreadcrumbs(breadcrumbs);\n    });\n    return () => {\n      unregisterAppLayout?.();\n      setDiscoveredBreadcrumbs(null);\n    };\n  }, [enabled]);\n\n  return discoveredBreadcrumbs;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { AppLayoutPropsWithDefaults } from '../interfaces';\nimport { shouldSplitPanelBeForcedToBottom } from '../split-panel/split-panel-forced-position';\n\ninterface HorizontalLayoutInput {\n  navigationOpen: boolean;\n  navigationWidth: number;\n  placement: AppLayoutPropsWithDefaults['placement'];\n  minContentWidth: number;\n  activeDrawerSize: number;\n  splitPanelOpen: boolean;\n  splitPanelPosition: 'side' | 'bottom' | undefined;\n  splitPanelSize: number;\n  isMobile: boolean;\n  activeGlobalDrawersSizes: Record<string, number>;\n  activeAiDrawerSize: number;\n}\n\nexport const CONTENT_PADDING = 2 * 24; // space-xl\n\nexport function computeHorizontalLayout({\n  navigationOpen,\n  navigationWidth,\n  placement,\n  minContentWidth,\n  activeDrawerSize,\n  splitPanelOpen,\n  splitPanelPosition,\n  splitPanelSize,\n  isMobile,\n  activeGlobalDrawersSizes,\n  activeAiDrawerSize,\n}: HorizontalLayoutInput) {\n  const activeNavigationWidth = navigationOpen ? navigationWidth : 0;\n\n  let resizableSpaceAvailable =\n    placement.inlineSize - minContentWidth - CONTENT_PADDING - activeNavigationWidth - activeAiDrawerSize;\n  const totalActiveGlobalDrawersSize = Object.values(activeGlobalDrawersSizes).reduce((acc, size) => acc + size, 0);\n\n  const availableWidthForSplitPanel = resizableSpaceAvailable - activeDrawerSize;\n  const splitPanelForcedPosition = shouldSplitPanelBeForcedToBottom({\n    isMobile,\n    availableWidthForSplitPanel,\n  });\n  const resolvedSplitPanelPosition = splitPanelForcedPosition ? 'bottom' : (splitPanelPosition ?? 'bottom');\n  const sideSplitPanelSize = resolvedSplitPanelPosition === 'side' && splitPanelOpen ? (splitPanelSize ?? 0) : 0;\n  const maxSplitPanelSize = Math.max(resizableSpaceAvailable - totalActiveGlobalDrawersSize - activeDrawerSize, 0);\n  resizableSpaceAvailable -= sideSplitPanelSize;\n  const maxDrawerSize = resizableSpaceAvailable - totalActiveGlobalDrawersSize;\n  const maxAiDrawerSize = resizableSpaceAvailable - totalActiveGlobalDrawersSize + activeAiDrawerSize;\n  const maxGlobalDrawersSizes: Record<string, number> = Object.keys(activeGlobalDrawersSizes).reduce(\n    (acc, drawerId) => {\n      return {\n        ...acc,\n        [drawerId]:\n          resizableSpaceAvailable -\n          activeDrawerSize -\n          totalActiveGlobalDrawersSize +\n          activeGlobalDrawersSizes[drawerId],\n      };\n    },\n    {}\n  );\n\n  return {\n    splitPanelPosition: resolvedSplitPanelPosition,\n    splitPanelForcedPosition,\n    sideSplitPanelSize,\n    maxSplitPanelSize,\n    maxDrawerSize,\n    maxGlobalDrawersSizes,\n    totalActiveGlobalDrawersSize,\n    resizableSpaceAvailable,\n    maxAiDrawerSize,\n  };\n}\n\ninterface VerticalLayoutInput {\n  topOffset: number;\n  hasVisibleToolbar: boolean;\n  toolbarHeight: number;\n  stickyNotifications: boolean;\n  notificationsHeight: number;\n}\n\nexport interface VerticalLayoutOutput {\n  toolbar: number;\n  notifications: number;\n  header: number;\n  drawers: number;\n}\n\nexport function computeVerticalLayout({\n  topOffset,\n  hasVisibleToolbar,\n  toolbarHeight,\n  stickyNotifications,\n  notificationsHeight,\n}: VerticalLayoutInput): VerticalLayoutOutput {\n  const toolbar = topOffset;\n  let notifications = topOffset;\n  let drawers = topOffset;\n\n  if (hasVisibleToolbar) {\n    notifications += toolbarHeight;\n    drawers += toolbarHeight;\n  }\n  let header = notifications;\n  if (stickyNotifications) {\n    header += notificationsHeight;\n  }\n\n  return { toolbar, notifications, header, drawers };\n}\n\ninterface SplitPanelOffsetInput {\n  hasSplitPanel: boolean;\n  placement: AppLayoutPropsWithDefaults['placement'];\n  splitPanelPosition: 'bottom' | 'side';\n  splitPanelOpen: boolean;\n  splitPanelHeaderHeight: number;\n  splitPanelFullHeight: number;\n}\n\nexport function computeSplitPanelOffsets({\n  hasSplitPanel,\n  splitPanelPosition,\n  placement,\n  splitPanelOpen,\n  splitPanelFullHeight,\n  splitPanelHeaderHeight,\n}: SplitPanelOffsetInput) {\n  if (!hasSplitPanel || splitPanelPosition !== 'bottom') {\n    return {\n      stickyVerticalBottomOffset: placement.insetBlockEnd,\n      mainContentPaddingBlockEnd: undefined,\n    };\n  }\n  const mainContentBottomOffset = splitPanelOpen ? splitPanelFullHeight : splitPanelHeaderHeight;\n  return {\n    stickyVerticalBottomOffset: mainContentBottomOffset + placement.insetBlockEnd,\n    mainContentPaddingBlockEnd: mainContentBottomOffset,\n  };\n}\n\nexport function getDrawerStyles(\n  verticalOffsets: VerticalLayoutOutput,\n  isMobile: boolean,\n  placement: AppLayoutPropsWithDefaults['placement'],\n  activeGlobalBottomDrawerSize: number = 0\n): {\n  drawerTopOffset: number;\n  drawerHeight: string;\n} {\n  const drawerTopOffset = isMobile ? verticalOffsets.toolbar : (verticalOffsets.drawers ?? placement.insetBlockStart);\n  const drawerHeight = `calc(100vh - ${drawerTopOffset}px - ${placement.insetBlockEnd}px - ${activeGlobalBottomDrawerSize}px)`;\n  return { drawerTopOffset, drawerHeight };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef, useState } from 'react';\n\nimport { fireNonCancelableEvent } from '../../../internal/events';\nimport { DrawerPayload as RuntimeAiDrawerConfig, WidgetMessage } from '../../../internal/plugins/widget/interfaces';\nimport { getLimitedValue } from '../../../split-panel/utils/size-utils';\nimport { mapRuntimeConfigToAiDrawer } from '../../runtime-drawer';\n\nexport interface OnChangeParams {\n  initiatedByUserAction: boolean;\n}\n\nconst DEFAULT_ON_CHANGE_PARAMS = { initiatedByUserAction: true };\n\nconst MIN_DRAWER_SIZE = 400;\n\ninterface UseDrawersProps {\n  onAiDrawerFocus: () => void;\n  expandedDrawerId: string | null;\n  setExpandedDrawerId: (value: string | null) => void;\n  getMaxAiDrawerSize: () => number;\n}\n\nexport function useAiDrawer({\n  onAiDrawerFocus,\n  expandedDrawerId,\n  setExpandedDrawerId,\n  getMaxAiDrawerSize,\n}: UseDrawersProps) {\n  const [runtimeDrawer, setRuntimeDrawer] = useState<RuntimeAiDrawerConfig | null>(null);\n  const [activeAiDrawerId, setActiveAiDrawerId] = useState<string | null>(null);\n  const [size, setSize] = useState<number | null>(null);\n  const aiDrawerWasOpenRef = useRef(false);\n  aiDrawerWasOpenRef.current = aiDrawerWasOpenRef.current || !!activeAiDrawerId;\n\n  function onActiveAiDrawerResize(size: number) {\n    const limitedSize = getLimitedValue(minAiDrawerSize, size, getMaxAiDrawerSize());\n    setSize(limitedSize);\n    fireNonCancelableEvent(activeAiDrawer?.onResize, { id: activeAiDrawerId, size: limitedSize });\n  }\n\n  function onActiveAiDrawerChange(\n    newDrawerId: string | null,\n    { initiatedByUserAction }: OnChangeParams = DEFAULT_ON_CHANGE_PARAMS\n  ) {\n    setActiveAiDrawerId(newDrawerId);\n\n    if (newDrawerId) {\n      fireNonCancelableEvent(runtimeDrawer?.onToggle, { isOpen: true, initiatedByUserAction });\n    }\n\n    if (activeAiDrawerId) {\n      fireNonCancelableEvent(runtimeDrawer?.onToggle, { isOpen: false, initiatedByUserAction });\n\n      if (activeAiDrawerId === expandedDrawerId) {\n        setExpandedDrawerId?.(null);\n      }\n    }\n\n    onAiDrawerFocus?.();\n  }\n\n  function aiDrawerMessageHandler(event: WidgetMessage) {\n    if (event.type === 'registerLeftDrawer') {\n      setRuntimeDrawer(event.payload);\n      if (!aiDrawerWasOpenRef.current && event.payload.defaultActive) {\n        onActiveAiDrawerChange(event.payload.id, { initiatedByUserAction: false });\n      }\n      return;\n    }\n\n    switch (event.type) {\n      case 'updateDrawerConfig':\n        setRuntimeDrawer(current => (current ? { ...current, ...event.payload } : current));\n        break;\n      case 'openDrawer':\n        onActiveAiDrawerChange(event.payload.id, { initiatedByUserAction: false });\n        break;\n      case 'closeDrawer':\n        onActiveAiDrawerChange(null, { initiatedByUserAction: false });\n        break;\n      case 'resizeDrawer':\n        onActiveAiDrawerResize(event.payload.size);\n        break;\n    }\n  }\n\n  const aiDrawer = runtimeDrawer && mapRuntimeConfigToAiDrawer(runtimeDrawer);\n  const activeAiDrawer = activeAiDrawerId && activeAiDrawerId === aiDrawer?.id ? aiDrawer : null;\n  const activeAiDrawerSize = activeAiDrawerId ? (size ?? activeAiDrawer?.defaultSize ?? MIN_DRAWER_SIZE) : 0;\n  const minAiDrawerSize = Math.min(activeAiDrawer?.defaultSize ?? MIN_DRAWER_SIZE, MIN_DRAWER_SIZE);\n\n  return {\n    aiDrawer,\n    aiDrawerMessageHandler,\n    onActiveAiDrawerChange,\n    activeAiDrawer,\n    activeAiDrawerId,\n    activeAiDrawerSize,\n    minAiDrawerSize,\n    onActiveAiDrawerResize,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { MutableRefObject, useRef, useState } from 'react';\n\nimport { fireNonCancelableEvent } from '../../../internal/events';\nimport { DrawerPayload, WidgetMessage } from '../../../internal/plugins/widget/interfaces';\nimport { mapRuntimeConfigToAiDrawer } from '../../runtime-drawer';\n\nexport interface OnChangeParams {\n  initiatedByUserAction: boolean;\n}\n\nconst DEFAULT_ON_CHANGE_PARAMS = { initiatedByUserAction: true };\n\nconst MIN_DRAWER_SIZE = 400;\n\ninterface UseDrawersProps {\n  onBottomDrawerFocus: () => void;\n  expandedDrawerId: string | null;\n  setExpandedDrawerId: (value: string | null) => void;\n  drawersOpenQueue: MutableRefObject<Array<string>>;\n}\n\nexport function useBottomDrawers({\n  onBottomDrawerFocus,\n  expandedDrawerId,\n  setExpandedDrawerId,\n  drawersOpenQueue,\n}: UseDrawersProps) {\n  const [activeBottomDrawerId, setActiveBottomDrawerId] = useState<string | null>(null);\n  const [drawerSizes, setDrawerSizes] = useState<Record<string, number>>({});\n  const [runtimeBottomDrawers, setRuntimeBottomDrawers] = useState<Array<DrawerPayload>>([]);\n  const bottomDrawerWasOpenRef = useRef(false);\n  bottomDrawerWasOpenRef.current = bottomDrawerWasOpenRef.current || !!activeBottomDrawerId;\n  const bottomDrawers = runtimeBottomDrawers.map(mapRuntimeConfigToAiDrawer);\n\n  function onActiveBottomDrawerResize({ id, size }: { id: string; size: number }) {\n    setDrawerSizes(oldSizes => ({ ...oldSizes, [id]: size }));\n    fireNonCancelableEvent(activeBottomDrawer?.onResize, { id, size });\n  }\n\n  function onActiveBottomDrawerChange(\n    drawerId: string | null,\n    { initiatedByUserAction }: Partial<OnChangeParams> = DEFAULT_ON_CHANGE_PARAMS\n  ) {\n    const drawer = bottomDrawers.find(drawer => drawer.id === (drawerId || activeBottomDrawerId));\n    setActiveBottomDrawerId(drawerId);\n    fireNonCancelableEvent(drawer?.onToggle, { isOpen: !!drawerId, initiatedByUserAction });\n    if (activeBottomDrawerId === expandedDrawerId) {\n      setExpandedDrawerId(null);\n    }\n    if (drawerId) {\n      drawersOpenQueue.current = [drawerId, ...drawersOpenQueue.current];\n    } else {\n      drawersOpenQueue.current = drawersOpenQueue.current.filter(id => id !== activeBottomDrawerId);\n    }\n    onBottomDrawerFocus?.();\n  }\n\n  function bottomDrawersMessageHandler(event: WidgetMessage) {\n    if (event.type === 'registerBottomDrawer') {\n      if (bottomDrawers.find(drawer => drawer.id === event.payload.id)) {\n        return;\n      }\n      setRuntimeBottomDrawers(existingBottomDrawers => [...existingBottomDrawers, event.payload]);\n      if (!bottomDrawerWasOpenRef.current && event.payload.defaultActive) {\n        onActiveBottomDrawerChange(event.payload.id, { initiatedByUserAction: false });\n      }\n      return;\n    }\n\n    switch (event.type) {\n      case 'updateDrawerConfig':\n        setRuntimeBottomDrawers(existingBottomDrawers => {\n          return existingBottomDrawers.map(drawer => {\n            if (drawer.id === event.payload.id) {\n              return {\n                ...drawer,\n                ...event.payload,\n              };\n            }\n\n            return drawer;\n          });\n        });\n        break;\n      case 'openDrawer':\n        onActiveBottomDrawerChange(event.payload.id, { initiatedByUserAction: false });\n        break;\n      case 'closeDrawer':\n        onActiveBottomDrawerChange(null, { initiatedByUserAction: false });\n        break;\n      case 'resizeDrawer':\n        onActiveBottomDrawerResize({ id: event.payload.id, size: event.payload.size });\n        break;\n    }\n  }\n  const activeBottomDrawer = activeBottomDrawerId\n    ? bottomDrawers.find(drawer => drawer.id === activeBottomDrawerId)\n    : null;\n  const activeBottomDrawerSize = activeBottomDrawerId\n    ? (drawerSizes[activeBottomDrawerId] ?? activeBottomDrawer?.defaultSize ?? MIN_DRAWER_SIZE)\n    : 0;\n  const minBottomDrawerSize = Math.min(activeBottomDrawer?.defaultSize ?? MIN_DRAWER_SIZE, MIN_DRAWER_SIZE);\n\n  return {\n    bottomDrawers,\n    activeBottomDrawer,\n    onActiveBottomDrawerChange,\n    activeBottomDrawerSize,\n    minBottomDrawerSize,\n    onActiveBottomDrawerResize,\n    bottomDrawersMessageHandler,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect } from 'react';\n\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\n\nimport { getAppLayoutInitialMessages, registerAppLayoutHandler } from '../../../internal/plugins/widget/core';\nimport { WidgetMessage } from '../../../internal/plugins/widget/interfaces';\n\nexport function useWidgetMessages(isEnabled: boolean, handler: (message: WidgetMessage) => void) {\n  const appLayoutMessageHandler = useStableCallback(handler);\n\n  useEffect(() => {\n    if (!isEnabled) {\n      return;\n    }\n\n    for (const message of getAppLayoutInitialMessages()) {\n      appLayoutMessageHandler(message);\n    }\n\n    return registerAppLayoutHandler(appLayoutMessageHandler);\n  }, [isEnabled, appLayoutMessageHandler]);\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { reportRuntimeApiWarning } from '../helpers/metrics';\nimport { InitialMessage, WidgetMessage } from './interfaces';\n\nconst storageKeyMessageHandler = Symbol.for('awsui-widget-api-message-handler');\nconst storageKeyInitialMessages = Symbol.for('awsui-widget-api-initial-messages');\nconst storageKeyReadyDeferCallbacks = Symbol.for('awsui-widget-api-ready-defer');\n\ninterface WindowWithApi extends Window {\n  [storageKeyMessageHandler]: MessageHandler | undefined;\n  [storageKeyInitialMessages]: Array<InitialMessage> | undefined;\n  [storageKeyReadyDeferCallbacks]: Array<(value?: unknown) => void> | undefined;\n}\n\nconst oneTimeMessageTypes = ['emit-notification'];\n\ntype MessageHandler = (event: WidgetMessage) => void;\n\nfunction getWindow() {\n  return window as Window as WindowWithApi;\n}\n\nexport function getAppLayoutMessageHandler() {\n  const win = getWindow();\n  return win[storageKeyMessageHandler];\n}\n\nexport function getAppLayoutInitialMessages(): Array<InitialMessage> {\n  const initialMessages = getWindow()[storageKeyInitialMessages] ?? [];\n  getWindow()[storageKeyInitialMessages] = initialMessages.filter(\n    message => !oneTimeMessageTypes.includes(message.type)\n  );\n  return initialMessages;\n}\n\nexport function pushInitialMessage(message: InitialMessage) {\n  const win = getWindow();\n  win[storageKeyInitialMessages] = win[storageKeyInitialMessages] ?? [];\n  win[storageKeyInitialMessages].push(message);\n}\n\nexport function registerAppLayoutHandler(handler: MessageHandler) {\n  const win = getWindow();\n  if (win[storageKeyMessageHandler]) {\n    reportRuntimeApiWarning('AppLayoutWidget', 'Double registration attempt, the old handler will be overridden');\n  }\n  win[storageKeyMessageHandler] = handler;\n  win[storageKeyReadyDeferCallbacks]?.forEach(fn => fn());\n  win[storageKeyReadyDeferCallbacks] = [];\n  return () => {\n    win[storageKeyMessageHandler] = undefined;\n  };\n}\n\nexport function clearInitialMessages() {\n  getWindow()[storageKeyInitialMessages] = undefined;\n}\n\n/**\n * Returns whether there is an app layout present on this page or not\n */\nexport function isAppLayoutReady() {\n  return !!getAppLayoutMessageHandler();\n}\n\n/**\n * Returns a promise that resolves once the app layout has loaded\n */\nexport function whenAppLayoutReady() {\n  if (isAppLayoutReady()) {\n    return Promise.resolve();\n  }\n  const win = getWindow();\n  win[storageKeyReadyDeferCallbacks] = win[storageKeyReadyDeferCallbacks] ?? [];\n  return new Promise(resolve => win[storageKeyReadyDeferCallbacks]?.push(resolve));\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_7nfqu_15oha_153\",\n  \"has-adaptive-widths-default\": \"awsui_has-adaptive-widths-default_7nfqu_15oha_197\",\n  \"has-adaptive-widths-dashboard\": \"awsui_has-adaptive-widths-dashboard_7nfqu_15oha_202\",\n  \"drawer-expanded-mode\": \"awsui_drawer-expanded-mode_7nfqu_15oha_217\",\n  \"ai-drawer-expanded-mode\": \"awsui_ai-drawer-expanded-mode_7nfqu_15oha_220\",\n  \"bottom-drawer-expanded-mode\": \"awsui_bottom-drawer-expanded-mode_7nfqu_15oha_223\",\n  \"ai-drawer\": \"awsui_ai-drawer_7nfqu_15oha_220\",\n  \"navigation\": \"awsui_navigation_7nfqu_15oha_230\",\n  \"tools\": \"awsui_tools_7nfqu_15oha_231\",\n  \"global-tools\": \"awsui_global-tools_7nfqu_15oha_232\",\n  \"bottom-tool\": \"awsui_bottom-tool_7nfqu_15oha_233\",\n  \"tools-open\": \"awsui_tools-open_7nfqu_15oha_290\",\n  \"split-panel-side\": \"awsui_split-panel-side_7nfqu_15oha_304\",\n  \"split-panel-bottom\": \"awsui_split-panel-bottom_7nfqu_15oha_311\",\n  \"panel-hidden\": \"awsui_panel-hidden_7nfqu_15oha_324\",\n  \"toolbar-container\": \"awsui_toolbar-container_7nfqu_15oha_334\",\n  \"notifications-container\": \"awsui_notifications-container_7nfqu_15oha_341\",\n  \"notifications-background\": \"awsui_notifications-background_7nfqu_15oha_345\",\n  \"main-landmark\": \"awsui_main-landmark_7nfqu_15oha_356\",\n  \"main\": \"awsui_main_7nfqu_15oha_356\",\n  \"main-disable-paddings\": \"awsui_main-disable-paddings_7nfqu_15oha_365\",\n  \"content-header\": \"awsui_content-header_7nfqu_15oha_375\",\n  \"content\": \"awsui_content_7nfqu_15oha_375\",\n  \"unfocusable-mobile\": \"awsui_unfocusable-mobile_7nfqu_15oha_385\",\n  \"hidden\": \"awsui_hidden_7nfqu_15oha_390\",\n  \"breadcrumbs-own\": \"awsui_breadcrumbs-own_7nfqu_15oha_394\",\n  \"breadcrumbs-discovered\": \"awsui_breadcrumbs-discovered_7nfqu_15oha_394\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\n\nimport customCssProps from '../../../internal/generated/custom-css-properties';\nimport { useMobile } from '../../../internal/hooks/use-mobile';\nimport globalVars from '../../../internal/styles/global-vars';\nimport { AppLayoutInternalProps, AppLayoutState } from '../interfaces';\nimport { SkeletonSlotsAttributes } from '../skeleton/interfaces';\n\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport styles from '../skeleton/styles.css.js';\n\nconst contentTypeCustomWidths: Array<string | undefined> = ['dashboard', 'cards', 'table'];\n\nexport const useSkeletonSlotsAttributes = (\n  hasToolbar: boolean,\n  appLayoutProps: AppLayoutInternalProps,\n  appLayoutState: AppLayoutState\n): SkeletonSlotsAttributes => {\n  const {\n    isNested,\n    activeDrawerSize,\n    navigationOpen,\n    verticalOffsets,\n    splitPanelOffsets,\n    activeDrawer,\n    expandedDrawerId,\n    activeAiDrawer,\n    activeGlobalBottomDrawerId,\n  } = appLayoutState.widgetizedState ?? {};\n  const { contentType, placement, maxContentWidth, navigationWidth, minContentWidth, disableContentPaddings } =\n    appLayoutProps;\n  const isMobile = useMobile();\n  const toolsOpen = !!activeDrawer;\n  const drawerExpandedMode = !!expandedDrawerId;\n  const aiDrawerExpandedMode = expandedDrawerId === activeAiDrawer?.id;\n  const bottomDrawerExpandedMode = expandedDrawerId === activeGlobalBottomDrawerId;\n  const anyPanelOpen = navigationOpen || toolsOpen;\n  const isMaxWidth = maxContentWidth === Number.MAX_VALUE || maxContentWidth === Number.MAX_SAFE_INTEGER;\n\n  const wrapperElAttributes = {\n    className: clsx(styles.root, testutilStyles.root, {\n      [styles['has-adaptive-widths-default']]: !contentTypeCustomWidths.includes(contentType),\n      [styles['has-adaptive-widths-dashboard']]: contentType === 'dashboard',\n      [styles['drawer-expanded-mode']]: drawerExpandedMode,\n      [styles['ai-drawer-expanded-mode']]: aiDrawerExpandedMode,\n      [styles['bottom-drawer-expanded-mode']]: bottomDrawerExpandedMode,\n    }),\n    style: {\n      minBlockSize: isNested ? '100%' : `calc(100vh - ${placement.insetBlockStart + placement.insetBlockEnd}px)`,\n      [customCssProps.maxContentWidth]: isMaxWidth ? '100%' : maxContentWidth ? `${maxContentWidth}px` : '',\n      [customCssProps.navigationWidth]: `${navigationWidth}px`,\n      [customCssProps.toolsWidth]: `${activeDrawerSize}px`,\n    },\n  };\n\n  const mainElAttributes = {\n    className: clsx(\n      styles['main-landmark'],\n      isMobile && anyPanelOpen && styles['unfocusable-mobile'],\n      drawerExpandedMode && styles.hidden\n    ),\n  };\n\n  const contentWrapperElAttributes = {\n    className: clsx(styles.main, { [styles['main-disable-paddings']]: disableContentPaddings }),\n    style: {\n      paddingBlockEnd: splitPanelOffsets?.mainContentPaddingBlockEnd,\n      ...(hasToolbar || !isNested\n        ? {\n            [globalVars.stickyVerticalTopOffset]: `${verticalOffsets?.header ?? 0}px`,\n            [globalVars.stickyVerticalBottomOffset]: `${splitPanelOffsets?.stickyVerticalBottomOffset ?? 0}px`,\n          }\n        : {}),\n      ...(!isMobile ? { minWidth: `${minContentWidth}px` } : {}),\n    },\n  };\n\n  const contentHeaderElAttributes = {\n    className: styles['content-header'],\n  };\n\n  const contentElAttributes = {\n    className: clsx(styles.content, testutilStyles.content),\n  };\n\n  return {\n    wrapperElAttributes,\n    mainElAttributes,\n    contentWrapperElAttributes,\n    contentHeaderElAttributes,\n    contentElAttributes,\n  };\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { createWidgetizedComponent } from '../../../internal/widgets';\nimport { ActiveDrawersContext } from '../../utils/visibility-context';\nimport {\n  AppLayoutDrawerImplementation as AppLayoutDrawer,\n  AppLayoutGlobalDrawersImplementation as AppLayoutGlobalDrawers,\n} from '../drawer';\nimport { AppLayoutBottomDrawerWrapper } from '../drawer/global-bottom-drawer';\nimport { SkeletonPartProps } from '../skeleton/interfaces';\nimport { AppLayoutSplitPanelDrawerSideImplementation as AppLayoutSplitPanelSide } from '../split-panel';\nimport { isWidgetReady } from '../state/invariants';\n\nimport sharedStyles from '../../resize/styles.css.js';\nimport styles from '../skeleton/styles.css.js';\n\nexport const AfterMainSlotImplementation = ({ appLayoutState, appLayoutProps }: SkeletonPartProps) => {\n  if (!isWidgetReady(appLayoutState)) {\n    return null;\n  }\n  const {\n    navigationOpen,\n    activeGlobalDrawersIds,\n    expandedDrawerId,\n    activeDrawer,\n    splitPanelOpen,\n    drawers,\n    splitPanelPosition,\n    activeGlobalBottomDrawerId,\n    bottomDrawers,\n    bottomDrawerReportedSize,\n  } = appLayoutState.widgetizedState;\n  const drawerExpandedMode = !!expandedDrawerId;\n  const toolsOpen = !!activeDrawer;\n  const globalToolsOpen = !!activeGlobalDrawersIds?.length;\n\n  return (\n    <>\n      {!!bottomDrawers.length && (\n        <div className={styles['bottom-tool']}>\n          <ActiveDrawersContext.Provider value={activeGlobalBottomDrawerId ? [activeGlobalBottomDrawerId] : []}>\n            <AppLayoutBottomDrawerWrapper widgetizedState={appLayoutState.widgetizedState} />\n          </ActiveDrawersContext.Provider>\n        </div>\n      )}\n      {splitPanelPosition === 'side' && (\n        <div\n          className={clsx(\n            styles['split-panel-side'],\n            !splitPanelOpen && styles['panel-hidden'],\n            drawerExpandedMode && styles.hidden\n          )}\n        >\n          <AppLayoutSplitPanelSide\n            appLayoutInternals={appLayoutState.appLayoutInternals}\n            splitPanelInternals={appLayoutState.splitPanelInternals}\n            bottomDrawerReportedSize={bottomDrawerReportedSize}\n          >\n            {appLayoutProps.splitPanel}\n          </AppLayoutSplitPanelSide>\n        </div>\n      )}\n      <div\n        className={clsx(\n          styles.tools,\n          !toolsOpen && styles['panel-hidden'],\n          sharedStyles['with-motion-horizontal'],\n          navigationOpen && !toolsOpen && styles['unfocusable-mobile'],\n          toolsOpen && styles['tools-open'],\n          drawerExpandedMode && styles.hidden\n        )}\n      >\n        {drawers && drawers.length > 0 && (\n          <AppLayoutDrawer\n            appLayoutInternals={appLayoutState.appLayoutInternals}\n            bottomDrawerReportedSize={activeGlobalBottomDrawerId ? bottomDrawerReportedSize : 0}\n          />\n        )}\n      </div>\n      <div className={clsx(styles['global-tools'], !globalToolsOpen && styles['panel-hidden'])}>\n        <ActiveDrawersContext.Provider value={activeGlobalDrawersIds ?? []}>\n          <AppLayoutGlobalDrawers appLayoutInternals={appLayoutState.appLayoutInternals} />\n        </ActiveDrawersContext.Provider>\n      </div>\n    </>\n  );\n};\n\nexport const createWidgetizedAppLayoutAfterMainSlot = createWidgetizedComponent(AfterMainSlotImplementation);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport { Transition } from 'react-transition-group';\nimport clsx from 'clsx';\n\nimport { InternalButton } from '../../../button/internal';\nimport PanelResizeHandle from '../../../internal/components/panel-resize-handle';\nimport customCssProps from '../../../internal/generated/custom-css-properties';\nimport { getLimitedValue } from '../../../split-panel/utils/size-utils';\nimport { TOOLS_DRAWER_ID } from '../../utils/use-drawers';\nimport { getDrawerStyles } from '../compute-layout';\nimport { AppLayoutInternals } from '../interfaces';\nimport { useResize } from './use-resize';\n\nimport sharedStyles from '../../resize/styles.css.js';\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\ninterface AppLayoutDrawerImplementationProps {\n  appLayoutInternals: AppLayoutInternals;\n  bottomDrawerReportedSize?: number;\n}\n\nexport function AppLayoutDrawerImplementation({\n  appLayoutInternals,\n  bottomDrawerReportedSize,\n}: AppLayoutDrawerImplementationProps) {\n  const {\n    activeDrawer,\n    minDrawerSize,\n    activeDrawerSize,\n    maxDrawerSize,\n    ariaLabels,\n    drawers,\n    drawersFocusControl,\n    isMobile,\n    placement,\n    verticalOffsets,\n    drawersOpenQueue,\n    onActiveDrawerChange,\n    onActiveDrawerResize,\n  } = appLayoutInternals;\n  const drawerRef = useRef<HTMLDivElement>(null);\n  const activeDrawerId = activeDrawer?.id;\n\n  const computedAriaLabels = {\n    closeButton: activeDrawer ? activeDrawer.ariaLabels?.closeButton : ariaLabels?.toolsClose,\n    content: activeDrawer ? activeDrawer.ariaLabels?.drawerName : ariaLabels?.tools,\n  };\n\n  const { drawerTopOffset, drawerHeight } = getDrawerStyles(\n    verticalOffsets,\n    isMobile,\n    placement,\n    isMobile ? 0 : (bottomDrawerReportedSize ?? 0)\n  );\n  const toolsOnlyMode = drawers.length === 1 && drawers[0].id === TOOLS_DRAWER_ID;\n  const isToolsDrawer = activeDrawer?.id === TOOLS_DRAWER_ID || toolsOnlyMode;\n  const toolsContent = drawers?.find(drawer => drawer.id === TOOLS_DRAWER_ID)?.content;\n  const resizeProps = useResize({\n    currentWidth: activeDrawerSize,\n    minWidth: minDrawerSize,\n    maxWidth: maxDrawerSize,\n    panelRef: drawerRef,\n    handleRef: drawersFocusControl.refs.slider,\n    onResize: size => onActiveDrawerResize({ id: activeDrawerId!, size }),\n  });\n  // temporary handle a situation when app-layout is old, but this component come as a widget\n  const isLegacyDrawer = drawersOpenQueue === undefined;\n  const size = getLimitedValue(minDrawerSize, activeDrawerSize, maxDrawerSize);\n  const lastOpenedDrawerId = drawersOpenQueue?.length ? drawersOpenQueue[0] : activeDrawerId;\n  const animationDisabled = activeDrawer?.defaultActive && !drawersOpenQueue.includes(activeDrawer.id);\n\n  return (\n    <Transition nodeRef={drawerRef} in={!!activeDrawer} appear={true} timeout={0}>\n      {state => (\n        <aside\n          id={activeDrawerId}\n          aria-hidden={!activeDrawer}\n          aria-label={computedAriaLabels.content}\n          className={clsx(styles.drawer, {\n            [sharedStyles['with-motion-horizontal']]: !animationDisabled,\n            [styles['last-opened']]: lastOpenedDrawerId === activeDrawerId,\n            [styles.legacy]: isLegacyDrawer,\n            [testutilStyles['active-drawer']]: !toolsOnlyMode && activeDrawerId,\n            [testutilStyles.tools]: isToolsDrawer,\n            [styles['drawer-hidden']]: !activeDrawer,\n            [testutilStyles['drawer-closed']]: !activeDrawer,\n          })}\n          ref={drawerRef}\n          onBlur={e => {\n            if (!e.relatedTarget || !e.currentTarget.contains(e.relatedTarget)) {\n              drawersFocusControl.loseFocus();\n            }\n          }}\n          style={{\n            blockSize: drawerHeight,\n            insetBlockStart: drawerTopOffset,\n            ...(!isMobile &&\n              !isLegacyDrawer && {\n                [customCssProps.drawerSize]: `${['entering', 'entered'].includes(state) ? size : 0}px`,\n              }),\n          }}\n          data-testid={activeDrawerId && `awsui-app-layout-drawer-${activeDrawerId}`}\n        >\n          {!isMobile && activeDrawer?.resizable && (\n            <div className={styles['drawer-slider']}>\n              <PanelResizeHandle\n                ref={drawersFocusControl.refs.slider}\n                position=\"side\"\n                className={testutilStyles['drawers-slider']}\n                ariaLabel={activeDrawer?.ariaLabels?.resizeHandle}\n                tooltipText={activeDrawer?.ariaLabels?.resizeHandleTooltipText}\n                ariaValuenow={resizeProps.relativeSize}\n                onKeyDown={resizeProps.onKeyDown}\n                onPointerDown={resizeProps.onPointerDown}\n                onDirectionClick={resizeProps.onDirectionClick}\n              />\n            </div>\n          )}\n          <div className={clsx(styles['drawer-content-container'], sharedStyles['with-motion-horizontal'])}>\n            <div className={clsx(styles['drawer-close-button'])}>\n              <InternalButton\n                ariaLabel={computedAriaLabels.closeButton}\n                className={clsx({\n                  [testutilStyles['active-drawer-close-button']]: !isToolsDrawer && activeDrawerId,\n                  [testutilStyles['tools-close']]: isToolsDrawer,\n                })}\n                formAction=\"none\"\n                iconName={isMobile ? 'close' : 'angle-right'}\n                onClick={() => onActiveDrawerChange(null, { initiatedByUserAction: true })}\n                ref={drawersFocusControl.refs.close}\n                variant=\"icon\"\n                analyticsAction=\"close\"\n              />\n            </div>\n            <div\n              key={TOOLS_DRAWER_ID}\n              className={clsx(\n                styles['drawer-content'],\n                activeDrawerId !== TOOLS_DRAWER_ID && styles['drawer-content-hidden']\n              )}\n              style={{ blockSize: drawerHeight }}\n            >\n              {toolsContent}\n            </div>\n            {activeDrawerId !== TOOLS_DRAWER_ID && (\n              <div key={activeDrawerId} className={styles['drawer-content']} style={{ blockSize: drawerHeight }}>\n                {activeDrawer?.content}\n              </div>\n            )}\n          </div>\n        </aside>\n      )}\n    </Transition>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { getLimitedValue } from '../../../split-panel/utils/size-utils';\nimport { SizeControlProps } from '../../utils/interfaces';\nimport { useKeyboardEvents } from '../../utils/use-keyboard-events';\nimport { usePointerEvents } from '../../utils/use-pointer-events';\n\ninterface ResizeProps {\n  currentWidth: number;\n  minWidth: number;\n  maxWidth: number;\n  panelRef: React.RefObject<HTMLDivElement>;\n  handleRef: React.RefObject<HTMLDivElement>;\n  onResize: (newWidth: number) => void;\n  position?: 'side-start' | 'side' | 'bottom';\n}\n\nexport function useResize({ currentWidth, minWidth, maxWidth, panelRef, handleRef, onResize, position }: ResizeProps) {\n  const onResizeHandler = (newWidth: number) => {\n    const size = getLimitedValue(minWidth, newWidth, maxWidth);\n\n    if (maxWidth >= minWidth) {\n      onResize(size);\n    }\n  };\n\n  const sizeControlProps: SizeControlProps = {\n    position: position ?? 'side',\n    panelRef,\n    handleRef,\n    onResize: onResizeHandler,\n  };\n\n  const clampedWidth = getLimitedValue(minWidth, currentWidth, maxWidth);\n  const relativeSize = ((clampedWidth - minWidth) / (maxWidth - minWidth)) * 100;\n\n  const onPointerDown = usePointerEvents(sizeControlProps);\n  const { onKeyDown, onDirectionClick } = useKeyboardEvents(sizeControlProps);\n\n  return { onKeyDown, onDirectionClick, onPointerDown, relativeSize };\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"drawer\": \"awsui_drawer_12i0j_1kadi_193\",\n  \"with-expanded-motion\": \"awsui_with-expanded-motion_12i0j_1kadi_207\",\n  \"legacy\": \"awsui_legacy_12i0j_1kadi_221\",\n  \"ai-drawer\": \"awsui_ai-drawer_12i0j_1kadi_221\",\n  \"bottom-drawer\": \"awsui_bottom-drawer_12i0j_1kadi_221\",\n  \"last-opened\": \"awsui_last-opened_12i0j_1kadi_229\",\n  \"drawer-global\": \"awsui_drawer-global_12i0j_1kadi_233\",\n  \"drawer-expanded\": \"awsui_drawer-expanded_12i0j_1kadi_242\",\n  \"drawer-hidden\": \"awsui_drawer-hidden_12i0j_1kadi_246\",\n  \"has-next-siblings\": \"awsui_has-next-siblings_12i0j_1kadi_256\",\n  \"global-drawer-wrapper\": \"awsui_global-drawer-wrapper_12i0j_1kadi_256\",\n  \"drawer-content-container\": \"awsui_drawer-content-container_12i0j_1kadi_270\",\n  \"drawer-gap\": \"awsui_drawer-gap_12i0j_1kadi_273\",\n  \"drawer-close-button\": \"awsui_drawer-close-button_12i0j_1kadi_291\",\n  \"drawer-expanded-mode-button\": \"awsui_drawer-expanded-mode-button_12i0j_1kadi_297\",\n  \"drawer-content\": \"awsui_drawer-content_12i0j_1kadi_270\",\n  \"drawer-content-hidden\": \"awsui_drawer-content-hidden_12i0j_1kadi_309\",\n  \"drawer-slider\": \"awsui_drawer-slider_12i0j_1kadi_312\",\n  \"drawer-actions\": \"awsui_drawer-actions_12i0j_1kadi_364\",\n  \"ai-drawer-slider-handle\": \"awsui_ai-drawer-slider-handle_12i0j_1kadi_421\",\n  \"drawer-content-header\": \"awsui_drawer-content-header_12i0j_1kadi_440\",\n  \"drawer-content-header-content\": \"awsui_drawer-content-header-content_12i0j_1kadi_453\",\n  \"drawer-back-to-console-slot\": \"awsui_drawer-back-to-console-slot_12i0j_1kadi_470\",\n  \"drawer-back-to-console-button-wrapper\": \"awsui_drawer-back-to-console-button-wrapper_12i0j_1kadi_509\",\n  \"drawer-back-to-console-button\": \"awsui_drawer-back-to-console-button_12i0j_1kadi_509\",\n  \"drawer-back-to-console-custom-button\": \"awsui_drawer-back-to-console-custom-button_12i0j_1kadi_582\",\n  \"drawer-content-content\": \"awsui_drawer-content-content_12i0j_1kadi_588\",\n  \"bottom-drawer-content-header\": \"awsui_bottom-drawer-content-header_12i0j_1kadi_646\",\n  \"bottom-drawer-content-header-content\": \"awsui_bottom-drawer-content-header-content_12i0j_1kadi_653\",\n  \"bottom-drawer-actions\": \"awsui_bottom-drawer-actions_12i0j_1kadi_661\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\n\nimport { AppLayoutInternals } from '../interfaces';\nimport AppLayoutGlobalDrawer from './global-drawer';\n\ninterface AppLayoutGlobalDrawersImplementationProps {\n  appLayoutInternals: AppLayoutInternals;\n}\n\nexport function AppLayoutGlobalDrawersImplementation({\n  appLayoutInternals,\n}: AppLayoutGlobalDrawersImplementationProps) {\n  const { globalDrawers, activeGlobalDrawersIds, expandedDrawerId } = appLayoutInternals;\n  const openDrawersHistory = useRef<Set<string>>(new Set());\n\n  if (!globalDrawers.length) {\n    return <></>;\n  }\n\n  return (\n    <>\n      {globalDrawers\n        .filter(\n          drawer =>\n            (drawer.position !== 'bottom' && activeGlobalDrawersIds.includes(drawer.id)) ||\n            (drawer.preserveInactiveContent && openDrawersHistory.current.has(drawer.id))\n        )\n        .map(drawer => {\n          openDrawersHistory.current.add(drawer.id);\n          return (\n            <AppLayoutGlobalDrawer\n              key={drawer.id}\n              show={activeGlobalDrawersIds.includes(drawer.id) && (!expandedDrawerId || drawer.id === expandedDrawerId)}\n              activeGlobalDrawer={drawer}\n              appLayoutInternals={appLayoutInternals}\n            />\n          );\n        })}\n    </>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport { Transition } from 'react-transition-group';\nimport clsx from 'clsx';\n\nimport { InternalItemOrGroup } from '../../../button-group/interfaces';\nimport ButtonGroup from '../../../button-group/internal';\nimport PanelResizeHandle from '../../../internal/components/panel-resize-handle';\nimport customCssProps from '../../../internal/generated/custom-css-properties';\nimport { usePrevious } from '../../../internal/hooks/use-previous';\nimport { getLimitedValue } from '../../../split-panel/utils/size-utils';\nimport { Focusable } from '../../utils/use-focus-control';\nimport { getDrawerStyles } from '../compute-layout';\nimport { AppLayoutInternals, InternalDrawer } from '../interfaces';\nimport { useResize } from './use-resize';\n\nimport sharedStyles from '../../resize/styles.css.js';\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\ninterface AppLayoutGlobalDrawerImplementationProps {\n  appLayoutInternals: AppLayoutInternals;\n  show: boolean;\n  activeGlobalDrawer: InternalDrawer | undefined;\n}\n\nfunction AppLayoutGlobalDrawerImplementation({\n  appLayoutInternals,\n  show,\n  activeGlobalDrawer,\n}: AppLayoutGlobalDrawerImplementationProps) {\n  const {\n    ariaLabels,\n    globalDrawersFocusControl,\n    isMobile,\n    placement,\n    onActiveGlobalDrawersChange,\n    onActiveDrawerResize,\n    minGlobalDrawersSizes,\n    maxGlobalDrawersSizes,\n    activeGlobalDrawersSizes,\n    activeGlobalDrawers,\n    verticalOffsets,\n    drawersOpenQueue,\n    expandedDrawerId,\n    setExpandedDrawerId,\n    activeAiDrawer,\n  } = appLayoutInternals;\n  const drawerRef = useRef<HTMLDivElement>(null);\n  const activeDrawerId = activeGlobalDrawer?.id ?? '';\n\n  const computedAriaLabels = {\n    closeButton: activeGlobalDrawer ? activeGlobalDrawer.ariaLabels?.closeButton : ariaLabels?.toolsClose,\n    content: activeGlobalDrawer ? activeGlobalDrawer.ariaLabels?.drawerName : ariaLabels?.tools,\n  };\n\n  const { drawerTopOffset, drawerHeight } = getDrawerStyles(verticalOffsets, isMobile, placement);\n  const activeDrawerSize = (activeDrawerId ? activeGlobalDrawersSizes[activeDrawerId] : 0) ?? 0;\n  const minDrawerSize = (activeDrawerId ? minGlobalDrawersSizes[activeDrawerId] : 0) ?? 0;\n  const maxDrawerSize = (activeDrawerId ? maxGlobalDrawersSizes[activeDrawerId] : 0) ?? 0;\n  const refs = globalDrawersFocusControl.refs[activeDrawerId];\n  const resizeProps = useResize({\n    currentWidth: activeDrawerSize,\n    minWidth: minDrawerSize,\n    maxWidth: maxDrawerSize,\n    panelRef: drawerRef,\n    handleRef: refs?.slider,\n    onResize: size => onActiveDrawerResize({ id: activeDrawerId!, size }),\n  });\n  const size = getLimitedValue(minDrawerSize, activeDrawerSize, maxDrawerSize);\n  const lastOpenedDrawerId = drawersOpenQueue.length ? drawersOpenQueue[0] : null;\n  const hasTriggerButton = !!activeGlobalDrawer?.trigger;\n  const isExpanded = activeGlobalDrawer?.isExpandable && expandedDrawerId === activeDrawerId;\n  const wasExpanded = usePrevious(isExpanded);\n  const animationDisabled =\n    (activeGlobalDrawer?.defaultActive && !drawersOpenQueue.includes(activeGlobalDrawer.id)) ||\n    (wasExpanded && !isExpanded);\n  let drawerActions: ReadonlyArray<InternalItemOrGroup> = [\n    {\n      type: 'icon-button',\n      id: 'close',\n      iconName: isMobile ? 'close' : 'angle-right',\n      text: computedAriaLabels.closeButton ?? '',\n      analyticsAction: 'close',\n    },\n  ];\n  if (!isMobile && activeGlobalDrawer?.isExpandable) {\n    drawerActions = [\n      {\n        type: 'icon-button',\n        id: 'expand',\n        iconName: isExpanded ? 'shrink' : 'expand',\n        text: activeGlobalDrawer?.ariaLabels?.expandedModeButton ?? '',\n        analyticsAction: isExpanded ? 'expand' : 'collapse',\n      },\n      ...drawerActions,\n    ];\n  }\n  if (activeGlobalDrawer?.headerActions) {\n    drawerActions = [\n      {\n        type: 'group',\n        text: 'Actions',\n        items: activeGlobalDrawer.headerActions!,\n      },\n      ...drawerActions,\n    ];\n  }\n\n  return (\n    <Transition nodeRef={drawerRef} in={show || isExpanded} appear={show || isExpanded} timeout={0}>\n      {state => {\n        return (\n          <aside\n            id={activeDrawerId}\n            aria-hidden={!show}\n            aria-label={computedAriaLabels.content}\n            className={clsx(\n              styles.drawer,\n              styles['drawer-global'],\n              styles[state],\n              !animationDisabled && sharedStyles['with-motion-horizontal'],\n              !animationDisabled && isExpanded && styles['with-expanded-motion'],\n              {\n                [styles['drawer-hidden']]: !show,\n                [styles['last-opened']]: (!activeAiDrawer && lastOpenedDrawerId === activeDrawerId) || isExpanded,\n                [testutilStyles['active-drawer']]: show,\n                [styles['drawer-expanded']]: isExpanded,\n                [styles['has-next-siblings']]:\n                  activeGlobalDrawers.findIndex(drawer => drawer.id === activeDrawerId) + 1 <\n                  activeGlobalDrawers.length,\n              }\n            )}\n            ref={drawerRef}\n            onBlur={e => {\n              // Drawers with trigger buttons follow this restore focus logic:\n              // If a previously focused element exists, restore focus on it; otherwise, focus on the associated trigger button.\n              // This function resets the previously focused element.\n              // If the drawer has no trigger button and loses focus on the previously focused element, it defaults to document.body,\n              // which ideally should never happen.\n              if (!hasTriggerButton) {\n                return;\n              }\n\n              if (!e.relatedTarget || !e.currentTarget.contains(e.relatedTarget)) {\n                globalDrawersFocusControl.loseFocus();\n              }\n            }}\n            style={{\n              blockSize: drawerHeight,\n              insetBlockStart: drawerTopOffset,\n              ...(!isMobile && {\n                [customCssProps.drawerSize]: `${['entering', 'entered'].includes(state) ? (isExpanded ? '100%' : size + 'px') : 0}`,\n              }),\n            }}\n            data-testid={`awsui-app-layout-drawer-${activeDrawerId}`}\n          >\n            <div className={clsx(styles['global-drawer-wrapper'])}>\n              {!isMobile && <div className={styles['drawer-gap']}></div>}\n              {!isMobile && activeGlobalDrawer?.resizable && !isExpanded && (\n                <div className={styles['drawer-slider']}>\n                  <PanelResizeHandle\n                    ref={refs?.slider}\n                    position=\"side\"\n                    className={testutilStyles['drawers-slider']}\n                    ariaLabel={activeGlobalDrawer?.ariaLabels?.resizeHandle}\n                    tooltipText={activeGlobalDrawer?.ariaLabels?.resizeHandleTooltipText}\n                    ariaValuenow={resizeProps.relativeSize}\n                    onKeyDown={resizeProps.onKeyDown}\n                    onDirectionClick={resizeProps.onDirectionClick}\n                    onPointerDown={resizeProps.onPointerDown}\n                  />\n                </div>\n              )}\n\n              <div\n                className={clsx(styles['drawer-content-container'], sharedStyles['with-motion-horizontal'])}\n                data-testid={`awsui-app-layout-drawer-content-${activeDrawerId}`}\n              >\n                <div className={styles['drawer-actions']}>\n                  <ButtonGroup\n                    dropdownExpandToViewport={false}\n                    variant=\"icon\"\n                    onItemClick={event => {\n                      switch (event.detail.id) {\n                        case 'close':\n                          onActiveGlobalDrawersChange(activeDrawerId, { initiatedByUserAction: true });\n                          break;\n                        case 'expand':\n                          setExpandedDrawerId(isExpanded ? null : activeDrawerId);\n                          break;\n                        default:\n                          activeGlobalDrawer?.onHeaderActionClick?.(event);\n                      }\n                    }}\n                    ariaLabel=\"Global panel actions\"\n                    items={drawerActions}\n                    __internalRootRef={(root: HTMLElement) => {\n                      if (!root) {\n                        return;\n                      }\n                      refs.close = { current: root.querySelector('[data-itemid=\"close\"]') as unknown as Focusable };\n                    }}\n                  />\n                </div>\n                <div className={styles['drawer-content']} style={{ blockSize: drawerHeight }}>\n                  {activeGlobalDrawer?.content}\n                </div>\n              </div>\n            </div>\n          </aside>\n        );\n      }}\n    </Transition>\n  );\n}\n\nexport default AppLayoutGlobalDrawerImplementation;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useImperativeHandle, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { ButtonProps } from '../button/interfaces';\nimport { getBaseProps } from '../internal/base-component';\nimport InternalNavigableGroup from '../navigable-group/internal';\nimport { ButtonGroupProps, InternalButtonGroupProps } from './interfaces';\nimport ItemElement from './item-element.js';\nimport { getButtonGroupStyles } from './style';\n\nimport styles from './styles.css.js';\nimport testUtilStyles from './test-classes/styles.css.js';\n\nconst InternalButtonGroup = forwardRef(\n  (\n    {\n      items = [],\n      onItemClick,\n      onFilesChange,\n      ariaLabel,\n      dropdownExpandToViewport,\n      style,\n      __internalRootRef,\n      ...props\n    }: InternalButtonGroupProps,\n    ref: React.Ref<ButtonGroupProps.Ref>\n  ) => {\n    const baseProps = getBaseProps(props);\n    const itemsRef = useRef<Record<string, ButtonProps.Ref | null>>({});\n    const [tooltip, setTooltip] = useState<null | { item: string; feedback: boolean }>(null);\n\n    useImperativeHandle(ref, () => ({\n      focus: id => {\n        itemsRef.current[id]?.focus();\n      },\n    }));\n\n    const stylePropertiesAndVariables = getButtonGroupStyles(style);\n    return (\n      <div\n        {...baseProps}\n        ref={__internalRootRef}\n        className={clsx(styles.root, testUtilStyles['button-group'], baseProps.className)}\n        role=\"toolbar\"\n        aria-label={ariaLabel}\n        style={stylePropertiesAndVariables}\n      >\n        <InternalNavigableGroup getItemKey={item => item.dataset.itemid!}>\n          {items.map((itemOrGroup, index) => {\n            const itemContent = (item: ButtonGroupProps.Item, position: string) => (\n              <ItemElement\n                key={item.id}\n                item={item}\n                dropdownExpandToViewport={dropdownExpandToViewport}\n                tooltip={tooltip}\n                setTooltip={setTooltip}\n                onItemClick={onItemClick}\n                onFilesChange={onFilesChange}\n                ref={element => (itemsRef.current[item.id] = element)}\n                position={position}\n                style={style}\n              />\n            );\n\n            const isGroupBefore = items[index - 1]?.type === 'group';\n            const currentItem = items[index];\n            const isGroupNow = currentItem?.type === 'group';\n            const shouldAddDivider = isGroupBefore || (!isGroupBefore && isGroupNow && index !== 0);\n\n            if (isGroupNow && currentItem.items.length === 0) {\n              warnOnce('ButtonGroup', 'Empty group detected. Empty groups are not allowed.');\n            }\n\n            return (\n              <React.Fragment key={itemOrGroup.type === 'group' ? index : itemOrGroup.id}>\n                {shouldAddDivider && <div className={styles.divider} />}\n                {itemOrGroup.type === 'group' ? (\n                  <div key={index} role=\"group\" aria-label={itemOrGroup.text} className={styles.group}>\n                    {itemOrGroup.items.map((item, subIndex) => itemContent(item, `${index + 1},${subIndex + 1}`))}\n                  </div>\n                ) : (\n                  itemContent(itemOrGroup, `${index + 1}`)\n                )}\n              </React.Fragment>\n            );\n          })}\n        </InternalNavigableGroup>\n      </div>\n    );\n  }\n);\n\nexport default InternalButtonGroup;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useEffect, useImperativeHandle, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useMergeRefs } from '@cloudscape-design/component-toolkit/internal';\nimport {\n  SingleTabStopNavigationAPI,\n  SingleTabStopNavigationProvider,\n} from '@cloudscape-design/component-toolkit/internal';\n\nimport { getBaseProps } from '../internal/base-component';\nimport { getAllFocusables } from '../internal/components/focus-lock/utils';\nimport { hasModifierKeys } from '../internal/events';\nimport { KeyCode } from '../internal/keycode';\nimport { circleIndex } from '../internal/utils/circle-index';\nimport handleKey from '../internal/utils/handle-key';\nimport { InternalNavigableGroupProps, NavigableGroupProps } from './interfaces';\n\nimport styles from './styles.css.js';\nimport testUtilStyles from './test-classes/styles.css.js';\n\nconst InternalNavigableGroup = forwardRef(\n  (\n    {\n      children,\n      getItemKey,\n      navigationDirection = 'horizontal',\n      __internalRootRef,\n      ...props\n    }: InternalNavigableGroupProps,\n    ref: React.Ref<NavigableGroupProps.Ref>\n  ) => {\n    const baseProps = getBaseProps(props);\n    const navigationAPI = useRef<SingleTabStopNavigationAPI>(null);\n    const containerObjectRef = useRef<HTMLDivElement>(null);\n    const containerRef = useMergeRefs(containerObjectRef, __internalRootRef);\n    const focusedIdRef = useRef<string>();\n\n    useImperativeHandle(ref, () => ({\n      focus: () => {\n        const target = getNextFocusTarget();\n        if (target) {\n          target.focus();\n        }\n      },\n    }));\n\n    function getNextFocusTarget(): null | HTMLElement {\n      if (containerObjectRef.current) {\n        const focusables = getFocusablesFrom(containerObjectRef.current);\n        return focusables.find(el => getItemKey(el) === focusedIdRef.current) ?? focusables[0] ?? null;\n      }\n      return null;\n    }\n\n    function onUnregisterActive(focusableElement: HTMLElement) {\n      // Only refocus when the node is actually removed (no such element anymore).\n      const target = navigationAPI.current?.getFocusTarget();\n\n      if (target && getItemKey(target) !== getItemKey(focusableElement)) {\n        target.focus();\n      }\n    }\n\n    useEffect(() => {\n      navigationAPI.current?.updateFocusTarget();\n    });\n\n    function onFocus(event: React.FocusEvent) {\n      if (event.target instanceof HTMLElement && navigationAPI.current?.isRegistered(event.target)) {\n        focusedIdRef.current = getItemKey(event.target);\n      }\n      navigationAPI.current?.updateFocusTarget();\n    }\n\n    function onBlur() {\n      navigationAPI.current?.updateFocusTarget();\n    }\n\n    function onKeyDown(event: React.KeyboardEvent) {\n      const focusTarget = navigationAPI.current?.getFocusTarget();\n      let specialKeys = [];\n      switch (navigationDirection) {\n        case 'horizontal':\n          specialKeys = [KeyCode.right, KeyCode.left];\n          break;\n        case 'vertical':\n          specialKeys = [KeyCode.down, KeyCode.up];\n          break;\n        case 'both':\n          specialKeys = [KeyCode.right, KeyCode.left, KeyCode.down, KeyCode.up];\n          break;\n      }\n      specialKeys.push(KeyCode.end, KeyCode.home, KeyCode.pageUp, KeyCode.pageDown);\n      if (hasModifierKeys(event) || specialKeys.indexOf(event.keyCode) === -1) {\n        return;\n      }\n      if (!containerObjectRef.current || !focusTarget) {\n        return;\n      }\n      // Ignore navigation when the focused element is not a registered focusable.\n      if (document.activeElement && !navigationAPI.current?.isRegistered(document.activeElement)) {\n        return;\n      }\n      event.preventDefault();\n\n      const focusables = getFocusablesFrom(containerObjectRef.current);\n      const activeIndex = focusables.indexOf(focusTarget);\n      const getNextIndex = (delta: number) => {\n        const newIndex = activeIndex + delta;\n        return circleIndex(newIndex, [0, focusables.length - 1]);\n      };\n\n      handleKey(event as any, {\n        onHome: () => focusElement(focusables[0]),\n        onEnd: () => focusElement(focusables[focusables.length - 1]),\n        onInlineStart: () => focusElement(focusables[getNextIndex(-1)]),\n        onBlockStart: () => focusElement(focusables[getNextIndex(-1)]),\n        onInlineEnd: () => focusElement(focusables[getNextIndex(1)]),\n        onBlockEnd: () => focusElement(focusables[getNextIndex(1)]),\n      });\n    }\n\n    function focusElement(element: HTMLElement) {\n      element.focus();\n    }\n\n    // List all non-disabled and registered focusables: those are eligible for keyboard navigation.\n    function getFocusablesFrom(target: HTMLElement) {\n      function isElementRegistered(element: HTMLElement) {\n        return navigationAPI.current?.isRegistered(element) ?? false;\n      }\n\n      function isElementDisabled(element: HTMLElement) {\n        if ('disabled' in element) {\n          return element.disabled;\n        }\n\n        return false;\n      }\n\n      return getAllFocusables(target).filter(el => isElementRegistered(el) && !isElementDisabled(el));\n    }\n\n    return (\n      <div\n        {...baseProps}\n        className={clsx(styles.root, testUtilStyles.root, baseProps.className)}\n        ref={containerRef}\n        onFocus={onFocus}\n        onBlur={onBlur}\n        onKeyDown={onKeyDown}\n      >\n        <SingleTabStopNavigationProvider\n          ref={navigationAPI}\n          navigationActive={true}\n          getNextFocusTarget={getNextFocusTarget}\n          onUnregisterActive={onUnregisterActive}\n        >\n          {children}\n        </SingleTabStopNavigationProvider>\n      </div>\n    );\n  }\n);\n\nexport default InternalNavigableGroup;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n// Returns given index if it is in range or the opposite range boundary otherwise.\nexport function circleIndex(index: number, [from, to]: [number, number]): number {\n  if (index < from) {\n    return to;\n  }\n  if (index > to) {\n    return from;\n  }\n  return index;\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_ghvqw_1g0cx_5\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_efqlv_1qglu_5\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useEffect, useImperativeHandle, useRef } from 'react';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport { ButtonProps } from '../button/interfaces.js';\nimport { ButtonDropdownProps } from '../button-dropdown/interfaces.js';\nimport { FileInputProps } from '../file-input/interfaces';\nimport { fireCancelableEvent, NonCancelableEventHandler } from '../internal/events';\nimport { nodeBelongs } from '../internal/utils/node-belongs';\nimport FileInputItem from './file-input-item';\nimport IconButtonItem from './icon-button-item';\nimport IconToggleButtonItem from './icon-toggle-button-item.js';\nimport { ButtonGroupProps } from './interfaces';\nimport MenuDropdownItem from './menu-dropdown-item';\nimport { getButtonGroupItemStyles } from './style';\n\nimport styles from './styles.css.js';\n\ninterface ItemElementProps {\n  item: ButtonGroupProps.Item;\n  dropdownExpandToViewport?: boolean;\n  tooltip: null | { item: string; feedback: boolean };\n  setTooltip: (tooltip: null | { item: string; feedback: boolean }) => void;\n  onItemClick?: NonCancelableEventHandler<ButtonGroupProps.ItemClickDetails> | undefined;\n  onFilesChange?: NonCancelableEventHandler<ButtonGroupProps.FilesChangeDetails> | undefined;\n  position: string;\n  style?: ButtonGroupProps.Style;\n}\n\nconst ItemElement = forwardRef(\n  (\n    {\n      item,\n      dropdownExpandToViewport,\n      tooltip,\n      setTooltip,\n      onItemClick,\n      onFilesChange,\n      position,\n      style,\n    }: ItemElementProps,\n    ref: React.Ref<ButtonProps.Ref>\n  ) => {\n    const containerRef = useRef<HTMLDivElement>(null);\n    const buttonRef = useRef<ButtonProps.Ref>(null);\n    const fileInputRef = useRef<FileInputProps.Ref>(null);\n    const buttonDropdownRef = useRef<ButtonDropdownProps.Ref>(null);\n\n    useImperativeHandle(ref, () => ({\n      focus: () => {\n        buttonRef.current?.focus();\n        fileInputRef.current?.focus();\n        buttonDropdownRef.current?.focus();\n      },\n    }));\n\n    useEffect(() => {\n      if (tooltip?.item !== item.id) {\n        return;\n      }\n\n      const close = () => {\n        setTooltip(null);\n      };\n\n      const handlePointerDownEvent = (event: PointerEvent) => {\n        if (event.target && containerRef.current?.contains(event.target as HTMLElement)) {\n          return;\n        }\n\n        close();\n      };\n\n      const handleKeyDownEvent = (event: KeyboardEvent) => {\n        if (event.key === 'Escape') {\n          close();\n        }\n      };\n\n      const controller = new AbortController();\n      window.addEventListener('pointerdown', handlePointerDownEvent, { signal: controller.signal });\n      window.addEventListener('keydown', handleKeyDownEvent, { signal: controller.signal });\n\n      return () => {\n        controller.abort();\n      };\n    }, [item.id, tooltip, setTooltip]);\n\n    const onShowTooltipSoft = (show: boolean) => {\n      if (!tooltip?.feedback) {\n        setTooltip(show ? { item: item.id, feedback: false } : null);\n      }\n    };\n\n    const onShowTooltipHard = (show: boolean) => {\n      if (!show && item.id !== tooltip?.item) {\n        return;\n      }\n\n      setTooltip(show ? { item: item.id, feedback: false } : null);\n    };\n\n    const onClickHandler = (event: CustomEvent<ButtonGroupProps.ItemClickDetails>) => {\n      const hasPopoverFeedback = 'popoverFeedback' in item && item.popoverFeedback;\n\n      if (hasPopoverFeedback) {\n        setTooltip({ item: item.id, feedback: true });\n      }\n\n      fireCancelableEvent(onItemClick, event.detail, event);\n    };\n\n    const onFilesChangeHandler = (event: CustomEvent<ButtonGroupProps.FilesChangeDetails>) => {\n      fireCancelableEvent(onFilesChange, event.detail, event);\n\n      setTooltip(null);\n    };\n\n    const itemStylePropertiesAndVariables = getButtonGroupItemStyles(style);\n\n    return (\n      <div\n        key={item.id}\n        className={styles['item-wrapper']}\n        ref={containerRef}\n        onPointerEnter={() => onShowTooltipSoft(true)}\n        onPointerLeave={() => onShowTooltipSoft(false)}\n        onFocus={event => {\n          // Showing no tooltip when the focus comes from inside the container.\n          // This is needed to prevent the tooltip after a menu closes with item selection or Escape.\n          if (event && event.relatedTarget && nodeBelongs(containerRef.current, event.relatedTarget)) {\n            return;\n          }\n          onShowTooltipHard(true);\n        }}\n        onBlur={() => onShowTooltipHard(false)}\n        style={itemStylePropertiesAndVariables}\n        {...(item.type === 'menu-dropdown' || (item as ButtonGroupProps.IconButton).disabled\n          ? {}\n          : getAnalyticsMetadataAttribute({ detail: { position, id: item.id } }))}\n      >\n        {item.type === 'icon-button' && (\n          <IconButtonItem\n            ref={buttonRef}\n            item={item}\n            onItemClick={onClickHandler}\n            showTooltip={tooltip?.item === item.id}\n            showFeedback={!!tooltip?.feedback}\n            onTooltipDismiss={() => setTooltip(null)}\n          />\n        )}\n        {item.type === 'icon-toggle-button' && (\n          <IconToggleButtonItem\n            ref={buttonRef}\n            item={item}\n            onItemClick={onClickHandler}\n            showTooltip={tooltip?.item === item.id}\n            showFeedback={!!tooltip?.feedback}\n            onTooltipDismiss={() => setTooltip(null)}\n          />\n        )}\n        {item.type === 'icon-file-input' && (\n          <FileInputItem\n            ref={fileInputRef}\n            item={item}\n            onFilesChange={onFilesChangeHandler}\n            showTooltip={tooltip?.item === item.id}\n            onTooltipDismiss={() => setTooltip(null)}\n          />\n        )}\n        {item.type === 'menu-dropdown' && (\n          <MenuDropdownItem\n            ref={buttonDropdownRef}\n            item={item}\n            showTooltip={tooltip?.item === item.id}\n            onItemClick={onClickHandler}\n            expandToViewport={dropdownExpandToViewport}\n            onTooltipDismiss={() => setTooltip(null)}\n            position={position}\n          />\n        )}\n      </div>\n    );\n  }\n);\n\nexport default ItemElement;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useState } from 'react';\n\nimport { FileInputProps } from '../file-input/interfaces.js';\nimport InternalFileInput from '../file-input/internal.js';\nimport { CancelableEventHandler, fireCancelableEvent } from '../internal/events/index.js';\nimport Tooltip from '../tooltip/internal.js';\nimport { ButtonGroupProps } from './interfaces.js';\n\nimport testUtilStyles from './test-classes/styles.css.js';\n\ninterface FileInputItemProps {\n  item: ButtonGroupProps.IconFileInput;\n  showTooltip: boolean;\n  onTooltipDismiss: () => void;\n  onFilesChange?: CancelableEventHandler<ButtonGroupProps.FilesChangeDetails>;\n}\n\nconst FileInputItem = forwardRef(\n  ({ item, showTooltip, onTooltipDismiss, onFilesChange }: FileInputItemProps, ref: React.Ref<FileInputProps.Ref>) => {\n    const [files, setFiles] = useState<File[]>([]);\n    const containerRef = React.useRef<HTMLDivElement>(null);\n\n    const canShowTooltip = Boolean(showTooltip);\n\n    return (\n      <div ref={containerRef}>\n        <InternalFileInput\n          className={testUtilStyles['button-group-item']}\n          ref={ref}\n          variant=\"icon\"\n          ariaLabel={item.text}\n          accept={item.accept}\n          multiple={item.multiple}\n          value={files}\n          onChange={event => {\n            fireCancelableEvent(onFilesChange, { id: item.id, files: event.detail.value });\n            setFiles(event.detail.value);\n          }}\n          data-testid={item.id}\n          __inputNativeAttributes={{\n            'data-itemid': item.id,\n          }}\n          __inputClassName={testUtilStyles.item}\n        />\n        {canShowTooltip && (\n          <Tooltip\n            className={testUtilStyles['button-group-tooltip']}\n            getTrack={() => containerRef.current}\n            content={item.text}\n            onEscape={onTooltipDismiss}\n          />\n        )}\n      </div>\n    );\n  }\n);\n\nexport default FileInputItem;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { ChangeEvent, Ref, useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { useMergeRefs, useUniqueId, warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport { useSingleTabStopNavigation } from '@cloudscape-design/component-toolkit/internal';\nimport {\n  GeneratedAnalyticsMetadataFragment,\n  getAnalyticsMetadataAttribute,\n} from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport InternalButton from '../button/internal';\nimport { useFormFieldContext } from '../contexts/form-field';\nimport { getBaseProps } from '../internal/base-component/index.js';\nimport ScreenreaderOnly from '../internal/components/screenreader-only';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport checkControlled from '../internal/hooks/check-controlled';\nimport useForwardFocus from '../internal/hooks/forward-focus';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component/index.js';\nimport { joinStrings } from '../internal/utils/strings';\nimport { GeneratedAnalyticsMetadataFileInputComponent } from './analytics-metadata/interfaces';\nimport { FileInputProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\ninterface InternalFileInputProps {\n  __inputClassName?: string;\n  __inputNativeAttributes?: React.InputHTMLAttributes<HTMLInputElement> | Record<`data-${string}`, string>;\n  __injectAnalyticsComponentMetadata?: boolean;\n}\n\nconst InternalFileInput = React.forwardRef(\n  (\n    {\n      accept,\n      ariaRequired,\n      ariaLabel,\n      multiple = false,\n      value,\n      onChange,\n      variant = 'button',\n      children,\n      __internalRootRef,\n      __inputClassName,\n      __inputNativeAttributes,\n      __injectAnalyticsComponentMetadata,\n      ...restProps\n    }: FileInputProps & InternalBaseComponentProps & InternalFileInputProps,\n    ref: Ref<FileInputProps.Ref>\n  ) => {\n    const baseProps = getBaseProps(restProps);\n    const uploadInputRef = useRef<HTMLInputElement>(null);\n    const containerRef = useRef<HTMLButtonElement>(null);\n    const mergedRef = useMergeRefs(__internalRootRef, containerRef);\n\n    const uploadButtonLabelId = useUniqueId('upload-button-label');\n    const formFieldContext = useFormFieldContext(restProps);\n    const selfControlId = useUniqueId('upload-input');\n    const controlId = formFieldContext.controlId ?? selfControlId;\n\n    useForwardFocus(ref, uploadInputRef);\n\n    const [isFocused, setIsFocused] = useState(false);\n    const onUploadButtonClick = () => uploadInputRef.current?.click();\n    const onUploadInputFocus = () => {\n      setIsFocused(true);\n    };\n    const onUploadInputBlur = () => setIsFocused(false);\n\n    const onUploadInputChange = ({ target }: ChangeEvent<HTMLInputElement>) => {\n      fireNonCancelableEvent(onChange, { value: target.files ? Array.from(target.files) : [] });\n    };\n\n    checkControlled('FileInput', 'value', value, 'onChange', onChange);\n\n    const nativeAttributes: React.HTMLAttributes<HTMLInputElement> = {\n      'aria-label': ariaLabel || children,\n      'aria-labelledby': joinStrings(formFieldContext.ariaLabelledby, uploadButtonLabelId),\n      'aria-describedby': formFieldContext.ariaDescribedby,\n      ...__inputNativeAttributes,\n    };\n    if (formFieldContext.invalid) {\n      nativeAttributes['aria-invalid'] = true;\n    }\n    if (ariaRequired) {\n      nativeAttributes['aria-required'] = true;\n    }\n\n    if (variant === 'icon' && !ariaLabel) {\n      warnOnce('FileInput', 'Aria label is required with icon variant.');\n    }\n\n    // Synchronizing component's value with the native file input state.\n    useEffect(() => {\n      /* istanbul ignore next: The DataTransfer is not available in jsdom. */\n      if (window.DataTransfer) {\n        const dataTransfer = new DataTransfer();\n        for (const file of value) {\n          dataTransfer.items.add(file);\n        }\n        uploadInputRef.current!.files = dataTransfer.files;\n      }\n      if (uploadInputRef.current) {\n        uploadInputRef.current.value = ''; // reset value to allow calling onChange when the same file is uploaded again\n      }\n    }, [value]);\n\n    const { tabIndex } = useSingleTabStopNavigation(uploadInputRef);\n\n    const analyticsLabel = variant === 'button' && children ? 'button' : 'input';\n    const componentAnalyticsMetadata: GeneratedAnalyticsMetadataFileInputComponent = {\n      name: 'awsui.FileInput',\n      label: analyticsLabel,\n    };\n\n    const analyticsMetadata: GeneratedAnalyticsMetadataFragment = { detail: { label: analyticsLabel } };\n    if (__injectAnalyticsComponentMetadata) {\n      analyticsMetadata.component = componentAnalyticsMetadata;\n    }\n\n    return (\n      <div\n        {...baseProps}\n        ref={mergedRef}\n        className={clsx(baseProps.className, styles.root)}\n        {...getAnalyticsMetadataAttribute(analyticsMetadata)}\n      >\n        {/* This is the actual interactive and accessible file-upload element. */}\n        {/* It is visually hidden to achieve the desired UX design. */}\n        <input\n          id={controlId}\n          ref={uploadInputRef}\n          type=\"file\"\n          hidden={false}\n          multiple={multiple}\n          accept={accept}\n          onChange={onUploadInputChange}\n          onFocus={onUploadInputFocus}\n          onBlur={onUploadInputBlur}\n          className={clsx(styles['file-input'], styles.hidden, __inputClassName)}\n          tabIndex={tabIndex}\n          {...nativeAttributes}\n        />\n\n        {/* The button is decorative. It dispatches clicks to the file input and is ARIA-hidden. */}\n        {/* When the input is focused the focus outline is forced on the button. */}\n        <InternalButton\n          iconName=\"upload\"\n          variant={variant === 'icon' ? 'icon' : undefined}\n          formAction=\"none\"\n          onClick={onUploadButtonClick}\n          className={clsx(styles['file-input-button'], {\n            [styles['force-focus-outline-button']]: isFocused && variant === 'button',\n            [styles['force-focus-outline-icon']]: isFocused && variant === 'icon',\n          })}\n          nativeButtonAttributes={{ tabIndex: -1, 'aria-hidden': true }}\n          __skipNativeAttributesWarnings={true}\n        >\n          {variant === 'button' && children}\n        </InternalButton>\n\n        {/* The file input needs to be labelled with provided content. Can't use the button because it is ARIA-hidden. */}\n        <ScreenreaderOnly id={uploadButtonLabelId}>{ariaLabel || children}</ScreenreaderOnly>\n      </div>\n    );\n  }\n);\n\nexport default InternalFileInput;\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1wp4s_1fn0v_185\",\n  \"file-input\": \"awsui_file-input_1wp4s_1fn0v_189\",\n  \"file-input-button\": \"awsui_file-input-button_1wp4s_1fn0v_204\",\n  \"force-focus-outline-icon\": \"awsui_force-focus-outline-icon_1wp4s_1fn0v_204\",\n  \"force-focus-outline-button\": \"awsui_force-focus-outline-button_1wp4s_1fn0v_225\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"button-group\": \"awsui_button-group_1v2mg_1s3dt_5\",\n  \"button-group-item\": \"awsui_button-group-item_1v2mg_1s3dt_9\",\n  \"button-group-tooltip\": \"awsui_button-group-tooltip_1v2mg_1s3dt_13\",\n  \"item\": \"awsui_item_1v2mg_1s3dt_17\",\n  \"tooltip\": \"awsui_tooltip_1v2mg_1s3dt_21\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef } from 'react';\nimport clsx from 'clsx';\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { ButtonProps } from '../button/interfaces.js';\nimport { InternalButton } from '../button/internal.js';\nimport { CancelableEventHandler, fireCancelableEvent } from '../internal/events/index.js';\nimport InternalLiveRegion from '../live-region/internal.js';\nimport Tooltip from '../tooltip/internal.js';\nimport { ButtonGroupProps, InternalIconButton } from './interfaces.js';\n\nimport testUtilStyles from './test-classes/styles.css.js';\n\ninterface IconButtonItemProps {\n  item: InternalIconButton;\n  showTooltip: boolean;\n  showFeedback: boolean;\n  onTooltipDismiss: () => void;\n  onItemClick?: CancelableEventHandler<ButtonGroupProps.ItemClickDetails>;\n}\n\nconst IconButtonItem = forwardRef(\n  (\n    { item, showTooltip, showFeedback, onTooltipDismiss, onItemClick }: IconButtonItemProps,\n    ref: React.Ref<ButtonProps.Ref>\n  ) => {\n    const containerRef = React.useRef<HTMLDivElement>(null);\n    const hasIcon = item.iconName || item.iconUrl || item.iconSvg;\n\n    if (!hasIcon) {\n      warnOnce('ButtonGroup', `Missing icon for item with id: ${item.id}`);\n    }\n\n    const canShowTooltip = Boolean(showTooltip && !item.disabled && !item.loading);\n    const canShowFeedback = Boolean(showTooltip && showFeedback && item.popoverFeedback);\n    return (\n      <div ref={containerRef}>\n        <InternalButton\n          variant=\"icon\"\n          loading={item.loading}\n          loadingText={item.loadingText}\n          disabled={item.disabled}\n          disabledReason={showFeedback ? undefined : item.disabledReason} // don't show disabled reason when popover feedback is shown\n          __focusable={canShowFeedback}\n          iconName={hasIcon ? item.iconName : 'close'}\n          iconUrl={item.iconUrl}\n          iconSvg={item.iconSvg}\n          iconAlt={item.text}\n          ariaLabel={item.text}\n          onClick={event => fireCancelableEvent(onItemClick, { id: item.id }, event)}\n          ref={ref}\n          data-testid={item.id}\n          data-itemid={item.id}\n          className={clsx(testUtilStyles.item, testUtilStyles['button-group-item'])}\n          analyticsAction={item.analyticsAction}\n          __title=\"\"\n        >\n          {item.text}\n        </InternalButton>\n        {(canShowTooltip || canShowFeedback) && (\n          <Tooltip\n            className={testUtilStyles['button-group-tooltip']}\n            getTrack={() => containerRef.current}\n            content={\n              (showFeedback && <InternalLiveRegion tagName=\"span\">{item.popoverFeedback}</InternalLiveRegion>) ||\n              item.text\n            }\n            onEscape={onTooltipDismiss}\n          />\n        )}\n      </div>\n    );\n  }\n);\n\nexport default IconButtonItem;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef } from 'react';\nimport clsx from 'clsx';\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { ButtonProps } from '../button/interfaces.js';\nimport { CancelableEventHandler, fireCancelableEvent } from '../internal/events/index.js';\nimport InternalLiveRegion from '../live-region/internal.js';\nimport { InternalToggleButton } from '../toggle-button/internal.js';\nimport Tooltip from '../tooltip/internal.js';\nimport { ButtonGroupProps, InternalIconToggleButton } from './interfaces.js';\n\nimport testUtilStyles from './test-classes/styles.css.js';\n\ninterface IconToggleButtonItemProps {\n  item: InternalIconToggleButton;\n  showTooltip: boolean;\n  showFeedback: boolean;\n  onTooltipDismiss: () => void;\n  onItemClick?: CancelableEventHandler<ButtonGroupProps.ItemClickDetails>;\n}\n\nconst IconToggleButtonItem = forwardRef(\n  (\n    { item, showTooltip, showFeedback, onTooltipDismiss, onItemClick }: IconToggleButtonItemProps,\n    ref: React.Ref<ButtonProps.Ref>\n  ) => {\n    const containerRef = React.useRef<HTMLDivElement>(null);\n    const hasIcon = item.iconName || item.iconUrl || item.iconSvg;\n    const hasPressedIcon = item.pressedIconName || item.pressedIconUrl || item.pressedIconSvg;\n\n    if (!hasIcon) {\n      warnOnce('ButtonGroup', `Missing icon for item with id: ${item.id}`);\n    }\n    if (!hasPressedIcon) {\n      warnOnce('ButtonGroup', `Missing pressed icon for item with id: ${item.id}`);\n    }\n\n    const feedbackContent = item.pressed ? (item.pressedPopoverFeedback ?? item.popoverFeedback) : item.popoverFeedback;\n    const canShowTooltip = showTooltip && !item.disabled && !item.loading;\n    const canShowFeedback = showTooltip && showFeedback && feedbackContent;\n    return (\n      <div ref={containerRef}>\n        <InternalToggleButton\n          variant=\"icon\"\n          pressed={item.pressed}\n          loading={item.loading}\n          loadingText={item.loadingText}\n          disabled={item.disabled}\n          disabledReason={showFeedback ? undefined : item.disabledReason} // don't show disabled reason when popover feedback is shown\n          iconName={hasIcon ? item.iconName : 'close'}\n          iconUrl={item.iconUrl}\n          iconSvg={item.iconSvg}\n          pressedIconName={hasIcon ? item.pressedIconName : 'close'}\n          pressedIconUrl={item.pressedIconUrl}\n          pressedIconSvg={item.pressedIconUrl}\n          ariaLabel={item.text}\n          onChange={event => fireCancelableEvent(onItemClick, { id: item.id, pressed: event.detail.pressed })}\n          ref={ref}\n          data-testid={item.id}\n          data-itemid={item.id}\n          className={clsx(testUtilStyles.item, testUtilStyles['button-group-item'])}\n          analyticsAction={item.analyticsAction}\n          __title=\"\"\n        >\n          {item.text}\n        </InternalToggleButton>\n        {(canShowTooltip || canShowFeedback) && (\n          <Tooltip\n            className={testUtilStyles['button-group-tooltip']}\n            getTrack={() => containerRef.current}\n            content={\n              (showFeedback && <InternalLiveRegion tagName=\"span\">{feedbackContent}</InternalLiveRegion>) || item.text\n            }\n            onEscape={onTooltipDismiss}\n          />\n        )}\n      </div>\n    );\n  }\n);\n\nexport default IconToggleButtonItem;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport InternalButton from '../button/internal';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { isDevelopment } from '../internal/is-development';\nimport { ToggleButtonProps } from './interfaces';\nimport { getToggleIcon } from './util';\n\nimport styles from './styles.css.js';\n\nexport const InternalToggleButton = React.forwardRef(\n  (\n    {\n      pressed,\n      iconName: defaultIconName,\n      pressedIconName,\n      iconSvg: defaultIconSvg,\n      pressedIconSvg,\n      iconUrl: defaultIconUrl,\n      pressedIconUrl,\n      variant,\n      nativeButtonAttributes,\n      onChange,\n      className,\n      analyticsAction = 'click',\n      ...rest\n    }: ToggleButtonProps & { __title?: string; analyticsAction?: string },\n    ref: React.Ref<ToggleButtonProps.Ref>\n  ) => {\n    if (isDevelopment) {\n      if (defaultIconName && !pressedIconName) {\n        warnOnce('ToggleButton', '`pressedIconName` must be provided for `pressed` state.');\n      }\n\n      if (defaultIconSvg && !pressedIconSvg) {\n        warnOnce('ToggleButton', '`pressedIconSvg` must be provided for `pressed` state.');\n      }\n\n      if (defaultIconUrl && !pressedIconUrl) {\n        warnOnce('ToggleButton', '`pressedIconUrl` must be provided for `pressed` state.');\n      }\n    }\n\n    return (\n      <InternalButton\n        className={clsx(className, styles[`variant-${variant}`], { [styles.pressed]: pressed })}\n        variant={variant}\n        formAction=\"none\"\n        iconName={getToggleIcon(pressed, defaultIconName, pressedIconName)}\n        iconUrl={getToggleIcon(pressed, defaultIconUrl, pressedIconUrl)}\n        iconSvg={getToggleIcon(pressed, defaultIconSvg, pressedIconSvg)}\n        aria-pressed={pressed}\n        onClick={event => {\n          event.preventDefault();\n\n          fireNonCancelableEvent(onChange, { pressed: !pressed });\n        }}\n        {...rest}\n        ref={ref}\n        nativeButtonAttributes={nativeButtonAttributes}\n        analyticsAction={analyticsAction}\n      />\n    );\n  }\n);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport function getToggleIcon<T>(pressed: boolean, defaultIcon?: T, pressedIcon?: T): T | undefined {\n  if (pressed) {\n    return pressedIcon ?? defaultIcon;\n  }\n\n  return defaultIcon;\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"variant-normal\": \"awsui_variant-normal_1a743_14khj_9\",\n  \"pressed\": \"awsui_pressed_1a743_14khj_9\",\n  \"variant-icon\": \"awsui_variant-icon_1a743_14khj_15\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport InternalButton from '../button/internal';\nimport { ButtonDropdownProps } from '../button-dropdown/interfaces';\nimport ButtonDropdown from '../button-dropdown/internal';\nimport { CancelableEventHandler, fireCancelableEvent } from '../internal/events';\nimport Tooltip from '../tooltip/internal.js';\nimport { ButtonGroupProps } from './interfaces';\n\nimport testUtilStyles from './test-classes/styles.css.js';\n\ninterface MenuDropdownItemProps {\n  item: ButtonGroupProps.MenuDropdown;\n  showTooltip: boolean;\n  onTooltipDismiss: () => void;\n  onItemClick?: CancelableEventHandler<ButtonGroupProps.ItemClickDetails>;\n  expandToViewport?: boolean;\n  position: string;\n}\n\nconst MenuDropdownItem = React.forwardRef(\n  (\n    { item, showTooltip, onItemClick, onTooltipDismiss, expandToViewport, position }: MenuDropdownItemProps,\n    ref: React.Ref<ButtonDropdownProps.Ref>\n  ) => {\n    const containerRef = React.useRef<HTMLDivElement>(null);\n    const onClickHandler = (event: CustomEvent<ButtonDropdownProps.ItemClickDetails>) => {\n      fireCancelableEvent(onItemClick, { id: event.detail.id, checked: event.detail.checked }, event);\n    };\n\n    return (\n      <ButtonDropdown\n        ref={ref}\n        variant=\"icon\"\n        items={item.items}\n        onItemClick={onClickHandler}\n        expandToViewport={expandToViewport}\n        ariaLabel={item.text}\n        className={testUtilStyles['button-group-item']}\n        position={position}\n        data-testid={item.id}\n        disabled={item.disabled}\n        customTriggerBuilder={({ onClick, isOpen, triggerRef, ariaLabel, ariaExpanded, testUtilsClass }) => (\n          <div ref={containerRef} {...(item.disabled ? {} : getAnalyticsMetadataAttribute({ detail: { position } }))}>\n            {!isOpen && showTooltip && !item.disabled && !item.loading && (\n              <Tooltip\n                className={testUtilStyles['button-group-tooltip']}\n                getTrack={() => containerRef.current}\n                content={item.text}\n                onEscape={onTooltipDismiss}\n              />\n            )}\n            <InternalButton\n              ref={triggerRef}\n              variant=\"icon\"\n              ariaLabel={ariaLabel}\n              data-itemid={item.id}\n              ariaExpanded={ariaExpanded}\n              className={clsx(testUtilStyles.item, testUtilsClass)}\n              iconName=\"ellipsis\"\n              loading={item.loading}\n              loadingText={item.loadingText}\n              disabled={item.disabled}\n              disabledReason={item.disabledReason}\n              onClick={onClick}\n              __title=\"\"\n            />\n          </div>\n        )}\n      />\n    );\n  }\n);\n\nexport default MenuDropdownItem;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { SYSTEM } from '../internal/environment';\nimport customCssProps from '../internal/generated/custom-css-properties';\nimport { ButtonGroupProps } from './interfaces';\n\nexport function getButtonGroupStyles(style: ButtonGroupProps['style']) {\n  if (SYSTEM !== 'core' || !style?.root) {\n    return undefined;\n  }\n\n  return {\n    borderRadius: style?.root?.borderRadius,\n    borderWidth: style?.root?.borderWidth,\n    borderStyle: style?.root?.borderWidth ? 'solid' : undefined,\n    boxShadow: style?.root?.boxShadow,\n    paddingBlock: style?.root?.paddingBlock,\n    paddingInline: style?.root?.paddingInline,\n    background: style?.root?.background,\n    borderColor: style?.root?.borderColor,\n    ...(style?.root?.focusRing && {\n      [customCssProps.styleFocusRingBorderColor]: style.root.focusRing?.borderColor,\n      [customCssProps.styleFocusRingBorderRadius]: style.root.focusRing?.borderRadius,\n      [customCssProps.styleFocusRingBorderWidth]: style.root.focusRing?.borderWidth,\n    }),\n  };\n}\n\nexport function getButtonGroupItemStyles(style: ButtonGroupProps['style']): React.CSSProperties | undefined {\n  if (SYSTEM !== 'core' || !style?.item) {\n    return undefined;\n  }\n\n  return {\n    ...(style?.item?.color && {\n      [customCssProps.styleColorActive]: style.item.color?.active,\n      [customCssProps.styleColorDefault]: style.item.color?.default,\n      [customCssProps.styleColorDisabled]: style.item.color?.disabled,\n      [customCssProps.styleColorHover]: style.item.color?.hover,\n    }),\n    ...(style?.item?.boxShadow && {\n      [customCssProps.styleBoxShadowActive]: style.item.boxShadow?.active,\n      [customCssProps.styleBoxShadowDefault]: style.item.boxShadow?.default,\n      [customCssProps.styleBoxShadowDisabled]: style.item.boxShadow?.disabled,\n      [customCssProps.styleBoxShadowHover]: style.item.boxShadow?.hover,\n    }),\n    ...(style?.item?.focusRing && {\n      [customCssProps.styleFocusRingBorderColor]: style.item.focusRing?.borderColor,\n      [customCssProps.styleFocusRingBorderRadius]: style.item.focusRing?.borderRadius,\n      [customCssProps.styleFocusRingBorderWidth]: style.item.focusRing?.borderWidth,\n    }),\n  };\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_vdkpj_18dsz_181\",\n  \"item-wrapper\": \"awsui_item-wrapper_vdkpj_18dsz_217\",\n  \"group\": \"awsui_group_vdkpj_18dsz_221\",\n  \"divider\": \"awsui_divider_vdkpj_18dsz_225\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport { Transition } from 'react-transition-group';\nimport clsx from 'clsx';\n\nimport { InternalItemOrGroup } from '../../../button-group/interfaces';\nimport ButtonGroup from '../../../button-group/internal';\nimport PanelResizeHandle from '../../../internal/components/panel-resize-handle';\nimport customCssProps from '../../../internal/generated/custom-css-properties';\nimport { usePrevious } from '../../../internal/hooks/use-previous';\nimport { getLimitedValue } from '../../../split-panel/utils/size-utils';\nimport { Focusable } from '../../utils/use-focus-control';\nimport { getDrawerStyles } from '../compute-layout';\nimport { AppLayoutWidgetizedState, InternalDrawer } from '../interfaces';\nimport { useResize } from './use-resize';\n\nimport sharedStyles from '../../resize/styles.css.js';\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\nexport function AppLayoutBottomDrawerWrapper({ widgetizedState }: { widgetizedState: AppLayoutWidgetizedState }) {\n  const { activeGlobalBottomDrawerId, bottomDrawers } = widgetizedState;\n  const openBottomDrawersHistory = useRef<Set<string>>(new Set());\n  useEffect(() => {\n    if (activeGlobalBottomDrawerId) {\n      openBottomDrawersHistory.current.add(activeGlobalBottomDrawerId);\n    }\n  }, [activeGlobalBottomDrawerId]);\n\n  return (\n    <>\n      {bottomDrawers.map(drawer => {\n        return (\n          <AppLayoutGlobalBottomDrawerImplementation\n            key={drawer.id}\n            activeDrawer={\n              activeGlobalBottomDrawerId === drawer.id ||\n              (drawer.preserveInactiveContent && openBottomDrawersHistory.current.has(drawer.id))\n                ? drawer\n                : undefined\n            }\n            show={activeGlobalBottomDrawerId === drawer.id}\n            widgetizedState={widgetizedState}\n          />\n        );\n      })}\n    </>\n  );\n}\n\ninterface AppLayoutGlobalDrawerImplementationProps {\n  widgetizedState: AppLayoutWidgetizedState;\n  show: boolean;\n  activeDrawer: InternalDrawer | undefined;\n}\n\nconst GAP_HEIGHT = 10;\nconst RESIZE_HANDLER_HEIGHT = 18;\n\nfunction AppLayoutGlobalBottomDrawerImplementation({\n  widgetizedState,\n  show,\n  activeDrawer,\n}: AppLayoutGlobalDrawerImplementationProps) {\n  const {\n    ariaLabels,\n    isMobile,\n    onActiveGlobalBottomDrawerChange,\n    onActiveBottomDrawerResize,\n    minGlobalBottomDrawerSize,\n    activeGlobalBottomDrawerSize,\n    drawersOpenQueue,\n    expandedDrawerId,\n    setExpandedDrawerId,\n    activeAiDrawer,\n    bottomDrawersFocusControl,\n    getMaxGlobalBottomDrawerHeight,\n    reportBottomDrawerSize,\n    verticalOffsets,\n    placement,\n  } = widgetizedState;\n  const drawerRef = useRef<HTMLDivElement>(null);\n  const headerRef = useRef<HTMLHeadingElement>(null);\n  const activeDrawerId = activeDrawer?.id ?? '';\n\n  const computedAriaLabels = {\n    closeButton: activeDrawer ? activeDrawer.ariaLabels?.closeButton : ariaLabels?.toolsClose,\n    content: activeDrawer ? activeDrawer.ariaLabels?.drawerName : ariaLabels?.tools,\n  };\n\n  const { drawerTopOffset: mobileDrawerTopOffset, drawerHeight: drawerFullScreenHeight } = getDrawerStyles(\n    verticalOffsets,\n    isMobile,\n    placement\n  );\n  const activeDrawerSize = activeGlobalBottomDrawerSize ?? 0;\n  const minDrawerSize = minGlobalBottomDrawerSize ?? 0;\n  const maxDrawerSize = getMaxGlobalBottomDrawerHeight();\n  const refs = bottomDrawersFocusControl.refs;\n  const resizeProps = useResize({\n    currentWidth: activeDrawerSize,\n    minWidth: minDrawerSize,\n    maxWidth: maxDrawerSize,\n    panelRef: drawerRef,\n    handleRef: refs?.slider,\n    onResize: size => onActiveBottomDrawerResize({ id: activeDrawerId!, size }),\n    position: 'bottom',\n  });\n  const size = getLimitedValue(minDrawerSize, activeDrawerSize, maxDrawerSize);\n  const lastOpenedDrawerId = drawersOpenQueue.length ? drawersOpenQueue[0] : null;\n  const hasTriggerButton = !!activeDrawer?.trigger;\n  const isExpanded = activeDrawer?.isExpandable && expandedDrawerId === activeDrawerId;\n  const wasExpanded = usePrevious(isExpanded);\n  const animationDisabled =\n    (activeDrawer?.defaultActive && !drawersOpenQueue.includes(activeDrawer.id)) || (wasExpanded && !isExpanded);\n\n  // Prevent main content scroll when bottom drawer opens with animations\n  useEffect(() => {\n    if (show && drawerRef.current) {\n      const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n      const abortController = new AbortController();\n\n      // Temporarily prevent scrolling during animation\n      const preventScroll = () => {\n        document.documentElement.scrollTop = scrollTop;\n        document.body.scrollTop = scrollTop;\n      };\n\n      // Handle transition end to remove scroll prevention\n      const handleTransitionEnd = (event: TransitionEvent) => {\n        // Only handle transitions on the drawer element itself\n        if (event.target === drawerRef.current) {\n          abortController.abort();\n        }\n      };\n\n      // Add scroll prevention during animation\n      document.addEventListener('scroll', preventScroll, {\n        passive: false,\n        signal: abortController.signal,\n      });\n\n      drawerRef.current.addEventListener('transitionend', handleTransitionEnd, {\n        signal: abortController.signal,\n      });\n\n      return () => {\n        abortController.abort();\n      };\n    }\n  }, [show]);\n\n  let drawerActions: ReadonlyArray<InternalItemOrGroup> = [\n    {\n      type: 'icon-button',\n      id: 'close',\n      iconName: isMobile ? 'close' : 'angle-down',\n      text: computedAriaLabels.closeButton ?? '',\n      analyticsAction: 'close',\n    },\n  ];\n  if (!isMobile && activeDrawer?.isExpandable) {\n    drawerActions = [\n      {\n        type: 'icon-toggle-button',\n        id: 'expand',\n        iconName: isExpanded ? 'shrink' : 'expand',\n        text: activeDrawer?.ariaLabels?.expandedModeButton ?? '',\n        pressed: !!isExpanded,\n        analyticsAction: isExpanded ? 'expand' : 'collapse',\n      },\n      ...drawerActions,\n    ];\n  }\n  if (activeDrawer?.headerActions) {\n    drawerActions = [\n      {\n        type: 'group',\n        text: 'Actions',\n        items: activeDrawer.headerActions!,\n      },\n      ...drawerActions,\n    ];\n  }\n\n  useEffect(() => {\n    reportBottomDrawerSize(size);\n  }, [reportBottomDrawerSize, size]);\n\n  return (\n    <Transition\n      nodeRef={drawerRef}\n      in={show || isExpanded}\n      appear={show || isExpanded}\n      mountOnEnter={true}\n      timeout={250}\n    >\n      {state => {\n        return (\n          <aside\n            id={activeDrawerId}\n            aria-hidden={!show}\n            aria-label={computedAriaLabels.content}\n            className={clsx(\n              styles.drawer,\n              styles['bottom-drawer'],\n              styles[state],\n              !animationDisabled && sharedStyles['with-motion-vertical'],\n              !animationDisabled && isExpanded && styles['with-expanded-motion'],\n              {\n                [styles['drawer-hidden']]: !show && state === 'exited',\n                [styles['last-opened']]: (!activeAiDrawer && lastOpenedDrawerId === activeDrawerId) || isExpanded,\n                [testutilStyles['active-drawer']]: show,\n                [styles['drawer-expanded']]: isExpanded,\n              }\n            )}\n            ref={drawerRef}\n            onBlur={e => {\n              // Drawers with trigger buttons follow this restore focus logic:\n              // If a previously focused element exists, restore focus on it; otherwise, focus on the associated trigger button.\n              // This function resets the previously focused element.\n              // If the drawer has no trigger button and loses focus on the previously focused element, it defaults to document.body,\n              // which ideally should never happen.\n              if (!hasTriggerButton) {\n                return;\n              }\n\n              if (!e.relatedTarget || !e.currentTarget.contains(e.relatedTarget)) {\n                bottomDrawersFocusControl.loseFocus();\n              }\n            }}\n            style={{\n              ...(isMobile && {\n                blockSize: drawerFullScreenHeight,\n                insetBlockStart: mobileDrawerTopOffset,\n              }),\n              ...(!isMobile && {\n                [customCssProps.bottomDrawerSize]: `${['entering', 'entered'].includes(state) ? (isExpanded ? drawerFullScreenHeight : size + 'px') : 0}`,\n              }),\n            }}\n            data-testid={`awsui-app-layout-drawer-${activeDrawerId}`}\n          >\n            <div className={clsx(styles['global-drawer-wrapper'])}>\n              {!isMobile && !isExpanded && <div className={styles['drawer-gap']} />}\n              {!isMobile && activeDrawer?.resizable && !isExpanded && (\n                // Prevents receiving focus in Firefox\n                <div className={styles['drawer-slider']} tabIndex={-1}>\n                  <PanelResizeHandle\n                    ref={refs?.slider}\n                    position=\"bottom\"\n                    className={testutilStyles['drawers-slider']}\n                    ariaLabel={activeDrawer?.ariaLabels?.resizeHandle}\n                    tooltipText={activeDrawer?.ariaLabels?.resizeHandleTooltipText}\n                    ariaValuenow={resizeProps.relativeSize}\n                    onKeyDown={resizeProps.onKeyDown}\n                    onDirectionClick={resizeProps.onDirectionClick}\n                    onPointerDown={resizeProps.onPointerDown}\n                  />\n                </div>\n              )}\n              <header className={styles['bottom-drawer-content-header']} ref={headerRef}>\n                <div className={styles['bottom-drawer-content-header-content']}>\n                  {activeDrawer?.header ?? <div />}\n                  <div className={styles['bottom-drawer-actions']}>\n                    <ButtonGroup\n                      dropdownExpandToViewport={false}\n                      variant=\"icon\"\n                      onItemClick={event => {\n                        switch (event.detail.id) {\n                          case 'close':\n                            onActiveGlobalBottomDrawerChange(null, { initiatedByUserAction: true });\n                            break;\n                          case 'expand':\n                            setExpandedDrawerId(isExpanded ? null : activeDrawerId);\n                            break;\n                          default:\n                            activeDrawer?.onHeaderActionClick?.(event);\n                        }\n                      }}\n                      ariaLabel=\"Global panel actions\"\n                      items={drawerActions}\n                      __internalRootRef={(root: HTMLElement) => {\n                        if (!root) {\n                          return;\n                        }\n                        refs.close = {\n                          current: root.querySelector('[data-itemid=\"close\"]') as unknown as Focusable,\n                        };\n                      }}\n                    />\n                  </div>\n                </div>\n              </header>\n              <div\n                className={clsx(styles['drawer-content-container'], sharedStyles['with-motion-horizontal'])}\n                data-testid={`awsui-app-layout-drawer-content-${activeDrawerId}`}\n              >\n                <div\n                  className={styles['drawer-content']}\n                  style={{\n                    blockSize:\n                      isMobile || isExpanded\n                        ? drawerFullScreenHeight\n                        : `${size - GAP_HEIGHT - RESIZE_HANDLER_HEIGHT - (headerRef?.current?.clientHeight ?? 0)}px`,\n                  }}\n                >\n                  {activeDrawer?.content}\n                </div>\n              </div>\n            </div>\n          </aside>\n        );\n      }}\n    </Transition>\n  );\n}\n\nexport default AppLayoutGlobalBottomDrawerImplementation;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { SplitPanelProvider, SplitPanelProviderProps } from '../../split-panel';\nimport { getDrawerStyles } from '../compute-layout';\nimport { AppLayoutInternals } from '../interfaces';\n\nimport styles from './styles.css.js';\n\ninterface AppLayoutSplitPanelDrawerSideImplementationProps {\n  appLayoutInternals: AppLayoutInternals;\n  splitPanelInternals: SplitPanelProviderProps;\n  bottomDrawerReportedSize?: number;\n  children: React.ReactNode;\n}\n\nexport function AppLayoutSplitPanelDrawerSideImplementation({\n  children,\n  appLayoutInternals,\n  splitPanelInternals,\n  bottomDrawerReportedSize,\n}: AppLayoutSplitPanelDrawerSideImplementationProps) {\n  const { splitPanelControlId, placement, verticalOffsets, isMobile, splitPanelAnimationDisabled } = appLayoutInternals;\n  const { drawerTopOffset, drawerHeight } = getDrawerStyles(\n    verticalOffsets,\n    isMobile,\n    placement,\n    isMobile ? 0 : (bottomDrawerReportedSize ?? 0)\n  );\n\n  return (\n    <SplitPanelProvider {...splitPanelInternals} animationDisabled={splitPanelAnimationDisabled}>\n      <section\n        id={splitPanelControlId}\n        className={styles['split-panel-side']}\n        style={{\n          blockSize: drawerHeight,\n          insetBlockStart: drawerTopOffset,\n        }}\n      >\n        {children}\n      </section>\n    </SplitPanelProvider>\n  );\n}\n\ninterface AppLayoutSplitPanelDrawerBottomImplementationProps {\n  appLayoutInternals: AppLayoutInternals;\n  splitPanelInternals: SplitPanelProviderProps;\n  children: React.ReactNode;\n}\n\nexport function AppLayoutSplitPanelDrawerBottomImplementation({\n  children,\n  splitPanelInternals,\n  appLayoutInternals,\n}: AppLayoutSplitPanelDrawerBottomImplementationProps) {\n  const { splitPanelControlId, splitPanelAnimationDisabled } = appLayoutInternals;\n  return (\n    <SplitPanelProvider {...splitPanelInternals} animationDisabled={splitPanelAnimationDisabled}>\n      <section id={splitPanelControlId}>{children}</section>\n    </SplitPanelProvider>\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"split-panel-side\": \"awsui_split-panel-side_j4v3w_1dcwh_145\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AppLayoutPendingState, AppLayoutState } from '../interfaces';\n\nexport function isWidgetReady(state: AppLayoutPendingState): state is AppLayoutState {\n  return !!state.widgetizedState;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { createWidgetizedComponent } from '../../../internal/widgets';\nimport { ActiveDrawersContext } from '../../utils/visibility-context';\nimport { AppLayoutGlobalAiDrawerImplementation } from '../drawer/global-ai-drawer';\nimport { AppLayoutNavigationImplementation as AppLayoutNavigation } from '../navigation';\nimport { SkeletonPartProps } from '../skeleton/interfaces';\nimport { BeforeMainSlotSkeleton } from '../skeleton/skeleton-parts';\nimport { isWidgetReady } from '../state/invariants';\nimport { AppLayoutToolbarImplementation as AppLayoutToolbar } from '../toolbar';\n\nimport sharedStyles from '../../resize/styles.css.js';\nimport styles from '../skeleton/styles.css.js';\n\nexport const BeforeMainSlotImplementation = ({ toolbarProps, appLayoutState, appLayoutProps }: SkeletonPartProps) => {\n  const wasAiDrawerOpenRef = useRef(false);\n  if (!isWidgetReady(appLayoutState)) {\n    return (\n      <BeforeMainSlotSkeleton\n        toolbarProps={toolbarProps}\n        appLayoutProps={appLayoutProps}\n        appLayoutState={appLayoutState}\n      />\n    );\n  }\n  const {\n    activeDrawer,\n    navigationOpen,\n    navigation,\n    expandedDrawerId,\n    setExpandedDrawerId,\n    navigationAnimationDisabled,\n    activeAiDrawerId,\n    aiDrawerExpandedMode,\n    aiDrawer,\n    activeAiDrawerSize,\n    minAiDrawerSize,\n    maxAiDrawerSize,\n    onActiveAiDrawerResize,\n    aiDrawerFocusControl,\n    ariaLabels,\n    isMobile,\n    drawersOpenQueue,\n    onActiveAiDrawerChange,\n    activeAiDrawer,\n    bottomDrawerReportedSize,\n  } = appLayoutState.widgetizedState;\n  const drawerExpandedMode = !!expandedDrawerId;\n  const toolsOpen = !!activeDrawer;\n  // Must use `toolbarProps` because all layouts have to apply this mode, not just the one with toolbar\n  const drawerExpandedModeInChildLayout = !!toolbarProps?.expandedDrawerId;\n  const { __embeddedViewMode: embeddedViewMode } = appLayoutProps as any;\n  return (\n    <>\n      {!!toolbarProps && !embeddedViewMode && !aiDrawerExpandedMode && (\n        <AppLayoutToolbar appLayoutInternals={appLayoutState.appLayoutInternals} toolbarProps={toolbarProps} />\n      )}\n      {aiDrawer && (\n        <div\n          className={clsx(\n            styles['ai-drawer'],\n            (drawerExpandedMode || drawerExpandedModeInChildLayout) && !aiDrawerExpandedMode && styles.hidden\n          )}\n        >\n          <ActiveDrawersContext.Provider value={activeAiDrawer ? [activeAiDrawer.id] : []}>\n            {(!!activeAiDrawerId || (aiDrawer?.preserveInactiveContent && wasAiDrawerOpenRef.current)) && (\n              <>\n                {(wasAiDrawerOpenRef.current = true)}\n                <AppLayoutGlobalAiDrawerImplementation\n                  show={!!activeAiDrawerId}\n                  activeAiDrawer={aiDrawer ?? null}\n                  appLayoutInternals={appLayoutState.appLayoutInternals}\n                  aiDrawerProps={{\n                    activeAiDrawerSize: activeAiDrawerSize!,\n                    minAiDrawerSize: minAiDrawerSize!,\n                    maxAiDrawerSize: maxAiDrawerSize!,\n                    aiDrawer: aiDrawer!,\n                    ariaLabels,\n                    aiDrawerFocusControl,\n                    isMobile,\n                    drawersOpenQueue,\n                    onActiveAiDrawerChange,\n                    onActiveDrawerResize: ({ size }) => onActiveAiDrawerResize(size),\n                    expandedDrawerId,\n                    setExpandedDrawerId,\n                  }}\n                />\n              </>\n            )}\n          </ActiveDrawersContext.Provider>\n        </div>\n      )}\n      {navigation && (\n        <div\n          className={clsx(\n            styles.navigation,\n            !navigationOpen && styles['panel-hidden'],\n            toolsOpen && styles['unfocusable-mobile'],\n            !navigationAnimationDisabled && sharedStyles['with-motion-horizontal'],\n            (drawerExpandedMode || drawerExpandedModeInChildLayout) && styles.hidden\n          )}\n        >\n          <AppLayoutNavigation\n            appLayoutInternals={appLayoutState.appLayoutInternals}\n            bottomDrawerReportedSize={bottomDrawerReportedSize}\n          />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport const createWidgetizedAppLayoutBeforeMainSlot = createWidgetizedComponent(\n  BeforeMainSlotImplementation,\n  BeforeMainSlotSkeleton\n);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport { Transition } from 'react-transition-group';\nimport clsx from 'clsx';\n\nimport { InternalItemOrGroup } from '../../../button-group/interfaces';\nimport ButtonGroup from '../../../button-group/internal';\nimport PanelResizeHandle from '../../../internal/components/panel-resize-handle';\nimport customCssProps from '../../../internal/generated/custom-css-properties';\nimport { usePrevious } from '../../../internal/hooks/use-previous';\nimport { getLimitedValue } from '../../../split-panel/utils/size-utils';\nimport { AppLayoutProps } from '../../interfaces';\nimport { FocusControlState } from '../../utils/use-focus-control';\nimport { AppLayoutInternals, InternalDrawer } from '../interfaces';\nimport { OnChangeParams } from '../state/use-ai-drawer';\nimport { useResize } from './use-resize';\n\nimport sharedStyles from '../../resize/styles.css.js';\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\ninterface AIDrawerProps {\n  activeAiDrawerSize: number;\n  minAiDrawerSize: number;\n  aiDrawer: AppLayoutProps.Drawer | undefined;\n  maxAiDrawerSize: number;\n  ariaLabels: any;\n  aiDrawerFocusControl: FocusControlState | undefined;\n  isMobile: boolean;\n  drawersOpenQueue: ReadonlyArray<string> | undefined;\n  onActiveAiDrawerChange: undefined | ((newDrawerId: string | null, params?: OnChangeParams) => void);\n  onActiveDrawerResize: (detail: { id: string; size: number }) => void;\n  expandedDrawerId?: string | null;\n  setExpandedDrawerId: (value: string | null) => void;\n}\n\ninterface AppLayoutGlobalAiDrawerImplementationProps {\n  appLayoutInternals: AppLayoutInternals;\n  show: boolean;\n  activeAiDrawer:\n    | (InternalDrawer & {\n        exitExpandedModeTrigger?: {\n          customIcon?: React.ReactNode;\n        };\n      })\n    | null;\n  aiDrawerProps: AIDrawerProps;\n}\n\nexport function AppLayoutGlobalAiDrawerImplementation({\n  appLayoutInternals,\n  show,\n  activeAiDrawer,\n  aiDrawerProps,\n}: AppLayoutGlobalAiDrawerImplementationProps) {\n  const {\n    activeAiDrawerSize,\n    minAiDrawerSize,\n    maxAiDrawerSize,\n    ariaLabels,\n    aiDrawerFocusControl,\n    isMobile,\n    drawersOpenQueue,\n    onActiveAiDrawerChange,\n    onActiveDrawerResize,\n    expandedDrawerId,\n    setExpandedDrawerId,\n  } = aiDrawerProps;\n  const { verticalOffsets, placement } = appLayoutInternals;\n  const drawerRef = useRef<HTMLDivElement>(null);\n  const activeDrawerId = activeAiDrawer?.id;\n\n  const computedAriaLabels = {\n    closeButton: activeAiDrawer ? activeAiDrawer.ariaLabels?.closeButton : ariaLabels?.toolsClose,\n    content: activeAiDrawer ? activeAiDrawer.ariaLabels?.drawerName : ariaLabels?.tools,\n  };\n\n  const resizeProps = useResize({\n    currentWidth: activeAiDrawerSize,\n    minWidth: minAiDrawerSize,\n    maxWidth: maxAiDrawerSize,\n    panelRef: drawerRef,\n    handleRef: aiDrawerFocusControl!.refs.slider,\n    onResize: size => {\n      onActiveDrawerResize({ id: activeDrawerId!, size });\n    },\n    position: 'side-start',\n  });\n  const size = getLimitedValue(minAiDrawerSize, activeAiDrawerSize, maxAiDrawerSize);\n  const isExpanded = activeAiDrawer?.isExpandable && expandedDrawerId === activeDrawerId;\n  const wasExpanded = usePrevious(isExpanded);\n  const animationDisabled =\n    (activeAiDrawer?.defaultActive && !drawersOpenQueue?.includes(activeAiDrawer.id)) || (wasExpanded && !isExpanded);\n  const drawerHeight = `calc(100vh - ${verticalOffsets.toolbar + placement.insetBlockEnd}px)`;\n  // disable resizing when the drawer is at its minimum width in a \"squeezed\" state\n  // (window is between mobile and desktop sizes). At this point, the drawer can't be\n  // resized in either direction, so we disable the resize handler\n  const isResizingDisabled = maxAiDrawerSize < activeAiDrawerSize;\n  let drawerActions: ReadonlyArray<InternalItemOrGroup> = [\n    {\n      type: 'icon-button',\n      id: 'close',\n      iconName: isMobile ? 'close' : 'angle-left',\n      text: computedAriaLabels.closeButton,\n      analyticsAction: 'close',\n    },\n  ];\n  if (!isMobile && activeAiDrawer?.isExpandable) {\n    drawerActions = [\n      {\n        type: 'icon-button',\n        id: 'expand',\n        iconName: isExpanded ? 'shrink' : 'expand',\n        text: activeAiDrawer?.ariaLabels?.expandedModeButton ?? '',\n        analyticsAction: isExpanded ? 'expand' : 'collapse',\n      },\n      ...drawerActions,\n    ];\n  }\n  if (activeAiDrawer?.headerActions) {\n    drawerActions = [\n      {\n        type: 'group',\n        text: 'Actions',\n        items: activeAiDrawer.headerActions!,\n      },\n      ...drawerActions,\n    ];\n  }\n\n  return (\n    <Transition nodeRef={drawerRef} in={show} appear={show} mountOnEnter={true} timeout={250}>\n      {drawerTransitionState => {\n        return (\n          <Transition nodeRef={drawerRef} in={isExpanded} timeout={250}>\n            {expandedTransitionState => {\n              return (\n                <aside\n                  id={activeAiDrawer?.id}\n                  aria-hidden={!activeAiDrawer}\n                  aria-label={computedAriaLabels.content}\n                  className={clsx(\n                    styles.drawer,\n                    styles['ai-drawer'],\n                    !animationDisabled && isExpanded && styles['with-expanded-motion'],\n                    {\n                      [sharedStyles['with-motion-horizontal']]: !animationDisabled,\n                      [testutilStyles['active-drawer']]: show,\n                      [styles['drawer-hidden']]: !show && drawerTransitionState === 'exited',\n                      [testutilStyles['drawer-closed']]: !activeAiDrawer,\n                      [styles['drawer-expanded']]: isExpanded,\n                    }\n                  )}\n                  ref={drawerRef}\n                  onBlur={e => {\n                    if (!e.relatedTarget || !e.currentTarget.contains(e.relatedTarget)) {\n                      aiDrawerFocusControl?.loseFocus();\n                    }\n                  }}\n                  style={{\n                    blockSize: drawerHeight,\n                    insetBlockStart: `${placement.insetBlockStart}px`,\n                    ...(!isMobile && {\n                      [customCssProps.drawerMinSize]: `${size}px`,\n                      [customCssProps.drawerSize]: `${['entering', 'entered'].includes(drawerTransitionState) ? size : 0}px`,\n                    }),\n                  }}\n                  data-testid={activeDrawerId && `awsui-app-layout-drawer-${activeDrawerId}`}\n                >\n                  {!isMobile && activeAiDrawer?.resizable && (!isExpanded || expandedTransitionState !== 'entered') && (\n                    <div className={styles['drawer-slider']}>\n                      <PanelResizeHandle\n                        ref={aiDrawerFocusControl?.refs.slider}\n                        position=\"side-start\"\n                        className={clsx(testutilStyles['drawers-slider'], styles['ai-drawer-slider-handle'])}\n                        ariaLabel={activeAiDrawer?.ariaLabels?.resizeHandle}\n                        tooltipText={activeAiDrawer?.ariaLabels?.resizeHandleTooltipText}\n                        ariaValuenow={resizeProps.relativeSize}\n                        onKeyDown={resizeProps.onKeyDown}\n                        onPointerDown={resizeProps.onPointerDown}\n                        onDirectionClick={resizeProps.onDirectionClick}\n                        disabled={isResizingDisabled}\n                      />\n                    </div>\n                  )}\n                  <div className={clsx(styles['drawer-content-container'], sharedStyles['with-motion-horizontal'])}>\n                    <div className={styles['drawer-content']}>\n                      <header className={styles['drawer-content-header']}>\n                        <div className={styles['drawer-content-header-content']}>\n                          {activeAiDrawer?.header ?? <div />}\n                          <div className={styles['drawer-actions']}>\n                            <ButtonGroup\n                              dropdownExpandToViewport={false}\n                              variant=\"icon\"\n                              onItemClick={event => {\n                                switch (event.detail.id) {\n                                  case 'close':\n                                    onActiveAiDrawerChange?.(null, { initiatedByUserAction: true });\n                                    break;\n                                  case 'expand':\n                                    setExpandedDrawerId(isExpanded ? null : activeDrawerId!);\n                                    break;\n                                  default:\n                                    activeAiDrawer?.onHeaderActionClick?.(event);\n                                }\n                              }}\n                              ariaLabel=\"Left panel actions\"\n                              items={drawerActions}\n                            />\n                          </div>\n                        </div>\n                        {!isMobile && isExpanded && activeAiDrawer?.ariaLabels?.exitExpandedModeButton && (\n                          <div className={styles['drawer-back-to-console-slot']}>\n                            <div className={styles['drawer-back-to-console-button-wrapper']}>\n                              {activeAiDrawer?.exitExpandedModeTrigger?.customIcon ? (\n                                <button\n                                  className={clsx(\n                                    testutilStyles['active-ai-drawer-leave-expanded-mode-custom-button'],\n                                    styles['drawer-back-to-console-custom-button']\n                                  )}\n                                  formAction=\"none\"\n                                  onClick={() => setExpandedDrawerId(null)}\n                                  aria-label={activeAiDrawer?.ariaLabels?.exitExpandedModeButton}\n                                >\n                                  {activeAiDrawer?.exitExpandedModeTrigger?.customIcon}\n                                </button>\n                              ) : (\n                                <button\n                                  className={clsx(\n                                    testutilStyles['active-ai-drawer-leave-expanded-mode-custom-button'],\n                                    styles['drawer-back-to-console-button']\n                                  )}\n                                  formAction=\"none\"\n                                  onClick={() => setExpandedDrawerId(null)}\n                                  aria-label={activeAiDrawer?.ariaLabels?.exitExpandedModeButton}\n                                >\n                                  {activeAiDrawer?.ariaLabels?.exitExpandedModeButton}\n                                </button>\n                              )}\n                            </div>\n                          </div>\n                        )}\n                      </header>\n                      <div className={styles['drawer-content-content']}>{activeAiDrawer?.content}</div>\n                    </div>\n                  </div>\n                </aside>\n              );\n            }}\n          </Transition>\n        );\n      }}\n    </Transition>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { findUpUntil } from '@cloudscape-design/component-toolkit/dom';\n\nimport { InternalButton } from '../../../button/internal';\nimport { getDrawerStyles } from '../compute-layout';\nimport { AppLayoutInternals } from '../interfaces';\n\nimport sharedStyles from '../../resize/styles.css.js';\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\ninterface AppLayoutNavigationImplementationProps {\n  appLayoutInternals: AppLayoutInternals;\n  bottomDrawerReportedSize?: number;\n}\n\nexport function AppLayoutNavigationImplementation({\n  appLayoutInternals,\n  bottomDrawerReportedSize,\n}: AppLayoutNavigationImplementationProps) {\n  const {\n    ariaLabels,\n    onNavigationToggle,\n    isMobile,\n    navigationOpen,\n    navigation,\n    navigationFocusControl,\n    placement,\n    verticalOffsets,\n  } = appLayoutInternals;\n\n  const { drawerTopOffset, drawerHeight } = getDrawerStyles(\n    verticalOffsets,\n    isMobile,\n    placement,\n    isMobile ? 0 : (bottomDrawerReportedSize ?? 0)\n  );\n\n  // Close the Navigation drawer on mobile when a user clicks a link inside.\n  const onNavigationClick = (event: React.MouseEvent) => {\n    const hasLink = findUpUntil(\n      event.target as HTMLElement,\n      node => node.tagName === 'A' && !!(node as HTMLAnchorElement).href\n    );\n    if (hasLink && isMobile) {\n      onNavigationToggle(false);\n    }\n  };\n\n  return (\n    <div\n      className={clsx(styles['navigation-container'], sharedStyles['with-motion-horizontal'], {\n        [styles['is-navigation-open']]: navigationOpen,\n      })}\n      style={{\n        blockSize: drawerHeight,\n        insetBlockStart: drawerTopOffset,\n      }}\n    >\n      <nav\n        aria-label={ariaLabels?.navigation ?? undefined}\n        className={clsx(\n          styles.navigation,\n          {\n            [testutilStyles['drawer-closed']]: !navigationOpen,\n          },\n          testutilStyles.navigation\n        )}\n        aria-hidden={!navigationOpen}\n        onClick={onNavigationClick}\n      >\n        <div className={clsx(styles['hide-navigation'])}>\n          <InternalButton\n            ariaLabel={ariaLabels?.navigationClose ?? undefined}\n            iconName={isMobile ? 'close' : 'angle-left'}\n            onClick={() => onNavigationToggle(false)}\n            variant=\"icon\"\n            formAction=\"none\"\n            className={testutilStyles['navigation-close']}\n            ref={navigationFocusControl.refs.close}\n            analyticsAction=\"close\"\n          />\n        </div>\n        {navigation}\n      </nav>\n    </div>\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"navigation-container\": \"awsui_navigation-container_2p2ab_ejbbu_153\",\n  \"is-navigation-open\": \"awsui_is-navigation-open_2p2ab_ejbbu_164\",\n  \"navigation\": \"awsui_navigation_2p2ab_ejbbu_153\",\n  \"hide-navigation\": \"awsui_hide-navigation_2p2ab_ejbbu_184\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { AppLayoutNotificationsImplementationProps } from '../notifications';\nimport { AppLayoutToolbarImplementationProps } from '../toolbar';\nimport { SkeletonPartProps } from './interfaces';\nimport { NotificationsSlot } from './slots';\nimport { ToolbarSkeletonStructure } from './toolbar-container';\n\nimport styles from './styles.css.js';\n\n/**\n * New widgetized parts\n */\n\nexport const BeforeMainSlotSkeleton = React.forwardRef<HTMLElement, SkeletonPartProps>(\n  ({ toolbarProps, appLayoutProps }, ref) => {\n    return (\n      <>\n        {!!toolbarProps && <ToolbarSkeletonStructure ref={ref} ownBreadcrumbs={appLayoutProps.breadcrumbs} />}\n        {toolbarProps?.navigationOpen && <div className={styles.navigation} />}\n      </>\n    );\n  }\n);\n\n/**\n * Legacy parts\n */\n\nexport const ToolbarSkeleton = React.forwardRef<HTMLElement, AppLayoutToolbarImplementationProps>(\n  ({ appLayoutInternals }: AppLayoutToolbarImplementationProps, ref) => (\n    <ToolbarSkeletonStructure\n      ref={ref}\n      ownBreadcrumbs={appLayoutInternals.breadcrumbs}\n      discoveredBreadcrumbs={appLayoutInternals.discoveredBreadcrumbs}\n    />\n  )\n);\n\nexport const NotificationsSkeleton = React.forwardRef<HTMLElement, AppLayoutNotificationsImplementationProps>(\n  (props: AppLayoutNotificationsImplementationProps, ref) => <NotificationsSlot ref={ref} />\n);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { BreadcrumbGroupImplementation } from '../../../breadcrumb-group/implementation';\nimport { BreadcrumbGroupProps } from '../../../breadcrumb-group/interfaces';\nimport { BreadcrumbsSlotContext } from '../contexts';\n\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport toolbarStyles from '../toolbar/styles.css.js';\nimport styles from './styles.css.js';\n\ninterface ToolbarSlotProps {\n  className?: string;\n  style?: React.CSSProperties;\n  children?: React.ReactNode;\n}\n\nexport const ToolbarSlot = React.forwardRef<HTMLElement, ToolbarSlotProps>(({ className, style, children }, ref) => (\n  <section\n    ref={ref as React.Ref<any>}\n    className={clsx(styles['toolbar-container'], toolbarStyles['universal-toolbar'], testutilStyles.toolbar, className)}\n    style={{\n      insetBlockStart: style?.insetBlockStart ?? 0,\n      ...style,\n    }}\n  >\n    {children}\n  </section>\n));\n\ninterface NotificationsSlotProps {\n  className?: string;\n  style?: React.CSSProperties;\n  children?: React.ReactNode;\n}\n\nexport const NotificationsSlot = React.forwardRef<HTMLElement, NotificationsSlotProps>(\n  ({ className, style, children }, ref) => (\n    <div ref={ref as React.Ref<any>} className={clsx(styles['notifications-container'], className)} style={style}>\n      {children}\n    </div>\n  )\n);\n\ninterface BreadcrumbsSlotProps {\n  ownBreadcrumbs: React.ReactNode;\n  discoveredBreadcrumbs?: BreadcrumbGroupProps | null;\n}\n\nconst breadcrumbsSlotContextValue = { isInToolbar: true };\n\nexport function BreadcrumbsSlot({ ownBreadcrumbs, discoveredBreadcrumbs }: BreadcrumbsSlotProps) {\n  const isSSR = typeof window === 'undefined';\n\n  return (\n    <BreadcrumbsSlotContext.Provider value={breadcrumbsSlotContextValue}>\n      <div className={styles['breadcrumbs-own']}>{ownBreadcrumbs}</div>\n      {discoveredBreadcrumbs && !isSSR && (\n        <div className={styles['breadcrumbs-discovered']}>\n          <BreadcrumbGroupImplementation\n            {...discoveredBreadcrumbs}\n            data-awsui-discovered-breadcrumbs={true}\n            __injectAnalyticsComponentMetadata={true}\n          />\n        </div>\n      )}\n    </BreadcrumbsSlotContext.Provider>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport { getLogicalBoundingClientRect, useMergeRefs } from '@cloudscape-design/component-toolkit/internal';\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport { InternalButton } from '../button/internal';\nimport { CustomTriggerProps, LinkItem } from '../button-dropdown/interfaces';\nimport InternalButtonDropdown from '../button-dropdown/internal';\nimport { useInternalI18n } from '../i18n/context';\nimport InternalIcon from '../icon/internal';\nimport { getBaseProps } from '../internal/base-component';\nimport { fireCancelableEvent } from '../internal/events';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\nimport { createWidgetizedComponent } from '../internal/widgets';\nimport { AllItemsDropdown } from './all-items-dropdown';\nimport {\n  GeneratedAnalyticsMetadataBreadcrumbGroupClick,\n  GeneratedAnalyticsMetadataBreadcrumbGroupComponent,\n} from './analytics-metadata/interfaces';\nimport { BreadcrumbGroupProps, EllipsisDropdownProps, InternalBreadcrumbGroupProps } from './interfaces';\nimport { BreadcrumbItem } from './item/item';\nimport { BreadcrumbGroupSkeleton } from './skeleton';\nimport { getEventDetail, getItemsDisplayProperties } from './utils';\n\nimport analyticsSelectors from './analytics-metadata/styles.css.js';\nimport styles from './styles.css.js';\n\n/**\n * Provided for backwards compatibility\n */\nconst DEFAULT_EXPAND_ARIA_LABEL = 'Show path';\n\nconst getEllipsisDropdownTrigger = ({ ariaLabel, triggerRef, testUtilsClass, isOpen, onClick }: CustomTriggerProps) => {\n  return (\n    <InternalButton\n      ref={triggerRef}\n      className={testUtilsClass}\n      onClick={event => {\n        event.preventDefault();\n        onClick();\n      }}\n      ariaExpanded={isOpen}\n      aria-haspopup={true}\n      ariaLabel={ariaLabel}\n      variant=\"breadcrumb-group\"\n      formAction=\"none\"\n    >\n      ...\n    </InternalButton>\n  );\n};\n\nconst EllipsisDropdown = ({\n  ariaLabel,\n  dropdownItems,\n  onDropdownItemClick,\n  onDropdownItemFollow,\n  visible,\n}: EllipsisDropdownProps) => {\n  const i18n = useInternalI18n('breadcrumb-group');\n\n  return (\n    <li className={clsx(styles.ellipsis, visible && styles.visible)}>\n      <InternalButtonDropdown\n        ariaLabel={i18n('expandAriaLabel', ariaLabel) ?? DEFAULT_EXPAND_ARIA_LABEL}\n        items={dropdownItems}\n        onItemClick={onDropdownItemClick}\n        onItemFollow={onDropdownItemFollow}\n        customTriggerBuilder={getEllipsisDropdownTrigger}\n        linkStyle={true}\n        analyticsMetadataTransformer={metadata => {\n          if (metadata.detail?.id) {\n            delete metadata.detail.id;\n          }\n          if (metadata.detail?.position) {\n            metadata.detail.position = `${parseInt(metadata.detail.position as string, 10) + 1}`;\n          }\n          return metadata;\n        }}\n      />\n      <span className={styles.icon}>\n        <InternalIcon name=\"angle-right\" />\n      </span>\n    </li>\n  );\n};\n\ninterface ItemsRefsType {\n  ghost: Record<string, HTMLLIElement>;\n  real: Record<string, HTMLLIElement>;\n}\n\ninterface ItemsWidthsType {\n  ghost: Array<number>;\n  real: Array<number>;\n}\n\nconst areArrayEqual = (first: Array<number>, second: Array<number>) => {\n  if (first.length !== second.length) {\n    return false;\n  }\n  return first.every((item, index) => item === second[index]);\n};\n\nexport function BreadcrumbGroupImplementation<T extends BreadcrumbGroupProps.Item = BreadcrumbGroupProps.Item>({\n  items = [],\n  ariaLabel,\n  expandAriaLabel,\n  onClick,\n  onFollow,\n  __internalRootRef,\n  __injectAnalyticsComponentMetadata,\n  ...props\n}: InternalBreadcrumbGroupProps<T>) {\n  for (const item of items) {\n    checkSafeUrl('BreadcrumbGroup', item.href);\n  }\n  const baseProps = getBaseProps(props);\n  const [navWidth, navRef] = useContainerQuery<number>(rect => rect.borderBoxWidth);\n  const mergedRef = useMergeRefs(navRef, __internalRootRef);\n\n  const itemsRefs = useRef<ItemsRefsType>({ ghost: {}, real: {} });\n  const setBreadcrumb = (type: keyof ItemsRefsType, index: string, node: null | HTMLLIElement) => {\n    if (node) {\n      itemsRefs.current[type][index] = node;\n    } else {\n      delete itemsRefs.current[type][index];\n    }\n  };\n\n  const [itemsWidths, setItemsWidths] = useState<ItemsWidthsType>({ ghost: [], real: [] });\n\n  useEffect(() => {\n    if (itemsRefs.current) {\n      const newItemsWidths: ItemsWidthsType = { ghost: [], real: [] };\n      for (const node of Object.values(itemsRefs.current.ghost)) {\n        const width = getLogicalBoundingClientRect(node).inlineSize;\n        newItemsWidths.ghost.push(width);\n      }\n      for (const node of Object.values(itemsRefs.current.real)) {\n        const width = getLogicalBoundingClientRect(node).inlineSize;\n        newItemsWidths.real.push(width);\n      }\n      setItemsWidths(oldWidths => {\n        if (\n          !areArrayEqual(newItemsWidths.ghost, oldWidths.ghost) ||\n          !areArrayEqual(newItemsWidths.real, oldWidths.real)\n        ) {\n          return newItemsWidths;\n        } else {\n          return oldWidths;\n        }\n      });\n    }\n  }, [items, navWidth]);\n\n  const { collapsed } = getItemsDisplayProperties(itemsWidths.ghost, navWidth);\n\n  let breadcrumbItems = items.map((item, index) => {\n    const isLast = index === items.length - 1;\n    const isDisplayed = index === 0 || index > collapsed;\n\n    const clickAnalyticsMetadata: GeneratedAnalyticsMetadataBreadcrumbGroupClick = {\n      action: 'click',\n      detail: {\n        position: `${index + 1}`,\n        label: `.${analyticsSelectors['breadcrumb-item']}`,\n        href: item.href || '',\n      },\n    };\n    return (\n      <li\n        className={clsx(styles.item, !isDisplayed && styles.hide)}\n        key={index}\n        {...(isLast ? {} : getAnalyticsMetadataAttribute(clickAnalyticsMetadata))}\n        ref={node => setBreadcrumb('real', `${index}`, node)}\n      >\n        <BreadcrumbItem\n          item={item}\n          onClick={onClick}\n          onFollow={onFollow}\n          itemIndex={index}\n          totalCount={items.length}\n          isTruncated={itemsWidths.ghost[index] - itemsWidths.real[index] > 0}\n        />\n      </li>\n    );\n  });\n\n  const hiddenBreadcrumbItems = items.map((item, index) => (\n    <li className={styles['ghost-item']} key={index} ref={node => setBreadcrumb('ghost', `${index}`, node)}>\n      <BreadcrumbItem item={item} itemIndex={index} totalCount={items.length} isGhost={true} />\n    </li>\n  ));\n\n  const getEventItem = (e: CustomEvent<{ id: string }>) => {\n    const { id } = e.detail;\n    return items[parseInt(id)];\n  };\n\n  // Add ellipsis\n  if (breadcrumbItems.length >= 2) {\n    const dropdownItems: Array<LinkItem> = items\n      .slice(1, 1 + collapsed)\n      .map((item: BreadcrumbGroupProps.Item, index: number) => ({\n        id: (index + 1).toString(), // the first item doesn't get inside dropdown\n        text: item.text,\n        href: item.href || '#',\n      }));\n\n    breadcrumbItems = [\n      breadcrumbItems[0],\n      <EllipsisDropdown\n        key={'ellipsis'}\n        visible={collapsed > 0}\n        ariaLabel={expandAriaLabel}\n        dropdownItems={dropdownItems}\n        onDropdownItemClick={e => fireCancelableEvent(onClick, getEventDetail(getEventItem(e)), e)}\n        onDropdownItemFollow={e => fireCancelableEvent(onFollow, getEventDetail(getEventItem(e)), e)}\n      />,\n      ...breadcrumbItems.slice(1),\n    ];\n  }\n\n  const componentAnalyticsMetadata: GeneratedAnalyticsMetadataBreadcrumbGroupComponent = {\n    name: 'awsui.BreadcrumbGroup',\n    label: { root: 'self' },\n  };\n\n  return (\n    <nav\n      {...baseProps}\n      className={clsx(styles['breadcrumb-group'], baseProps.className)}\n      aria-label={ariaLabel || undefined}\n      ref={mergedRef}\n      {...(__injectAnalyticsComponentMetadata\n        ? {\n            ...getAnalyticsMetadataAttribute({\n              component: componentAnalyticsMetadata,\n            }),\n          }\n        : {})}\n    >\n      {collapsed > 0 && collapsed === items.length - 1 ? (\n        <AllItemsDropdown\n          items={items}\n          onItemClick={e =>\n            e.detail.id !== (items.length - 1).toString() &&\n            fireCancelableEvent(onClick, getEventDetail(getEventItem(e)), e)\n          }\n          onItemFollow={e =>\n            e.detail.id !== (items.length - 1).toString() &&\n            fireCancelableEvent(onFollow, getEventDetail(getEventItem(e)), e)\n          }\n        />\n      ) : (\n        <ol className={styles['breadcrumb-group-list']}>{breadcrumbItems}</ol>\n      )}\n      <ol className={clsx(styles['breadcrumb-group-list'], styles.ghost)} aria-hidden={true} tabIndex={-1}>\n        {hiddenBreadcrumbItems}\n      </ol>\n    </nav>\n  );\n}\n\nexport const createWidgetizedBreadcrumbGroup = createWidgetizedComponent(\n  BreadcrumbGroupImplementation,\n  BreadcrumbGroupSkeleton\n);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { Ref } from 'react';\nimport clsx from 'clsx';\n\nimport { CustomTriggerProps } from '../button-dropdown/interfaces';\nimport InternalButtonDropdown from '../button-dropdown/internal';\nimport InternalIcon from '../icon/internal';\nimport { DATA_ATTR_FUNNEL_KEY, DATA_ATTR_RESOURCE_TYPE, FUNNEL_KEY_FUNNEL_NAME } from '../internal/analytics/selectors';\nimport { CancelableEventHandler } from '../internal/events';\nimport { spinWhenOpen } from '../internal/styles/motion/utils';\nimport { BreadcrumbGroupProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\ninterface FullCollapsedDropdownProps {\n  items: ReadonlyArray<BreadcrumbGroupProps.Item>;\n  onItemClick: CancelableEventHandler<{ id: string }>;\n  onItemFollow: CancelableEventHandler<{ id: string }>;\n}\n\nconst metadataTypeAttribute = {\n  [DATA_ATTR_RESOURCE_TYPE]: 'true',\n};\n\nexport const AllItemsDropdown = ({ items, onItemClick, onItemFollow }: FullCollapsedDropdownProps) => (\n  <>\n    <InternalButtonDropdown\n      items={items.map((item, index) => {\n        const isCurrentBreadcrumb = index === items.length - 1;\n        return {\n          id: index.toString(),\n          text: item.text,\n          href: isCurrentBreadcrumb ? undefined : item.href,\n          isCurrentBreadcrumb,\n        };\n      })}\n      customTriggerBuilder={getDropdownTrigger(items[items.length - 1]?.text)}\n      linkStyle={true}\n      fullWidth={true}\n      onItemClick={onItemClick}\n      onItemFollow={onItemFollow}\n      analyticsMetadataTransformer={metadata => {\n        if (metadata.detail?.id) {\n          delete metadata.detail.id;\n        }\n        if (metadata.detail?.position) {\n          metadata.detail.position = `${parseInt(metadata.detail.position as string, 10) + 1}`;\n        }\n        return metadata;\n      }}\n    />\n    {/* Second breadcrumb item is tagged as \"resource type\" */}\n    {items.length > 1 && (\n      <span className={styles.hidden} {...metadataTypeAttribute}>\n        {items[1].text}\n      </span>\n    )}\n  </>\n);\nconst getDropdownTrigger =\n  (currentPage: string) =>\n  ({ ariaLabel, triggerRef, testUtilsClass, isOpen, onClick }: CustomTriggerProps) => {\n    const metadataAttributes = {\n      [DATA_ATTR_FUNNEL_KEY]: FUNNEL_KEY_FUNNEL_NAME,\n    };\n    return (\n      <button\n        ref={triggerRef as Ref<HTMLButtonElement>}\n        {...metadataAttributes}\n        className={clsx(styles['collapsed-button'], testUtilsClass)}\n        onClick={event => {\n          event.preventDefault();\n          onClick();\n        }}\n        aria-expanded={isOpen}\n        aria-haspopup={true}\n        aria-label={ariaLabel}\n        formAction=\"none\"\n      >\n        <InternalIcon name=\"caret-down-filled\" className={spinWhenOpen(styles, 'button-icon', isOpen)} />\n        <span>{currentPage}</span>\n      </button>\n    );\n  };\n", "\n    import './styles.scoped.css';\n    export default {\n  \"breadcrumb-group\": \"awsui_breadcrumb-group_d19fg_1h5ta_145\",\n  \"breadcrumb-group-list\": \"awsui_breadcrumb-group-list_d19fg_1h5ta_180\",\n  \"ghost\": \"awsui_ghost_d19fg_1h5ta_191\",\n  \"item\": \"awsui_item_d19fg_1h5ta_196\",\n  \"ghost-item\": \"awsui_ghost-item_d19fg_1h5ta_197\",\n  \"ellipsis\": \"awsui_ellipsis_d19fg_1h5ta_198\",\n  \"hide\": \"awsui_hide_d19fg_1h5ta_209\",\n  \"visible\": \"awsui_visible_d19fg_1h5ta_215\",\n  \"icon\": \"awsui_icon_d19fg_1h5ta_219\",\n  \"breadcrumbs-skeleton\": \"awsui_breadcrumbs-skeleton_d19fg_1h5ta_225\",\n  \"collapsed-button\": \"awsui_collapsed-button_d19fg_1h5ta_229\",\n  \"button-icon\": \"awsui_button-icon_d19fg_1h5ta_311\",\n  \"button-icon-open\": \"awsui_button-icon-open_d19fg_1h5ta_325\",\n  \"hidden\": \"awsui_hidden_d19fg_1h5ta_329\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport InternalIcon from '../../icon/internal';\nimport { fireCancelableEvent, isPlainLeftClick } from '../../internal/events';\nimport Tooltip from '../../tooltip/internal.js';\nimport { BreadcrumbGroupProps, BreadcrumbItemProps } from '../interfaces';\nimport { getEventDetail } from '../utils';\nimport { FunnelBreadcrumbItem } from './funnel';\n\nimport styles from './styles.css.js';\n\ninterface BreadcrumbItemWithPopoverProps<T extends BreadcrumbGroupProps.Item> {\n  item: T;\n  isLast: boolean;\n  anchorAttributes: React.AnchorHTMLAttributes<HTMLAnchorElement>;\n  children: React.ReactNode;\n  itemAttributes: React.HTMLAttributes<HTMLElement>;\n}\n\nconst BreadcrumbItemWithPopover = <T extends BreadcrumbGroupProps.Item>({\n  item,\n  isLast,\n  anchorAttributes,\n  itemAttributes,\n  children,\n}: BreadcrumbItemWithPopoverProps<T>) => {\n  const [showTooltip, setShowTooltip] = useState(false);\n  const textRef = useRef<HTMLElement | null>(null);\n\n  return (\n    <Item\n      ref={textRef}\n      isLast={isLast}\n      onFocus={() => {\n        setShowTooltip(true);\n      }}\n      onBlur={() => setShowTooltip(false)}\n      onMouseEnter={() => {\n        setShowTooltip(true);\n      }}\n      onMouseLeave={() => setShowTooltip(false)}\n      anchorAttributes={anchorAttributes}\n      {...itemAttributes}\n    >\n      {children}\n      {showTooltip && (\n        <Tooltip getTrack={() => textRef.current} content={item.text} onEscape={() => setShowTooltip(false)} />\n      )}\n    </Item>\n  );\n};\n\ntype ItemProps = React.HTMLAttributes<HTMLElement> & {\n  anchorAttributes: React.AnchorHTMLAttributes<HTMLAnchorElement>;\n  isLast: boolean;\n};\nconst Item = React.forwardRef<HTMLElement, ItemProps>(\n  ({ anchorAttributes, children, isLast, ...itemAttributes }, ref) => {\n    return isLast ? (\n      <span ref={ref} className={styles.anchor} {...itemAttributes}>\n        {children}\n      </span>\n    ) : (\n      <a ref={ref as React.Ref<HTMLAnchorElement>} className={styles.anchor} {...itemAttributes} {...anchorAttributes}>\n        {children}\n      </a>\n    );\n  }\n);\n\nexport function BreadcrumbItem<T extends BreadcrumbGroupProps.Item>({\n  item,\n  itemIndex,\n  totalCount,\n  onClick,\n  onFollow,\n  isGhost = false,\n  isTruncated = false,\n}: BreadcrumbItemProps<T>) {\n  const isLast = itemIndex === totalCount - 1;\n  const preventDefault = (event: React.MouseEvent) => event.preventDefault();\n  const onClickHandler = (event: React.MouseEvent) => {\n    if (isPlainLeftClick(event)) {\n      fireCancelableEvent(onFollow, getEventDetail(item), event);\n    }\n    fireCancelableEvent(onClick, getEventDetail(item), event);\n  };\n\n  const anchorAttributes: React.AnchorHTMLAttributes<HTMLAnchorElement> = {\n    href: item.href || '#',\n    onClick: isLast ? preventDefault : onClickHandler,\n    tabIndex: 0,\n  };\n\n  const itemAttributes: React.AnchorHTMLAttributes<HTMLAnchorElement> = {};\n  if (isGhost) {\n    anchorAttributes.tabIndex = -1;\n  }\n\n  if (isLast && !isGhost) {\n    itemAttributes['aria-current'] = 'page';\n    itemAttributes['aria-disabled'] = true;\n    itemAttributes.tabIndex = 0;\n    itemAttributes.role = 'link';\n  }\n\n  const breadcrumbItem = (\n    <FunnelBreadcrumbItem\n      className={styles.text}\n      itemIndex={itemIndex}\n      totalCount={totalCount}\n      text={item.text}\n      disableAnalytics={isGhost}\n    />\n  );\n\n  return (\n    <div className={clsx(!isGhost && styles.breadcrumb, isGhost && styles['ghost-breadcrumb'], isLast && styles.last)}>\n      {isTruncated && !isGhost ? (\n        <BreadcrumbItemWithPopover\n          item={item}\n          isLast={isLast}\n          anchorAttributes={anchorAttributes}\n          itemAttributes={itemAttributes}\n        >\n          {breadcrumbItem}\n        </BreadcrumbItemWithPopover>\n      ) : (\n        <Item isLast={isLast} anchorAttributes={anchorAttributes} {...itemAttributes}>\n          {breadcrumbItem}\n        </Item>\n      )}\n      {!isLast ? (\n        <span className={styles.icon}>\n          <InternalIcon name=\"angle-right\" />\n        </span>\n      ) : null}\n    </div>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { BreadcrumbGroupProps } from './interfaces';\n\nexport const getEventDetail = <T extends BreadcrumbGroupProps.Item>(item: T) => ({\n  item,\n  text: item.text,\n  href: item.href,\n});\n\nconst MIN_BREADCRUMB_WIDTH = 70;\nconst ELLIPSIS_WIDTH = 50;\n\nexport const getItemsDisplayProperties = (itemsWidths: Array<number>, navWidth: number | null) => {\n  const widthsWithFinalCollapsed = [...itemsWidths];\n  widthsWithFinalCollapsed[itemsWidths.length - 1] = Math.min(\n    itemsWidths[itemsWidths.length - 1],\n    MIN_BREADCRUMB_WIDTH\n  );\n\n  return {\n    collapsed: computeNumberOfCollapsedItems(widthsWithFinalCollapsed, navWidth),\n  };\n};\n\nconst computeNumberOfCollapsedItems = (itemWidths: Array<number>, navWidth: number | null): number => {\n  if (typeof navWidth !== 'number') {\n    return 0;\n  }\n  let usedWidth = itemWidths.reduce((acc, width) => acc + width, 0);\n  let collapsedItems = 0;\n  while (collapsedItems < itemWidths.length - 1) {\n    if (usedWidth <= navWidth) {\n      break;\n    }\n    collapsedItems += 1;\n    usedWidth = usedWidth - itemWidths[collapsedItems];\n    if (collapsedItems === 1) {\n      usedWidth += ELLIPSIS_WIDTH;\n    }\n  }\n  return collapsedItems;\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport {\n  DATA_ATTR_FUNNEL_KEY,\n  DATA_ATTR_RESOURCE_TYPE,\n  FUNNEL_KEY_FUNNEL_NAME,\n} from '../../internal/analytics/selectors';\n\nimport analyticsSelectors from '../analytics-metadata/styles.css.js';\n\ninterface FunnelBreadcrumbItemProps {\n  className?: string;\n  text: string;\n  itemIndex: number;\n  totalCount: number;\n  disableAnalytics?: boolean;\n}\n\nexport const FunnelBreadcrumbItem = React.forwardRef<HTMLSpanElement, FunnelBreadcrumbItemProps>(\n  ({ className, text, itemIndex, totalCount, disableAnalytics }, ref) => {\n    const funnelAttributes: Record<string, string> = {};\n    if (!disableAnalytics) {\n      if (itemIndex === totalCount - 1) {\n        funnelAttributes[DATA_ATTR_FUNNEL_KEY] = FUNNEL_KEY_FUNNEL_NAME;\n      }\n      if (itemIndex === 1) {\n        funnelAttributes[DATA_ATTR_RESOURCE_TYPE] = 'true';\n      }\n    }\n\n    return (\n      <span\n        {...funnelAttributes}\n        className={clsx(className, !disableAnalytics && analyticsSelectors['breadcrumb-item'])}\n        ref={ref}\n      >\n        {text}\n      </span>\n    );\n  }\n);\n", "\n    import './styles.scoped.css';\n    export default {\n  \"breadcrumb-item\": \"awsui_breadcrumb-item_1c68o_b6unx_5\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"link\": \"awsui_link_1kosq_a4her_145\",\n  \"breadcrumb\": \"awsui_breadcrumb_1kosq_a4her_149\",\n  \"ghost-breadcrumb\": \"awsui_ghost-breadcrumb_1kosq_a4her_150\",\n  \"icon\": \"awsui_icon_1kosq_a4her_153\",\n  \"anchor\": \"awsui_anchor_1kosq_a4her_159\",\n  \"text\": \"awsui_text_1kosq_a4her_206\",\n  \"last\": \"awsui_last_1kosq_a4her_225\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { InternalBreadcrumbGroupProps } from './interfaces';\nimport { FunnelBreadcrumbItem } from './item/funnel';\n\nimport styles from './styles.css.js';\n\nexport const BreadcrumbGroupSkeleton = React.forwardRef<HTMLElement, InternalBreadcrumbGroupProps>(({ items }, ref) => (\n  <div ref={ref as React.Ref<HTMLDivElement>} className={styles['breadcrumbs-skeleton']}>\n    {items.map((item, index) => (\n      <FunnelBreadcrumbItem itemIndex={index} totalCount={items.length} text={item.text} key={index} />\n    ))}\n  </div>\n));\n", "\n    import './styles.scoped.css';\n    export default {\n  \"universal-toolbar\": \"awsui_universal-toolbar_1kzri_iuh1s_153\",\n  \"with-ai-drawer\": \"awsui_with-ai-drawer_1kzri_iuh1s_172\",\n  \"universal-toolbar-ai-custom\": \"awsui_universal-toolbar-ai-custom_1kzri_iuh1s_172\",\n  \"disable-body-scroll\": \"awsui_disable-body-scroll_1kzri_iuh1s_214\",\n  \"toolbar-container\": \"awsui_toolbar-container_1kzri_iuh1s_267\",\n  \"universal-toolbar-nav\": \"awsui_universal-toolbar-nav_1kzri_iuh1s_287\",\n  \"universal-toolbar-breadcrumbs\": \"awsui_universal-toolbar-breadcrumbs_1kzri_iuh1s_292\",\n  \"universal-toolbar-drawers\": \"awsui_universal-toolbar-drawers_1kzri_iuh1s_301\",\n  \"drawers-desktop-triggers-container\": \"awsui_drawers-desktop-triggers-container_1kzri_iuh1s_309\",\n  \"drawers-mobile-triggers-container\": \"awsui_drawers-mobile-triggers-container_1kzri_iuh1s_310\",\n  \"drawers-trigger-content\": \"awsui_drawers-trigger-content_1kzri_iuh1s_352\",\n  \"group-divider\": \"awsui_group-divider_1kzri_iuh1s_362\",\n  \"drawers-trigger\": \"awsui_drawers-trigger_1kzri_iuh1s_352\",\n  \"block-body-scroll\": \"awsui_block-body-scroll_1kzri_iuh1s_375\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { BreadcrumbGroupProps } from '../../../breadcrumb-group/interfaces';\nimport { BreadcrumbsSlot, ToolbarSlot } from './slots';\n\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport toolbarStyles from '../toolbar/styles.css.js';\n\ninterface ToolbarContainerProps {\n  children: React.ReactNode;\n  hasAiDrawer?: boolean;\n}\n\nexport function ToolbarContainer({ children, hasAiDrawer }: ToolbarContainerProps) {\n  return (\n    <div className={clsx(toolbarStyles['toolbar-container'], hasAiDrawer && toolbarStyles['with-ai-drawer'])}>\n      {children}\n    </div>\n  );\n}\n\ninterface ToolbarBreadcrumbsSectionProps {\n  ownBreadcrumbs: React.ReactNode;\n  discoveredBreadcrumbs?: BreadcrumbGroupProps | null;\n  includeTestUtils?: boolean;\n}\n\nexport function ToolbarBreadcrumbsSection({\n  ownBreadcrumbs,\n  discoveredBreadcrumbs,\n  includeTestUtils = false,\n}: ToolbarBreadcrumbsSectionProps) {\n  return (\n    <div\n      className={clsx(toolbarStyles['universal-toolbar-breadcrumbs'], includeTestUtils && testutilStyles.breadcrumbs)}\n    >\n      <BreadcrumbsSlot ownBreadcrumbs={ownBreadcrumbs} discoveredBreadcrumbs={discoveredBreadcrumbs} />\n    </div>\n  );\n}\n\ninterface ToolbarSkeletonStructureProps {\n  ownBreadcrumbs: React.ReactNode;\n  discoveredBreadcrumbs?: BreadcrumbGroupProps | null;\n}\n\nexport const ToolbarSkeletonStructure = React.forwardRef<HTMLElement, ToolbarSkeletonStructureProps>(\n  ({ ownBreadcrumbs, discoveredBreadcrumbs }, ref) => (\n    <ToolbarSlot ref={ref}>\n      <ToolbarContainer>\n        <ToolbarBreadcrumbsSection\n          ownBreadcrumbs={ownBreadcrumbs}\n          discoveredBreadcrumbs={discoveredBreadcrumbs}\n          includeTestUtils={true}\n        />\n        <div className={toolbarStyles['universal-toolbar-drawers']} />\n      </ToolbarContainer>\n    </ToolbarSlot>\n  )\n);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport { Transition } from 'react-transition-group';\nimport clsx from 'clsx';\n\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\n\nimport { createWidgetizedComponent } from '../../../internal/widgets';\nimport { AppLayoutProps } from '../../interfaces';\nimport { OnChangeParams } from '../../utils/use-drawers';\nimport { Focusable, FocusControlMultipleStates } from '../../utils/use-focus-control';\nimport { AppLayoutInternals } from '../interfaces';\nimport { ToolbarSkeleton } from '../skeleton/skeleton-parts';\nimport { ToolbarSlot } from '../skeleton/slots';\nimport { ToolbarBreadcrumbsSection, ToolbarContainer } from '../skeleton/toolbar-container';\nimport { DrawerTriggers, SplitPanelToggleProps } from './drawer-triggers';\nimport TriggerButton from './trigger-button';\n\nimport sharedStyles from '../../resize/styles.css.js';\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\nexport { SplitPanelToggleProps };\n\nexport interface ToolbarProps {\n  ariaLabels?: AppLayoutProps.Labels;\n  // navigation\n  hasNavigation?: boolean;\n  navigationOpen?: boolean;\n  onNavigationToggle?: (open: boolean) => void;\n  navigationFocusRef?: React.Ref<Focusable>;\n\n  // breadcrumbs\n  hasBreadcrumbsPortal?: boolean;\n\n  // split panel\n  hasSplitPanel?: boolean;\n  splitPanelToggleProps?: SplitPanelToggleProps;\n  splitPanelFocusRef?: React.Ref<Focusable>;\n  onSplitPanelToggle?: () => void;\n\n  // drawers\n  activeDrawerId?: string | null;\n  drawers?: ReadonlyArray<AppLayoutProps.Drawer>;\n  drawersFocusRef?: React.Ref<Focusable>;\n  bottomDrawersFocusRef?: React.Ref<Focusable>;\n  globalDrawersFocusControl?: FocusControlMultipleStates;\n  onActiveDrawerChange?: (drawerId: string | null, params: OnChangeParams) => void;\n  globalDrawers?: ReadonlyArray<AppLayoutProps.Drawer> | undefined;\n  activeGlobalDrawersIds?: ReadonlyArray<string>;\n  onActiveGlobalDrawersChange?: ((drawerId: string, params: OnChangeParams) => void) | undefined;\n  bottomDrawers?: ReadonlyArray<AppLayoutProps.Drawer> | undefined;\n  activeGlobalBottomDrawerId?: string | null;\n  onActiveGlobalBottomDrawerChange?: (value: string | null, params: OnChangeParams) => void;\n\n  expandedDrawerId?: string | null;\n  setExpandedDrawerId?: (value: string | null) => void;\n\n  aiDrawer?: AppLayoutProps.Drawer;\n  onActiveAiDrawerChange?: (value: string | null) => void;\n  activeAiDrawerId?: string | null;\n  aiDrawerFocusRef?: React.Ref<Focusable>;\n}\n\nexport interface AppLayoutToolbarImplementationProps {\n  appLayoutInternals: AppLayoutInternals;\n  toolbarProps: ToolbarProps;\n}\n\nexport function AppLayoutToolbarImplementation({\n  appLayoutInternals,\n  // the value could be undefined if this component is loaded as a widget by a different app layout version\n  // not testable in a single-version setup\n  toolbarProps = {},\n}: AppLayoutToolbarImplementationProps) {\n  const {\n    breadcrumbs,\n    discoveredBreadcrumbs,\n    verticalOffsets,\n    isMobile,\n    setToolbarHeight,\n    aiDrawer,\n    activeAiDrawer,\n    onActiveAiDrawerChange,\n  } = appLayoutInternals;\n  const {\n    ariaLabels,\n    activeDrawerId,\n    drawers,\n    drawersFocusRef,\n    onActiveDrawerChange,\n    globalDrawersFocusControl,\n    globalDrawers,\n    activeGlobalDrawersIds,\n    onActiveGlobalDrawersChange,\n    hasNavigation,\n    navigationOpen,\n    navigationFocusRef,\n    onNavigationToggle,\n    hasSplitPanel,\n    splitPanelFocusRef,\n    splitPanelToggleProps,\n    onSplitPanelToggle,\n    expandedDrawerId,\n    setExpandedDrawerId,\n    aiDrawerFocusRef,\n    onActiveGlobalBottomDrawerChange,\n    activeGlobalBottomDrawerId,\n    bottomDrawersFocusRef,\n    bottomDrawers,\n  } = toolbarProps;\n  const drawerExpandedMode = !!expandedDrawerId;\n  const ref = useRef<HTMLElement>(null);\n  const aiDrawerTransitionRef = useRef<HTMLDivElement>(null);\n  const activeAiDrawerId = activeAiDrawer?.id;\n  useResizeObserver(ref, entry => setToolbarHeight(entry.borderBoxHeight));\n  useEffect(() => {\n    return () => {\n      setToolbarHeight(0);\n    };\n    // unmount effect only\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const anyPanelOpenInMobile =\n    !!isMobile &&\n    (!!activeDrawerId ||\n      !!activeGlobalDrawersIds?.length ||\n      !!activeAiDrawerId ||\n      !!activeGlobalBottomDrawerId ||\n      (!!navigationOpen && !!hasNavigation));\n  useEffect(() => {\n    if (anyPanelOpenInMobile) {\n      document.body.classList.add(styles['block-body-scroll']);\n    } else {\n      document.body.classList.remove(styles['block-body-scroll']);\n    }\n    return () => {\n      document.body.classList.remove(styles['block-body-scroll']);\n    };\n  }, [anyPanelOpenInMobile]);\n\n  const navLandmarkAttributes = navigationOpen\n    ? { role: 'presentation' }\n    : { role: 'navigation', 'aria-label': ariaLabels?.navigation };\n\n  return (\n    <ToolbarSlot\n      ref={ref}\n      className={clsx((aiDrawer?.trigger || !!activeAiDrawerId) && styles['with-ai-drawer'], {\n        [testutilStyles['mobile-bar']]: isMobile,\n      })}\n      style={{\n        insetBlockStart: verticalOffsets.toolbar,\n      }}\n    >\n      <Transition\n        in={!!(aiDrawer?.trigger && !activeAiDrawerId)}\n        timeout={{ enter: 0, exit: 165 }}\n        mountOnEnter={true}\n        unmountOnExit={true}\n        nodeRef={aiDrawerTransitionRef}\n      >\n        {state => (\n          <div\n            className={clsx(!!aiDrawer?.trigger?.customIcon && styles['universal-toolbar-ai-custom'], [\n              sharedStyles['with-motion-horizontal'],\n            ])}\n            style={{\n              opacity: ['entering', 'exiting'].includes(state) ? 0 : 1,\n            }}\n          >\n            <TriggerButton\n              ariaLabel={aiDrawer?.ariaLabels?.triggerButton}\n              ariaExpanded={!!activeAiDrawerId}\n              iconName={aiDrawer?.trigger!.iconName}\n              iconSvg={aiDrawer?.trigger!.iconSvg}\n              customSvg={aiDrawer?.trigger!.customIcon}\n              className={testutilStyles['ai-drawer-toggle']}\n              onClick={() => {\n                if (setExpandedDrawerId) {\n                  setExpandedDrawerId(null);\n                }\n                onActiveAiDrawerChange?.(aiDrawer?.id ?? null, { initiatedByUserAction: true });\n              }}\n              ref={aiDrawerFocusRef}\n              selected={!drawerExpandedMode && !!activeAiDrawerId}\n              disabled={anyPanelOpenInMobile}\n              variant={aiDrawer?.trigger?.customIcon ? 'custom' : 'circle'}\n              testId={`awsui-app-layout-trigger-${aiDrawer?.id}`}\n              isForPreviousActiveDrawer={true}\n            />\n          </div>\n        )}\n      </Transition>\n      <ToolbarContainer hasAiDrawer={!!aiDrawer?.trigger}>\n        {hasNavigation && (\n          <nav {...navLandmarkAttributes} className={clsx(styles['universal-toolbar-nav'])}>\n            <TriggerButton\n              ariaLabel={ariaLabels?.navigationToggle ?? undefined}\n              ariaExpanded={!drawerExpandedMode && navigationOpen}\n              iconName=\"menu\"\n              className={testutilStyles['navigation-toggle']}\n              onClick={() => {\n                if (setExpandedDrawerId) {\n                  setExpandedDrawerId(null);\n                }\n                if (navigationOpen && expandedDrawerId) {\n                  return;\n                }\n                onNavigationToggle?.(!navigationOpen);\n              }}\n              ref={navigationFocusRef}\n              selected={!drawerExpandedMode && navigationOpen}\n              disabled={anyPanelOpenInMobile}\n            />\n          </nav>\n        )}\n        {(breadcrumbs || discoveredBreadcrumbs) && (\n          <ToolbarBreadcrumbsSection\n            ownBreadcrumbs={appLayoutInternals.breadcrumbs}\n            discoveredBreadcrumbs={appLayoutInternals.discoveredBreadcrumbs}\n            includeTestUtils={true}\n          />\n        )}\n        {(drawers?.length ||\n          globalDrawers?.length ||\n          bottomDrawers?.length ||\n          (hasSplitPanel && splitPanelToggleProps?.displayed)) && (\n          <div className={clsx(styles['universal-toolbar-drawers'])}>\n            <DrawerTriggers\n              ariaLabels={ariaLabels}\n              activeDrawerId={activeDrawerId ?? null}\n              drawers={drawers?.filter(item => !!item.trigger) ?? []}\n              drawersFocusRef={drawersFocusRef}\n              onActiveDrawerChange={onActiveDrawerChange}\n              splitPanelToggleProps={splitPanelToggleProps?.displayed ? splitPanelToggleProps : undefined}\n              splitPanelFocusRef={splitPanelFocusRef}\n              onSplitPanelToggle={onSplitPanelToggle}\n              disabled={anyPanelOpenInMobile}\n              globalDrawersFocusControl={globalDrawersFocusControl}\n              bottomDrawersFocusRef={bottomDrawersFocusRef}\n              globalDrawers={globalDrawers?.filter(item => !!item.trigger) ?? []}\n              activeGlobalDrawersIds={activeGlobalDrawersIds ?? []}\n              onActiveGlobalDrawersChange={onActiveGlobalDrawersChange}\n              expandedDrawerId={expandedDrawerId}\n              setExpandedDrawerId={setExpandedDrawerId!}\n              bottomDrawers={bottomDrawers}\n              onActiveGlobalBottomDrawerChange={onActiveGlobalBottomDrawerChange}\n              activeGlobalBottomDrawerId={activeGlobalBottomDrawerId}\n            />\n          </div>\n        )}\n      </ToolbarContainer>\n    </ToolbarSlot>\n  );\n}\n\nexport const AppLayoutToolbar = createWidgetizedComponent(AppLayoutToolbarImplementation, ToolbarSkeleton);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\n\nimport { useMobile } from '../../../internal/hooks/use-mobile';\nimport { splitItems } from '../../drawer/drawers-helpers';\nimport OverflowMenu from '../../drawer/overflow-menu';\nimport { AppLayoutProps, AppLayoutPropsWithDefaults } from '../../interfaces';\nimport { OnChangeParams, TOOLS_DRAWER_ID } from '../../utils/use-drawers';\nimport { Focusable, FocusControlMultipleStates } from '../../utils/use-focus-control';\nimport { InternalDrawer } from '../interfaces';\nimport TriggerButton from './trigger-button';\n\nimport splitPanelTestUtilStyles from '../../../split-panel/test-classes/styles.css.js';\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\nexport interface SplitPanelToggleProps {\n  displayed: boolean | undefined;\n  ariaLabel: string | undefined;\n  controlId: string | undefined;\n  active: boolean | undefined;\n  position: AppLayoutProps.SplitPanelPosition;\n}\ninterface DrawerTriggersProps {\n  ariaLabels: AppLayoutPropsWithDefaults['ariaLabels'];\n\n  activeDrawerId: string | null;\n  drawersFocusRef: React.Ref<Focusable> | undefined;\n  drawers: ReadonlyArray<InternalDrawer>;\n  onActiveDrawerChange: ((drawerId: string | null, params: OnChangeParams) => void) | undefined;\n\n  activeGlobalDrawersIds: ReadonlyArray<string>;\n  globalDrawersFocusControl?: FocusControlMultipleStates;\n  bottomDrawers?: ReadonlyArray<InternalDrawer>;\n  bottomDrawersFocusRef?: React.Ref<Focusable> | undefined;\n  globalDrawers: ReadonlyArray<InternalDrawer>;\n  onActiveGlobalDrawersChange?: (newDrawerId: string, params: OnChangeParams) => void;\n  expandedDrawerId?: string | null;\n  setExpandedDrawerId: (value: string | null) => void;\n  activeGlobalBottomDrawerId?: string | null;\n  onActiveGlobalBottomDrawerChange?: (value: string | null, params: OnChangeParams) => void;\n\n  splitPanelOpen?: boolean;\n  splitPanelPosition?: AppLayoutProps.SplitPanelPreferences['position'];\n  splitPanelToggleProps: SplitPanelToggleProps | undefined;\n  splitPanelFocusRef: React.Ref<Focusable> | undefined;\n  onSplitPanelToggle: (() => void) | undefined;\n  disabled: boolean;\n}\n\nexport function DrawerTriggers({\n  ariaLabels,\n  activeDrawerId,\n  drawers,\n  drawersFocusRef,\n  onActiveDrawerChange,\n  splitPanelOpen,\n  splitPanelPosition = 'bottom',\n  splitPanelFocusRef,\n  splitPanelToggleProps,\n  onSplitPanelToggle,\n  disabled,\n  activeGlobalDrawersIds,\n  globalDrawers,\n  globalDrawersFocusControl,\n  onActiveGlobalDrawersChange,\n  expandedDrawerId,\n  setExpandedDrawerId,\n  activeGlobalBottomDrawerId,\n  onActiveGlobalBottomDrawerChange,\n  bottomDrawersFocusRef,\n  bottomDrawers,\n}: DrawerTriggersProps) {\n  const isMobile = useMobile();\n  const hasMultipleTriggers = drawers.length > 1;\n  const previousActiveLocalDrawerId = useRef(activeDrawerId);\n  const previousActiveGlobalBottomDrawerId = useRef(activeGlobalBottomDrawerId);\n  const previousActiveGlobalDrawersIds = useRef(activeGlobalDrawersIds);\n  const [containerWidth, triggersContainerRef] = useContainerQuery(rect => rect.contentBoxWidth);\n  if (!drawers.length && !globalDrawers.length && !bottomDrawers?.length && !splitPanelToggleProps) {\n    return null;\n  }\n\n  if (activeDrawerId) {\n    previousActiveLocalDrawerId.current = activeDrawerId;\n  }\n\n  if (activeGlobalDrawersIds.length) {\n    previousActiveGlobalDrawersIds.current = activeGlobalDrawersIds;\n  }\n\n  if (activeGlobalBottomDrawerId) {\n    previousActiveGlobalBottomDrawerId.current = activeGlobalBottomDrawerId;\n  }\n\n  const getIndexOfOverflowItem = () => {\n    if (isMobile) {\n      return 2;\n    }\n    if (containerWidth) {\n      const ITEM_WIDTH = 50; // Roughly 34px + padding = 42px but added extra for safety\n      const overflowSpot = containerWidth;\n\n      const index = Math.floor(overflowSpot / ITEM_WIDTH);\n\n      let splitPanelItem = 0;\n      if (splitPanelToggleProps) {\n        splitPanelItem = 1;\n      }\n      return index - splitPanelItem;\n    }\n    return 0;\n  };\n\n  const indexOfOverflowItem = getIndexOfOverflowItem();\n\n  const { visibleItems, overflowItems } = splitItems(\n    [...drawers, ...globalDrawers, ...(bottomDrawers || [])],\n    indexOfOverflowItem,\n    activeDrawerId ?? null\n  );\n  const overflowMenuHasBadge = !!overflowItems.find(item => item.badge);\n  const toolsOnlyMode = drawers.length === 1 && drawers[0].id === TOOLS_DRAWER_ID;\n  const globalDrawersStartIndex = drawers.length;\n  const hasOpenDrawer = !!activeDrawerId || (splitPanelPosition === 'side' && splitPanelOpen);\n  const splitPanelResolvedPosition = splitPanelToggleProps?.position;\n\n  const exitExpandedMode = () => {\n    if (setExpandedDrawerId) {\n      setExpandedDrawerId(null);\n    }\n  };\n\n  return (\n    <aside\n      className={styles[`drawers-${isMobile ? 'mobile' : 'desktop'}-triggers-container`]}\n      aria-label={ariaLabels?.drawers}\n      ref={triggersContainerRef}\n      role=\"region\"\n    >\n      <div\n        className={styles['drawers-trigger-content']}\n        aria-label={ariaLabels?.drawers}\n        role=\"toolbar\"\n        aria-orientation=\"horizontal\"\n      >\n        {splitPanelToggleProps && (\n          <>\n            <TriggerButton\n              ariaLabel={splitPanelToggleProps.ariaLabel}\n              ariaControls={splitPanelToggleProps.controlId}\n              ariaExpanded={!expandedDrawerId && splitPanelToggleProps.active}\n              className={clsx(\n                styles['drawers-trigger'],\n                testutilStyles['drawers-trigger'],\n                splitPanelTestUtilStyles['open-button']\n              )}\n              iconName={splitPanelResolvedPosition === 'side' ? 'view-vertical' : 'view-horizontal'}\n              onClick={() => {\n                exitExpandedMode();\n                if (!!expandedDrawerId && splitPanelToggleProps.active) {\n                  return;\n                }\n                onSplitPanelToggle?.();\n              }}\n              selected={!expandedDrawerId && splitPanelToggleProps.active}\n              ref={splitPanelResolvedPosition === 'side' ? splitPanelFocusRef : undefined}\n              hasTooltip={true}\n              isMobile={isMobile}\n              isForSplitPanel={true}\n              disabled={disabled}\n            />\n            {hasMultipleTriggers ? <div className={styles['group-divider']}></div> : null}\n          </>\n        )}\n        {visibleItems.slice(0, globalDrawersStartIndex).map(item => {\n          const isForPreviousActiveDrawer = previousActiveLocalDrawerId?.current === item.id;\n          const selected = !expandedDrawerId && item.id === activeDrawerId;\n          return (\n            <TriggerButton\n              ariaLabel={item.ariaLabels?.triggerButton}\n              ariaExpanded={selected}\n              ariaControls={activeDrawerId === item.id ? item.id : undefined}\n              className={clsx(\n                styles['drawers-trigger'],\n                !toolsOnlyMode && testutilStyles['drawers-trigger'],\n                item.id === TOOLS_DRAWER_ID && testutilStyles['tools-toggle']\n              )}\n              iconName={item.trigger!.iconName}\n              iconSvg={item.trigger!.iconSvg}\n              key={item.id}\n              onClick={() => {\n                exitExpandedMode();\n                if (!!expandedDrawerId && activeDrawerId === item.id) {\n                  return;\n                }\n                onActiveDrawerChange?.(activeDrawerId !== item.id ? item.id : null, { initiatedByUserAction: true });\n              }}\n              ref={item.id === previousActiveLocalDrawerId.current ? drawersFocusRef : undefined}\n              selected={selected}\n              badge={item.badge}\n              testId={`awsui-app-layout-trigger-${item.id}`}\n              hasTooltip={true}\n              hasOpenDrawer={hasOpenDrawer}\n              tooltipText={item.ariaLabels?.drawerName}\n              isForPreviousActiveDrawer={isForPreviousActiveDrawer}\n              isMobile={isMobile}\n              disabled={disabled}\n            />\n          );\n        })}\n        {globalDrawersStartIndex > 0 && visibleItems.length > globalDrawersStartIndex && (\n          <div className={styles['group-divider']}></div>\n        )}\n        {visibleItems.slice(globalDrawersStartIndex).map(item => {\n          let isForPreviousActiveDrawer = previousActiveGlobalDrawersIds?.current.includes(item.id);\n          const isBottom = item.position === 'bottom';\n          let selected =\n            activeGlobalDrawersIds.includes(item.id) && (!expandedDrawerId || item.id === expandedDrawerId);\n          if (isBottom) {\n            selected = item.id === activeGlobalBottomDrawerId && (!expandedDrawerId || item.id === expandedDrawerId);\n            isForPreviousActiveDrawer = previousActiveGlobalBottomDrawerId.current === item.id;\n          }\n\n          return (\n            <TriggerButton\n              ariaLabel={item.ariaLabels?.triggerButton}\n              ariaExpanded={selected}\n              ariaControls={selected ? item.id : undefined}\n              className={clsx(\n                styles['drawers-trigger'],\n                testutilStyles['drawers-trigger'],\n                testutilStyles['drawers-trigger-global']\n              )}\n              iconName={item.trigger!.iconName}\n              iconSvg={item.trigger!.iconSvg}\n              key={item.id}\n              onClick={() => {\n                exitExpandedMode();\n                if (!!expandedDrawerId && item.id !== expandedDrawerId && activeGlobalDrawersIds.includes(item.id)) {\n                  return;\n                }\n                if (isBottom) {\n                  onActiveGlobalBottomDrawerChange?.(selected ? null : item.id, { initiatedByUserAction: true });\n                  return;\n                }\n                onActiveGlobalDrawersChange?.(item.id, { initiatedByUserAction: true });\n              }}\n              ref={isBottom ? bottomDrawersFocusRef : globalDrawersFocusControl?.refs[item.id]?.toggle}\n              selected={selected}\n              badge={item.badge}\n              testId={`awsui-app-layout-trigger-${item.id}`}\n              hasTooltip={true}\n              hasOpenDrawer={hasOpenDrawer}\n              tooltipText={item.ariaLabels?.drawerName}\n              isForPreviousActiveDrawer={isForPreviousActiveDrawer}\n              isMobile={isMobile}\n              disabled={disabled}\n            />\n          );\n        })}\n        {overflowItems.length > 0 && (\n          <OverflowMenu\n            items={overflowItems.map(item => {\n              const isBottom = item?.position === 'bottom';\n              let active =\n                activeGlobalDrawersIds.includes(item.id) && (!expandedDrawerId || item.id === expandedDrawerId);\n              if (isBottom) {\n                active = item.id === activeGlobalBottomDrawerId && (!expandedDrawerId || item.id === expandedDrawerId);\n              }\n              return {\n                ...item,\n                active,\n              };\n            })}\n            ariaLabel={overflowMenuHasBadge ? ariaLabels?.drawersOverflowWithBadge : ariaLabels?.drawersOverflow}\n            customTriggerBuilder={({ onClick, triggerRef, ariaLabel, ariaExpanded, testUtilsClass }) => {\n              return (\n                <TriggerButton\n                  ref={triggerRef}\n                  ariaLabel={ariaLabel}\n                  ariaExpanded={ariaExpanded}\n                  badge={overflowMenuHasBadge}\n                  className={clsx(\n                    styles['drawers-trigger'],\n                    testutilStyles['drawers-trigger'],\n                    testutilStyles['drawers-trigger-global'],\n                    testUtilsClass\n                  )}\n                  iconName=\"ellipsis\"\n                  onClick={onClick}\n                  disabled={disabled}\n                />\n              );\n            }}\n            onItemClick={event => {\n              const id = event.detail.id;\n              exitExpandedMode();\n              const item = overflowItems.find(item => item.id === id);\n              const isBottom = item?.position === 'bottom';\n              if (isBottom) {\n                const selected =\n                  item.id === activeGlobalBottomDrawerId && (!expandedDrawerId || item.id === expandedDrawerId);\n                onActiveGlobalBottomDrawerChange?.(selected ? null : item.id, { initiatedByUserAction: true });\n                return;\n              }\n              if (globalDrawers.find(drawer => drawer.id === id)) {\n                if (!!expandedDrawerId && id !== expandedDrawerId && activeGlobalDrawersIds.includes(id)) {\n                  return;\n                }\n                onActiveGlobalDrawersChange?.(id, { initiatedByUserAction: true });\n              } else {\n                onActiveDrawerChange?.(event.detail.id, { initiatedByUserAction: true });\n              }\n            }}\n            globalDrawersStartIndex={globalDrawersStartIndex - indexOfOverflowItem}\n          />\n        )}\n      </div>\n    </aside>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { Ref, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport {\n  GeneratedAnalyticsMetadataAppLayoutToolbarClose,\n  GeneratedAnalyticsMetadataAppLayoutToolbarOpen,\n} from '../../../../app-layout-toolbar/analytics-metadata/interfaces';\nimport { ButtonProps } from '../../../../button/interfaces';\nimport { IconProps } from '../../../../icon/interfaces';\nimport Icon from '../../../../icon/internal';\nimport Tooltip from '../../../../tooltip/internal.js';\n\nimport testutilStyles from '../../../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\nexport interface TriggerButtonProps {\n  ariaLabel?: string;\n  className?: string;\n  iconName?: IconProps.Name;\n  iconSvg?: React.ReactNode;\n  customSvg?: React.ReactNode;\n  ariaExpanded: boolean | undefined;\n  ariaControls?: string;\n  disabled?: boolean;\n  /**\n   * Ovewrwrites any internal testIds when provided\n   */\n  testId?: string;\n  /**\n   * If button is selected. Used only for desktop and applies a selected class\n   */\n  selected?: boolean;\n  onClick: React.MouseEventHandler<HTMLButtonElement>;\n\n  badge?: boolean;\n  /**\n   * If the button is expected to have a tooltip. When false it will not set the event listeners\n   *\n   * defaults to false\n   */\n  hasTooltip?: boolean;\n  /**\n   * This text allows for a customized tooltip.\n   *\n   * When falsy, the tooltip will parse the tooltip form the aria-lable\n   */\n  tooltipText?: string;\n  hasOpenDrawer?: boolean;\n  /**\n   * If the AppLayout is in mobile mode\n   * Used to determine if and where to render tooltips\n   */\n  isMobile?: boolean;\n  /**\n   * set to true if the trigger button was used to open the last active drawer\n   * this is also used to hide the tooltip should the focus be set programmatically\n   * on focus from a drawer close using this\n   */\n  isForPreviousActiveDrawer?: boolean;\n  /**\n   * if the trigger button is for the split panel\n   */\n  isForSplitPanel?: boolean;\n  tabIndex?: number | undefined;\n  variant?: 'circle' | 'custom';\n}\n\nfunction TriggerButton(\n  {\n    ariaLabel,\n    className,\n    iconName,\n    iconSvg,\n    customSvg,\n    ariaExpanded,\n    ariaControls,\n    onClick,\n    testId,\n    disabled = false,\n    badge,\n    selected = false,\n    hasTooltip = false,\n    tooltipText,\n    hasOpenDrawer = false,\n    isMobile = false,\n    isForPreviousActiveDrawer = false,\n    isForSplitPanel = false,\n    variant = 'circle',\n  }: TriggerButtonProps,\n  ref: React.Ref<ButtonProps.Ref>\n) {\n  const containerRef = useRef<HTMLDivElement | null>(null);\n  const tooltipValue = tooltipText ? tooltipText : ariaLabel ? ariaLabel : '';\n  const [showTooltip, setShowTooltip] = useState<boolean>(false);\n  const [suppressTooltip, setSupressTooltip] = useState<boolean>(false);\n\n  const handleTriggerClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    event.stopPropagation(); // Stop the event from propagating to the badge icon\n    setShowTooltip(false);\n    setSupressTooltip(true);\n    onClick(event);\n  };\n\n  const handleBlur = (keepSupressed = false) => {\n    setSupressTooltip(keepSupressed);\n    setShowTooltip(false);\n  };\n\n  const handlePointerEnter = () => {\n    setSupressTooltip(false);\n    setShowTooltip(true);\n  };\n\n  /**\n   * Takes the drawer being closed and the data-shift-focus value from a close button on that drawer that persists\n   * on the event relatedTarget to determine not to show the tooltip\n   * @param event\n   */\n  const handleOnFocus = useCallback(\n    (event: FocusEvent) => {\n      let shouldShowTooltip = false;\n      const eventWithRelatedTarget = event as any;\n      const relatedTarget = eventWithRelatedTarget?.relatedTarget;\n      const isFromAnotherTrigger = relatedTarget?.dataset?.shiftFocus === 'awsui-layout-drawer-trigger';\n      if (\n        (isForSplitPanel && !!relatedTarget) || // relatedTarget is null when split panel is closed\n        (!isForSplitPanel &&\n          (isFromAnotherTrigger || // for key navigation from another trigger button\n            !isForPreviousActiveDrawer)) // for when the drawer was not opened recently\n      ) {\n        shouldShowTooltip = true;\n      }\n      setSupressTooltip(!shouldShowTooltip);\n      setShowTooltip(true);\n    },\n    [\n      // To assert reference equality check\n      isForPreviousActiveDrawer,\n      isForSplitPanel,\n    ]\n  );\n\n  const tooltipVisible = useMemo(() => {\n    return (\n      hasTooltip &&\n      showTooltip &&\n      !suppressTooltip &&\n      !!containerRef?.current &&\n      tooltipValue &&\n      !(isMobile && hasOpenDrawer)\n    );\n  }, [hasTooltip, showTooltip, containerRef, tooltipValue, isMobile, hasOpenDrawer, suppressTooltip]);\n\n  useEffect(() => {\n    if (hasTooltip && tooltipValue) {\n      const close = () => {\n        setShowTooltip(false);\n        setSupressTooltip(false);\n      };\n\n      const shouldCloseTooltip = (event: PointerEvent) => {\n        if (event.target && containerRef && (containerRef.current as any)?.contains(event.target as HTMLElement)) {\n          return false;\n        }\n        return true;\n      };\n\n      const handlePointerDownEvent = (event: PointerEvent) => {\n        if (shouldCloseTooltip(event)) {\n          close();\n        }\n      };\n\n      const handleKeyDownEvent = (event: KeyboardEvent) => {\n        if (event.key === 'Escape') {\n          close();\n        }\n      };\n\n      const wrapperDiv = containerRef.current;\n      if (wrapperDiv) {\n        const controller = new AbortController();\n        wrapperDiv.addEventListener('pointerdown', handlePointerDownEvent, { signal: controller.signal });\n        wrapperDiv.addEventListener('keydown', handleKeyDownEvent, { signal: controller.signal });\n\n        return () => {\n          controller.abort();\n        };\n      }\n    }\n  }, [containerRef, hasTooltip, tooltipValue]);\n\n  const triggerEventMetadata:\n    | GeneratedAnalyticsMetadataAppLayoutToolbarClose\n    | GeneratedAnalyticsMetadataAppLayoutToolbarOpen = {\n    action: selected ? 'close' : 'open',\n    detail: { label: { root: 'self' } },\n  };\n\n  return (\n    <div\n      ref={containerRef}\n      {...(hasTooltip && {\n        onPointerEnter: () => handlePointerEnter(),\n        onPointerLeave: () => handleBlur(true),\n        onFocus: e => handleOnFocus(e as any),\n        onBlur: () => handleBlur(true),\n      })}\n      className={styles['trigger-wrapper']}\n    >\n      <button\n        aria-expanded={ariaExpanded}\n        aria-controls={ariaControls}\n        aria-haspopup={true}\n        aria-label={ariaLabel}\n        aria-disabled={disabled}\n        disabled={disabled}\n        className={clsx(\n          styles.trigger,\n          styles[variant],\n          {\n            [styles.selected]: selected,\n            [styles['trigger-with-badge']]: badge,\n            [testutilStyles['drawers-trigger-with-badge']]: badge,\n          },\n          className\n        )}\n        onClick={handleTriggerClick}\n        ref={ref as Ref<HTMLButtonElement>}\n        type=\"button\"\n        data-testid={testId}\n        data-shift-focus=\"awsui-layout-drawer-trigger\"\n        {...getAnalyticsMetadataAttribute(triggerEventMetadata)}\n      >\n        {customSvg ?? ((iconName || iconSvg) && <Icon name={iconName} svg={iconSvg} />)}\n      </button>\n      {badge && <div className={styles.dot} />}\n      {tooltipVisible && (\n        <Tooltip\n          getTrack={() => containerRef.current}\n          className={testutilStyles['trigger-tooltip']}\n          content={tooltipValue}\n          onEscape={() => {\n            setShowTooltip(false);\n            setSupressTooltip(false);\n          }}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default React.forwardRef(TriggerButton);\n", "\n    import './styles.scoped.css';\n    export default {\n  \"trigger\": \"awsui_trigger_lpshu_10v1l_145\",\n  \"custom\": \"awsui_custom_lpshu_10v1l_151\",\n  \"trigger-with-badge\": \"awsui_trigger-with-badge_lpshu_10v1l_157\",\n  \"circle\": \"awsui_circle_lpshu_10v1l_167\",\n  \"selected\": \"awsui_selected_lpshu_10v1l_183\",\n  \"trigger-wrapper\": \"awsui_trigger-wrapper_lpshu_10v1l_194\",\n  \"dot\": \"awsui_dot_lpshu_10v1l_219\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { createWidgetizedComponent } from '../../../internal/widgets';\nimport { SkeletonPartProps } from '../skeleton/interfaces';\nimport { AppLayoutSplitPanelDrawerBottomImplementation as AppLayoutSplitPanelBottom } from '../split-panel';\nimport { isWidgetReady } from '../state/invariants';\n\nimport sharedStyles from '../../resize/styles.css.js';\nimport styles from '../skeleton/styles.css.js';\n\nexport const BottomContentSlotImplementation = ({ appLayoutState, appLayoutProps }: SkeletonPartProps) => {\n  if (!isWidgetReady(appLayoutState)) {\n    return null;\n  }\n  const { splitPanelPosition, placement, activeGlobalBottomDrawerId, bottomDrawerReportedSize, isMobile } =\n    appLayoutState.widgetizedState;\n  return (\n    <>\n      {splitPanelPosition === 'bottom' && (\n        <div\n          className={clsx(styles['split-panel-bottom'], sharedStyles['with-motion-vertical'])}\n          style={{\n            insetBlockEnd:\n              placement.insetBlockEnd + (activeGlobalBottomDrawerId && !isMobile ? bottomDrawerReportedSize : 0),\n          }}\n        >\n          <AppLayoutSplitPanelBottom\n            appLayoutInternals={appLayoutState.appLayoutInternals}\n            splitPanelInternals={appLayoutState.splitPanelInternals}\n          >\n            {appLayoutProps.splitPanel}\n          </AppLayoutSplitPanelBottom>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport const createWidgetizedAppLayoutBottomContentSlot = createWidgetizedComponent(BottomContentSlotImplementation);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { highContrastHeaderClassName } from '../../../internal/utils/content-header-utils';\nimport { createWidgetizedComponent } from '../../../internal/widgets';\nimport { AppLayoutNotificationsImplementation as AppLayoutNotifications } from '../notifications';\nimport { SkeletonPartProps } from '../skeleton/interfaces';\nimport { isWidgetReady } from '../state/invariants';\n\nimport styles from '../skeleton/styles.css.js';\n\nexport const TopContentSlotImplementation = ({ appLayoutProps, appLayoutState }: SkeletonPartProps) => {\n  if (!isWidgetReady(appLayoutState)) {\n    return null;\n  }\n  return (\n    <>\n      {appLayoutProps.notifications && (\n        <div\n          className={clsx(\n            styles['notifications-background'],\n            appLayoutProps.headerVariant === 'high-contrast' && highContrastHeaderClassName\n          )}\n        ></div>\n      )}\n      {appLayoutProps.notifications && (\n        <AppLayoutNotifications appLayoutInternals={appLayoutState.appLayoutInternals}>\n          {appLayoutProps.notifications}\n        </AppLayoutNotifications>\n      )}\n    </>\n  );\n};\n\nexport const createWidgetizedAppLayoutTopContentSlot = createWidgetizedComponent(TopContentSlotImplementation);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\n\nimport { highContrastHeaderClassName } from '../../../internal/utils/content-header-utils';\nimport { AppLayoutInternals } from '../interfaces';\nimport { NotificationsSlot } from '../skeleton/slots';\n\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\nexport interface AppLayoutNotificationsImplementationProps {\n  appLayoutInternals: AppLayoutInternals;\n  children: React.ReactNode;\n}\n\nexport function AppLayoutNotificationsImplementation({\n  appLayoutInternals,\n  children,\n}: AppLayoutNotificationsImplementationProps) {\n  const { ariaLabels, stickyNotifications, setNotificationsHeight, verticalOffsets } = appLayoutInternals;\n  const [hasNotificationsContent, setHasNotificationsContent] = useState(false);\n  const rootRef = useRef<HTMLDivElement>(null);\n\n  useResizeObserver(rootRef, entry => {\n    const hasContent = entry.contentBoxHeight > 0;\n    setNotificationsHeight(hasContent ? entry.borderBoxHeight : 0);\n    setHasNotificationsContent(hasContent);\n  });\n  useEffect(() => {\n    return () => {\n      setNotificationsHeight(0);\n    };\n    // unmount effect only\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return (\n    <NotificationsSlot\n      ref={rootRef}\n      className={clsx(\n        appLayoutInternals.headerVariant === 'high-contrast' && highContrastHeaderClassName,\n        stickyNotifications && styles['sticky-notifications'],\n        hasNotificationsContent && styles['has-notifications-content'],\n        appLayoutInternals.headerVariant !== 'high-contrast' && styles['sticky-notifications-with-background']\n      )}\n      style={{\n        insetBlockStart: stickyNotifications ? verticalOffsets.notifications : undefined,\n      }}\n    >\n      <div className={testutilStyles.notifications} role=\"region\" aria-label={ariaLabels?.notifications}>\n        {children}\n      </div>\n    </NotificationsSlot>\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"sticky-notifications\": \"awsui_sticky-notifications_154bi_yk7p7_9\",\n  \"sticky-notifications-with-background\": \"awsui_sticky-notifications-with-background_154bi_yk7p7_13\",\n  \"has-notifications-content\": \"awsui_has-notifications-content_154bi_yk7p7_17\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { createLoadableComponent } from '../../internal/widgets/loader-mock';\nimport { AppLayoutStateProvider as AppLayoutStateImplementation, createWidgetizedAppLayoutState } from './state';\nimport { AfterMainSlotImplementation, createWidgetizedAppLayoutAfterMainSlot } from './widget-areas/after-main-slot';\nimport { BeforeMainSlotImplementation, createWidgetizedAppLayoutBeforeMainSlot } from './widget-areas/before-main-slot';\nimport {\n  BottomContentSlotImplementation,\n  createWidgetizedAppLayoutBottomContentSlot,\n} from './widget-areas/bottom-content-slot';\nimport { createWidgetizedAppLayoutTopContentSlot, TopContentSlotImplementation } from './widget-areas/top-content-slot';\n\nexport const AppLayoutBeforeMainSlot = createWidgetizedAppLayoutBeforeMainSlot(\n  createLoadableComponent(BeforeMainSlotImplementation)\n);\nexport const AppLayoutAfterMainSlot = createWidgetizedAppLayoutAfterMainSlot(\n  createLoadableComponent(AfterMainSlotImplementation)\n);\nexport const AppLayoutTopContentSlot = createWidgetizedAppLayoutTopContentSlot(\n  createLoadableComponent(TopContentSlotImplementation)\n);\nexport const AppLayoutBottomContentSlot = createWidgetizedAppLayoutBottomContentSlot(\n  createLoadableComponent(BottomContentSlotImplementation)\n);\nexport const AppLayoutWidgetizedState = createWidgetizedAppLayoutState(\n  createLoadableComponent(AppLayoutStateImplementation)\n);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport { GeneratedAnalyticsMetadataAppLayoutToolbarComponent } from '../../../app-layout-toolbar/analytics-metadata/interfaces';\nimport { BuiltInErrorBoundary } from '../../../error-boundary/internal';\nimport VisualContext from '../../../internal/components/visual-context';\nimport customCssProps from '../../../internal/generated/custom-css-properties';\nimport { AppLayoutInternalProps, AppLayoutPendingState } from '../interfaces';\nimport {\n  AppLayoutAfterMainSlot,\n  AppLayoutBeforeMainSlot,\n  AppLayoutBottomContentSlot,\n  AppLayoutTopContentSlot,\n} from '../internal';\nimport { isWidgetReady } from '../state/invariants';\nimport { ToolbarProps } from '../toolbar';\nimport { SkeletonPartProps, SkeletonSlotsAttributes } from './interfaces';\n\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\nexport interface SkeletonLayoutProps {\n  registered: boolean;\n  appLayoutProps: AppLayoutInternalProps;\n  appLayoutState: AppLayoutPendingState;\n  toolbarProps: ToolbarProps | null;\n  skeletonSlotsAttributes: SkeletonSlotsAttributes;\n}\n\nconst componentAnalyticsMetadata: GeneratedAnalyticsMetadataAppLayoutToolbarComponent = {\n  name: 'awsui.AppLayoutToolbar',\n  label: {\n    selector: 'h1',\n    root: 'body',\n  },\n};\n\nexport const SkeletonLayout = ({\n  registered,\n  appLayoutProps,\n  appLayoutState,\n  toolbarProps,\n  skeletonSlotsAttributes,\n}: SkeletonLayoutProps) => {\n  const { contentHeader, content, navigationWidth } = appLayoutProps;\n  const mergedProps: SkeletonPartProps = {\n    toolbarProps,\n    appLayoutProps,\n    appLayoutState,\n  };\n  const {\n    wrapperElAttributes,\n    mainElAttributes,\n    contentWrapperElAttributes,\n    contentHeaderElAttributes,\n    contentElAttributes,\n  } = skeletonSlotsAttributes;\n\n  const isWidgetLoaded = isWidgetReady(appLayoutState);\n\n  return (\n    <VisualContext contextName=\"app-layout-toolbar\">\n      <div\n        {...getAnalyticsMetadataAttribute({ component: componentAnalyticsMetadata })}\n        ref={appLayoutState.rootRef as React.Ref<HTMLDivElement>}\n        data-awsui-app-layout-widget-loaded={isWidgetLoaded}\n        {...wrapperElAttributes}\n        className={wrapperElAttributes?.className ?? clsx(styles.root, testutilStyles.root)}\n        style={\n          wrapperElAttributes?.style ?? {\n            blockSize: `calc(100vh - ${appLayoutProps.placement.insetBlockStart + appLayoutProps.placement.insetBlockEnd}px)`,\n            [customCssProps.navigationWidth]: `${navigationWidth}px`,\n          }\n        }\n      >\n        <AppLayoutBeforeMainSlot {...mergedProps} />\n        <main {...mainElAttributes} className={mainElAttributes?.className ?? styles['main-landmark']}>\n          <AppLayoutTopContentSlot {...mergedProps} />\n          <div\n            {...contentWrapperElAttributes}\n            className={\n              contentWrapperElAttributes?.className ??\n              clsx(styles.main, { [styles['main-disable-paddings']]: appLayoutProps.disableContentPaddings })\n            }\n          >\n            {contentHeader && <div {...contentHeaderElAttributes}>{contentHeader}</div>}\n            {/*delay rendering the content until registration of this instance is complete*/}\n            <div {...contentElAttributes} className={contentElAttributes?.className ?? testutilStyles.content}>\n              {registered ? <BuiltInErrorBoundary>{content}</BuiltInErrorBoundary> : null}\n            </div>\n          </div>\n          <AppLayoutBottomContentSlot {...mergedProps} />\n        </main>\n        <AppLayoutAfterMainSlot {...mergedProps} />\n      </div>\n    </VisualContext>\n  );\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useLayoutEffect, useState } from 'react';\n\nimport { metrics } from '../../../internal/metrics';\nimport { awsuiPluginsInternal } from '../../../internal/plugins/api';\nimport { RegistrationState } from '../../../internal/plugins/controllers/app-layout-widget';\nimport { useAppLayoutFlagEnabled } from '../../utils/feature-flags';\nimport { MergeProps, SharedProps } from '../state/interfaces';\nimport { ToolbarProps } from '../toolbar';\n\nexport type DeduplicationType = 'primary' | 'secondary' | 'suspended' | 'off';\n\nexport function useMultiAppLayout(\n  forceDeduplicationType: DeduplicationType,\n  isEnabled: boolean,\n  props: SharedProps,\n  mergeProps: MergeProps\n): { registered: boolean; toolbarProps: ToolbarProps | null } {\n  const [registration, setRegistration] = useState<RegistrationState<SharedProps> | null>(null);\n  const isToolbar = useAppLayoutFlagEnabled();\n\n  useLayoutEffect(() => {\n    if (!isEnabled || forceDeduplicationType === 'suspended' || !isToolbar) {\n      return;\n    }\n    if (forceDeduplicationType === 'off') {\n      setRegistration({ type: 'primary', discoveredProps: [] });\n      return;\n    }\n    const unregister = awsuiPluginsInternal.appLayoutWidget.register(forceDeduplicationType, props =>\n      setRegistration(props as RegistrationState<SharedProps>)\n    );\n    return () => {\n      unregister();\n      setRegistration({ type: 'suspended' });\n    };\n  }, [forceDeduplicationType, isEnabled, isToolbar]);\n\n  useLayoutEffect(() => {\n    if (registration?.type === 'secondary') {\n      registration.update(props);\n    }\n  });\n\n  useEffect(() => {\n    if (registration) {\n      reportMultiLayoutMetric(registration);\n    }\n  }, [registration]);\n\n  if (!isToolbar) {\n    return {\n      registered: true,\n      // mergeProps is needed here because the toolbar's behavior depends on reconciliation logic\n      // in this function. For example, navigation trigger visibility\n      toolbarProps: mergeProps(props, []),\n    };\n  }\n\n  return {\n    registered: !!registration?.type,\n    toolbarProps: registration?.type === 'primary' ? mergeProps(props, registration.discoveredProps) : null,\n  };\n}\n\nfunction reportMultiLayoutMetric(registration: RegistrationState<SharedProps>) {\n  if (registration.type === 'primary' && registration.discoveredProps.length > 0) {\n    metrics.sendOpsMetricObject('awsui-multi-layout-usage-primary', {\n      // temporary workaround for missing typings\n      // https://github.com/cloudscape-design/component-toolkit/pull/153\n      instancesCount: registration.discoveredProps.length as any,\n    });\n  } else if (registration.type === 'suspended') {\n    metrics.sendOpsMetricObject('awsui-multi-layout-usage-suspended', {});\n  }\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\nimport { getLogicalBoundingClientRect } from '@cloudscape-design/component-toolkit/internal';\n\nimport { useObservedElement } from './use-observed-element';\n\nexport function useAppLayoutPlacement(headerSelector: string, footerSelector: string) {\n  const mainElementRef = useRef<HTMLElement>(null);\n  const headerHeight = useObservedElement(mainElementRef, headerSelector);\n  const footerHeight = useObservedElement(mainElementRef, footerSelector);\n  const [offsets, setOffsets] = useState({\n    insetInlineStart: 0,\n    insetInlineEnd: 0,\n    inlineSize: Number.POSITIVE_INFINITY,\n  });\n\n  const updatePosition = useCallback(() => {\n    if (!mainElementRef.current) {\n      return;\n    }\n    const { insetInlineStart, insetInlineEnd, inlineSize } = getLogicalBoundingClientRect(mainElementRef.current);\n\n    // skip reading sizes in JSDOM\n    if (inlineSize === 0) {\n      return;\n    }\n\n    setOffsets({ insetInlineStart, insetInlineEnd: inlineSize - insetInlineEnd, inlineSize });\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener('resize', updatePosition);\n    return () => window.removeEventListener('resize', updatePosition);\n  }, [updatePosition]);\n\n  useResizeObserver(mainElementRef, updatePosition);\n\n  return [mainElementRef, { ...offsets, insetBlockStart: headerHeight, insetBlockEnd: footerHeight }] as const;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useState } from 'react';\n\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\n\nexport function useObservedElement(rootElementRef: React.RefObject<HTMLElement>, selector: string) {\n  const getElement = useCallback(() => {\n    const document = rootElementRef.current?.ownerDocument ?? window.document;\n    return document.querySelector(selector);\n  }, [rootElementRef, selector]);\n\n  const [height, setHeight] = useState(0);\n\n  useResizeObserver(getElement, entry => setHeight(entry.borderBoxHeight));\n\n  return height;\n}\n"],
  "mappings": "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",
  "names": ["import_react", "import_react", "import_react", "React", "import_react", "import_react", "styles_css_default", "styles_css_default", "React", "styles_css_default", "import_react", "import_react", "import_react", "styles_css_default", "React", "styles_css_default", "_a", "activeDrawer", "_b", "drawer", "import_react", "React", "internal_default", "styles_css_default", "styles_css_default", "React", "styles_css_default", "import_react", "import_react", "import_react", "import_react", "import_react", "styles_css_default", "React", "styles_css_default", "styles_css_default", "React", "styles_css_default", "React", "styles_css_default", "React", "styles_css_default", "import_react", "styles_css_default", "styles_css_default", "React", "styles_css_default", "import_react", "styles_css_default", "styles_css_default", "React", "styles_css_default", "import_react", "styles_css_default", "React", "styles_css_default", "import_react", "import_react", "React", "styles_css_default", "React", "styles_css_default", "import_react", "maxSize", "React", "import_react", "import_react", "React", "_a", "styles_css_default", "import_react", "import_react", "import_react", "import_react", "import_react", "React", "styles_css_default", "import_react", "styles_css_default", "React", "styles_css_default", "import_react", "React", "forwardRef", "styles_css_default", "_a", "React", "styles_css_default", "import_react", "React", "styles_css_default", "import_react", "import_react", "React", "styles_css_default", "styles_css_default", "React", "styles_css_default", "import_react", "React", "styles_css_default", "import_react", "import_react", "React", "styles_css_default", "import_react", "React", "styles_css_default", "import_react", "MobileToolbar", "React", "styles_css_default", "import_react", "React", "styles_css_default", "import_react", "Notifications", "React", "styles_css_default", "import_react", "React", "styles_css_default", "React", "MobileToolbar", "Notifications", "import_react", "import_react", "mounted", "React", "import_react", "import_react", "import_react", "import_react", "DEFAULT_ON_CHANGE_PARAMS", "MIN_DRAWER_SIZE", "size", "import_react", "DEFAULT_ON_CHANGE_PARAMS", "MIN_DRAWER_SIZE", "drawer", "import_react", "forwardRef", "_b", "_a", "React", "splitPanelSize", "styles_css_default", "styles_css_default", "forwardRef", "_a", "React", "import_react", "import_react", "useResize", "styles_css_default", "useResize", "size", "React", "styles_css_default", "_a", "_b", "import_react", "import_react", "import_react", "import_react", "styles_css_default", "styles_css_default", "React", "styles_css_default", "internal_default", "import_react", "import_react", "import_react", "styles_css_default", "React", "_a", "componentAnalyticsMetadata", "styles_css_default", "internal_default", "styles_css_default", "React", "internal_default", "styles_css_default", "import_react", "React", "styles_css_default", "internal_default", "import_react", "import_react", "styles_css_default", "React", "internal_default", "styles_css_default", "React", "styles_css_default", "internal_default", "import_react", "React", "internal_default", "styles_css_default", "styles_css_default", "React", "styles_css_default", "React", "styles_css_default", "internal_default", "useResize", "size", "React", "styles_css_default", "_a", "_b", "internal_default", "React", "import_react", "React", "useResize", "size", "styles_css_default", "_a", "_b", "_c", "internal_default", "_e", "_d", "import_react", "styles_css_default", "React", "styles_css_default", "React", "styles_css_default", "import_react", "import_react", "useResize", "size", "React", "styles_css_default", "_a", "_b", "_c", "internal_default", "_d", "import_react", "styles_css_default", "React", "styles_css_default", "import_react", "import_react", "import_react", "import_react", "styles_css_default", "React", "internal_default", "_a", "styles_css_default", "import_react", "import_react", "styles_css_default", "React", "styles_css_default", "styles_css_default", "React", "styles_css_default", "import_react", "React", "styles_css_default", "React", "styles_css_default", "internal_default", "_a", "componentAnalyticsMetadata", "styles_css_default", "React", "styles_css_default", "import_react", "React", "styles_css_default", "React", "styles_css_default", "import_react", "import_react", "import_react", "styles_css_default", "TriggerButton", "React", "styles_css_default", "trigger_button_default", "React", "styles_css_default", "trigger_button_default", "item", "styles_css_default", "React", "_a", "trigger_button_default", "_b", "_c", "React", "styles_css_default", "import_react", "React", "styles_css_default", "import_react", "import_react", "styles_css_default", "React", "styles_css_default", "React", "styles_css_default", "import_react", "React", "styles_css_default", "import_react", "mergeProps", "props", "AppLayoutStateProvider", "appLayoutState", "skeletonAttributes", "deduplicationProps", "mergeProps", "React", "forwardRef", "React", "import_react", "import_react", "document", "AppLayout", "React"]
}

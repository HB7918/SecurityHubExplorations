{
  "version": 3,
  "sources": ["../../src/table/index.tsx", "../../src/internal/context/collection-preferences-metadata-context.ts", "../../src/table/header-cell/utils.ts", "../../src/table/internal.tsx", "../../src/internal/hooks/use-mouse-down-target.ts", "../../src/internal/hooks/use-scroll-sync/index.ts", "../../src/internal/hooks/use-table-interaction-metrics/index.ts", "../../src/table/body-cell/index.tsx", "../../src/table/body-cell/disabled-inline-editor.tsx", "../../src/table/body-cell/click-away.tsx", "../../src/table/body-cell/td-element.tsx", "../../src/internal/components/expand-toggle-button/index.tsx", "../../@cloudscape-design/components/internal/components/expand-toggle-button/styles.css.js", "../../src/table/sticky-columns/use-sticky-columns.ts", "../../src/area-chart/async-store/index.ts", "../../src/table/sticky-columns/utils.ts", "../../src/table/table-role/table-role-helper.ts", "../../src/table/table-role/grid-navigation.tsx", "../../src/table/table-role/utils.ts", "../../src/table/utils.ts", "../../@cloudscape-design/components/table/styles.css.js", "../../@cloudscape-design/components/table/test-classes/styles.css.js", "../../@cloudscape-design/components/table/body-cell/styles.css.js", "../../src/table/body-cell/inline-editor.tsx", "../../src/table/column-widths-utils.ts", "../../src/table/selection/utils.ts", "../../src/table/expandable-rows/expandable-rows-utils.ts", "../../src/table/no-data-cell.tsx", "../../src/table/progressive-loading/items-loader.tsx", "../../@cloudscape-design/components/table/progressive-loading/styles.css.js", "../../src/table/progressive-loading/loader-cell.tsx", "../../src/table/progressive-loading/progressive-loading-utils.ts", "../../src/table/resizer/index.tsx", "../../src/internal/hooks/use-throttle-callback/index.ts", "../../src/internal/utils/throttle.ts", "../../src/table/use-column-widths.tsx", "../../@cloudscape-design/components/table/resizer/styles.css.js", "../../src/table/resizer/resizer-lookup.ts", "../../src/table/selection/selection-control.tsx", "../../src/checkbox/internal.tsx", "../../src/checkbox/style.tsx", "../../@cloudscape-design/components/checkbox/styles.css.js", "../../@cloudscape-design/components/table/selection/styles.css.js", "../../src/table/selection/use-selection-focus-move.ts", "../../src/table/selection/use-selection.ts", "../../src/table/selection/selection-cell.tsx", "../../src/table/header-cell/th-element.tsx", "../../@cloudscape-design/components/table/header-cell/styles.css.js", "../../src/table/selection/use-group-selection.ts", "../../src/table/sticky-header.tsx", "../../src/table/thead.tsx", "../../src/table/header-cell/index.tsx", "../../@cloudscape-design/components/table/analytics-metadata/styles.css.js", "../../src/table/use-sticky-header.ts", "../../src/table/sticky-scrolling.ts", "../../src/table/sticky-scrollbar/sticky-scrollbar.tsx", "../../src/table/sticky-scrollbar/use-sticky-scrollbar.ts", "../../@cloudscape-design/components/table/sticky-scrollbar/styles.css.js", "../../src/table/tools-header.tsx", "../../src/table/use-cell-editing.ts", "../../src/table/use-prevent-sticky-click-scroll.ts", "../../src/table/use-row-events.ts", "../../src/table/use-table-focus-navigation.ts"],
  "sourcesContent": ["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n'use client';\nimport React from 'react';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport { AnalyticsFunnelSubStep } from '../internal/analytics/components/analytics-funnel';\nimport { BasePropsWithAnalyticsMetadata, getAnalyticsMetadataProps } from '../internal/base-component';\nimport { CollectionPreferencesMetadata } from '../internal/context/collection-preferences-metadata-context';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { GeneratedAnalyticsMetadataTableComponent } from './analytics-metadata/interfaces';\nimport { getSortingColumnId } from './header-cell/utils';\nimport { TableForwardRefType, TableProps } from './interfaces';\nimport InternalTable, { InternalTableAsSubstep } from './internal';\n\nexport { TableProps };\nconst Table = React.forwardRef(\n  <T,>(\n    {\n      items = [],\n      selectedItems = [],\n      variant = 'container',\n      contentDensity = 'comfortable',\n      cellVerticalAlign = 'middle',\n      firstIndex = 1,\n      ...props\n    }: TableProps<T>,\n    ref: React.Ref<TableProps.Ref>\n  ) => {\n    const analyticsMetadata = getAnalyticsMetadataProps(props as BasePropsWithAnalyticsMetadata);\n    const hasHiddenColumns =\n      (props.visibleColumns && props.visibleColumns.length < props.columnDefinitions.length) ||\n      props.columnDisplay?.some(col => !col.visible);\n    const hasStickyColumns = !!props.stickyColumns?.first || !!props.stickyColumns?.last;\n    const baseComponentProps = useBaseComponent(\n      'Table',\n      {\n        props: {\n          contentDensity,\n          resizableColumns: props.resizableColumns,\n          selectionType: props.selectionType,\n          stickyHeader: props.stickyHeader,\n          stripedRows: props.stripedRows,\n          variant,\n          wrapLines: props.wrapLines,\n          enableKeyboardNavigation: props.enableKeyboardNavigation,\n          totalItemsCount: props.totalItemsCount,\n          flowType: analyticsMetadata.flowType,\n          cellVerticalAlign,\n        },\n        metadata: {\n          expandableRows: !!props.expandableRows,\n          progressiveLoading: !!props.getLoadingStatus,\n          groupSelection: !!props.expandableRows?.groupSelection,\n          cellCounters: props.columnDefinitions.filter(dev => !!dev.counter).length,\n          loaderCounters: !!props.renderLoaderCounter,\n          inlineEdit: props.columnDefinitions.some(def => !!def.editConfig),\n          disabledInlineEdit: props.columnDefinitions.some(def => !!def.editConfig?.disabledReason),\n          hasSortableColumns: props.columnDefinitions.some(def => def.sortingField || def.sortingComparator),\n          hasHiddenColumns,\n          hasStickyColumns,\n          hasFilterSlot: !!props.filter,\n          hasPaginationSlot: !!props.pagination,\n          itemsCount: items.length,\n          hasInstanceIdentifier: Boolean(analyticsMetadata?.instanceIdentifier),\n          hasResourceType: Boolean(analyticsMetadata?.resourceType),\n          usesVisibleColumns: !!props.visibleColumns,\n          usesColumnDisplay: !!props.columnDisplay,\n          usesColumnDefinitionsVerticalAlign: props.columnDefinitions.some(\n            def => def.verticalAlign !== cellVerticalAlign\n          ),\n        },\n      },\n      analyticsMetadata\n    );\n\n    const analyticsComponentMetadata: GeneratedAnalyticsMetadataTableComponent = {\n      name: 'awsui.Table',\n      label: { root: 'self' },\n      properties: {\n        selectionType: props.selectionType || 'none',\n        itemsCount: `${items.length}`,\n        selectedItemsCount: `${selectedItems.length}`,\n        variant,\n      },\n    };\n\n    const sortingColumnId = getSortingColumnId(props.columnDefinitions, props.sortingColumn);\n    if (sortingColumnId) {\n      analyticsComponentMetadata.properties.sortingColumnId = sortingColumnId;\n      analyticsComponentMetadata.properties.sortingDescending = `${props.sortingDescending || false}`;\n    }\n\n    const tableProps: Parameters<typeof InternalTable<T>>[0] = {\n      items,\n      selectedItems,\n      variant,\n      contentDensity,\n      firstIndex,\n      cellVerticalAlign,\n      ...props,\n      ...baseComponentProps,\n      ref,\n      ...getAnalyticsMetadataAttribute({ component: analyticsComponentMetadata }),\n    };\n\n    const collectionPreferencesMetadata = {\n      tableContentDensity: contentDensity,\n      tableHasStripedRows: !!props.stripedRows,\n      tableHasHiddenColumns: hasHiddenColumns,\n      tableHasStickyColumns: hasStickyColumns,\n    };\n\n    if (variant === 'borderless' || variant === 'embedded') {\n      return (\n        <CollectionPreferencesMetadata.Provider value={collectionPreferencesMetadata}>\n          <InternalTable {...tableProps} />\n        </CollectionPreferencesMetadata.Provider>\n      );\n    }\n\n    return (\n      <CollectionPreferencesMetadata.Provider value={collectionPreferencesMetadata}>\n        <AnalyticsFunnelSubStep>\n          <InternalTableAsSubstep {...tableProps} />\n        </AnalyticsFunnelSubStep>\n      </CollectionPreferencesMetadata.Provider>\n    );\n  }\n) as TableForwardRefType;\n\napplyDisplayName(Table, 'Table');\nexport default Table;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { createContext } from 'react';\n\ninterface CollectionPreferencesMetadataInterface {\n  tableHasStripedRows?: boolean;\n  tableHasHiddenColumns?: boolean;\n  tableHasStickyColumns?: boolean;\n  tableContentDensity?: string;\n}\n\nexport const CollectionPreferencesMetadata = createContext<CollectionPreferencesMetadataInterface>({});\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { TableProps } from '../interfaces';\n\nexport type SortingStatus = 'sortable' | 'ascending' | 'descending';\nconst stateToIcon = {\n  sortable: 'caret-down',\n  ascending: 'caret-up-filled',\n  descending: 'caret-down-filled',\n} as const;\n\nexport const getSortingStatus = (\n  sortable: boolean,\n  sorted: boolean,\n  descending: boolean,\n  disabled: boolean\n): SortingStatus | undefined => {\n  if (sorted) {\n    if (descending) {\n      return 'descending';\n    }\n    return 'ascending';\n  }\n  if (sortable && !disabled) {\n    return 'sortable';\n  }\n  return undefined;\n};\n\nexport const getSortingIconName = (sortingState: SortingStatus) => stateToIcon[sortingState];\nexport const isSorted = <T>(column: TableProps.ColumnDefinition<T>, sortingColumn: TableProps.SortingColumn<T>) =>\n  column === sortingColumn ||\n  (column.sortingField !== undefined && column.sortingField === sortingColumn.sortingField) ||\n  (column.sortingComparator !== undefined && column.sortingComparator === sortingColumn.sortingComparator);\nexport const getSortingColumnId = <T>(\n  columnDefinitions: ReadonlyArray<TableProps.ColumnDefinition<T>> = [],\n  sortingColumn?: TableProps.SortingColumn<T>\n) => {\n  if (!sortingColumn) {\n    return null;\n  }\n  for (let i = 0; i < columnDefinitions.length; i++) {\n    if (isSorted(columnDefinitions[i], sortingColumn)) {\n      return columnDefinitions[i].id || null;\n    }\n  }\n  return null;\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useImperativeHandle, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport { useMergeRefs, warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport {\n  GeneratedAnalyticsMetadataFragment,\n  getAnalyticsMetadataAttribute,\n} from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport InternalContainer, { InternalContainerProps } from '../container/internal';\nimport { useFunnelSubStep } from '../internal/analytics/hooks/use-funnel';\nimport { getAnalyticsMetadataProps, getBaseProps } from '../internal/base-component';\nimport { getVisualContextClassname } from '../internal/components/visual-context';\nimport { CollectionLabelContext } from '../internal/context/collection-label-context';\nimport { LinkDefaultVariantContext } from '../internal/context/link-default-variant-context';\nimport {\n  FilterRef,\n  HeaderRef,\n  PaginationRef,\n  PreferencesRef,\n  TableComponentsContextProvider,\n} from '../internal/context/table-component-context';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport useMouseDownTarget from '../internal/hooks/use-mouse-down-target';\nimport { usePerformanceMarks } from '../internal/hooks/use-performance-marks';\nimport { usePrevious } from '../internal/hooks/use-previous';\nimport { useScrollSync } from '../internal/hooks/use-scroll-sync';\nimport { useTableInteractionMetrics } from '../internal/hooks/use-table-interaction-metrics';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { isDevelopment } from '../internal/is-development';\nimport { SomeRequired } from '../internal/types';\nimport InternalLiveRegion from '../live-region/internal';\nimport { GeneratedAnalyticsMetadataTableComponent } from './analytics-metadata/interfaces';\nimport { TableBodyCell } from './body-cell';\nimport { checkColumnWidths } from './column-widths-utils';\nimport { useExpandableTableProps } from './expandable-rows/expandable-rows-utils';\nimport { TableForwardRefType, TableProps, TableRow } from './interfaces';\nimport { NoDataCell } from './no-data-cell';\nimport { getLoaderContent } from './progressive-loading/items-loader';\nimport { TableLoaderCell } from './progressive-loading/loader-cell';\nimport { useProgressiveLoadingProps } from './progressive-loading/progressive-loading-utils';\nimport { ResizeTracker } from './resizer';\nimport { focusMarkers, useSelection, useSelectionFocusMove } from './selection';\nimport { TableBodySelectionCell } from './selection/selection-cell';\nimport { useGroupSelection } from './selection/use-group-selection';\nimport { useStickyColumns } from './sticky-columns';\nimport StickyHeader, { StickyHeaderRef } from './sticky-header';\nimport { StickyScrollbar } from './sticky-scrollbar';\nimport {\n  getTableRoleProps,\n  getTableRowRoleProps,\n  getTableWrapperRoleProps,\n  GridNavigationProvider,\n  TableRole,\n} from './table-role';\nimport Thead, { TheadProps } from './thead';\nimport ToolsHeader from './tools-header';\nimport { useCellEditing } from './use-cell-editing';\nimport { ColumnWidthDefinition, ColumnWidthsProvider, DEFAULT_COLUMN_WIDTH } from './use-column-widths';\nimport { usePreventStickyClickScroll } from './use-prevent-sticky-click-scroll';\nimport { useRowEvents } from './use-row-events';\nimport useTableFocusNavigation from './use-table-focus-navigation';\nimport { checkSortingState, getColumnKey, getItemKey, getVisibleColumnDefinitions, toContainerVariant } from './utils';\n\nimport buttonStyles from '../button/styles.css.js';\nimport headerStyles from '../header/styles.css.js';\nimport styles from './styles.css.js';\n\nconst GRID_NAVIGATION_PAGE_SIZE = 10;\nconst SELECTION_COLUMN_WIDTH = 54;\nconst selectionColumnId = Symbol('selection-column-id');\n\ntype InternalTableProps<T> = SomeRequired<\n  TableProps<T>,\n  'items' | 'selectedItems' | 'variant' | 'firstIndex' | 'cellVerticalAlign'\n> &\n  InternalBaseComponentProps & {\n    __funnelSubStepProps?: InternalContainerProps['__funnelSubStepProps'];\n  };\n\nexport const InternalTableAsSubstep = React.forwardRef(\n  <T,>(props: InternalTableProps<T>, ref: React.Ref<TableProps.Ref>) => {\n    const { funnelSubStepProps } = useFunnelSubStep();\n\n    const tableProps: InternalTableProps<T> = {\n      ...props,\n      __funnelSubStepProps: funnelSubStepProps,\n    };\n\n    return <InternalTable {...tableProps} ref={ref} />;\n  }\n) as TableForwardRefType;\n\nconst InternalTable = React.forwardRef(\n  <T,>(\n    {\n      header,\n      footer,\n      empty,\n      filter,\n      pagination,\n      preferences,\n      items,\n      columnDefinitions,\n      trackBy,\n      loading,\n      loadingText,\n      selectionType: externalSelectionType,\n      selectedItems,\n      isItemDisabled,\n      ariaLabels,\n      onSelectionChange,\n      onSortingChange,\n      sortingColumn,\n      sortingDescending,\n      sortingDisabled,\n      visibleColumns,\n      stickyHeader,\n      stickyHeaderVerticalOffset,\n      onRowClick,\n      onRowContextMenu,\n      wrapLines,\n      stripedRows,\n      contentDensity,\n      submitEdit,\n      onEditCancel,\n      resizableColumns,\n      onColumnWidthsChange,\n      variant,\n      __internalRootRef,\n      totalItemsCount,\n      firstIndex,\n      renderAriaLive,\n      stickyColumns,\n      columnDisplay,\n      enableKeyboardNavigation,\n      expandableRows: externalExpandableRows,\n      getLoadingStatus,\n      renderLoaderPending,\n      renderLoaderLoading,\n      renderLoaderError,\n      renderLoaderEmpty,\n      renderLoaderCounter,\n      cellVerticalAlign,\n      __funnelSubStepProps,\n      ...rest\n    }: InternalTableProps<T>,\n    ref: React.Ref<TableProps.Ref>\n  ) => {\n    // Keyboard navigation defaults to `true` for tables with expandable rows.\n    if (externalExpandableRows && enableKeyboardNavigation === undefined) {\n      enableKeyboardNavigation = true;\n    }\n\n    const baseProps = getBaseProps(rest);\n\n    const prevStickyHeader = usePrevious(stickyHeader);\n    if (prevStickyHeader !== undefined && !!stickyHeader !== !!prevStickyHeader) {\n      warnOnce(\n        'Table',\n        `\\`stickyHeader\\` has changed from \"${prevStickyHeader}\" to \"${stickyHeader}\". It is not recommended to change the value of this property during the component lifecycle. Please set it to either \"true\" or \"false\" unconditionally.`\n      );\n    }\n\n    const isMobile = useMobile();\n\n    const expandableRows = useExpandableTableProps({\n      items,\n      expandableRows: externalExpandableRows,\n      trackBy,\n      ariaLabels,\n    });\n    const { allItems, isExpandable } = expandableRows;\n    const { allRows } = useProgressiveLoadingProps({ getLoadingStatus, expandableRows });\n    const selectionType = expandableRows.hasGroupSelection ? ('group' as const) : externalSelectionType;\n\n    const [containerWidth, wrapperMeasureRef] = useContainerQuery<number>(rect => rect.borderBoxWidth);\n    const wrapperMeasureRefObject = useRef(null);\n    const wrapperMeasureMergedRef = useMergeRefs(wrapperMeasureRef, wrapperMeasureRefObject);\n\n    const [tableWidth, tableMeasureRef] = useContainerQuery<number>(rect => rect.borderBoxWidth);\n    const tableRefObject = useRef(null);\n\n    const secondaryWrapperRef = React.useRef<HTMLDivElement>(null);\n    const theadRef = useRef<HTMLTableRowElement>(null);\n    const stickyHeaderRef = React.useRef<StickyHeaderRef>(null);\n    const scrollbarRef = React.useRef<HTMLDivElement>(null);\n    const { cancelEdit, ...cellEditing } = useCellEditing({ onCancel: onEditCancel, onSubmit: submitEdit });\n    const paginationRef = useRef<PaginationRef>({});\n    const filterRef = useRef<FilterRef>({});\n    const preferencesRef = useRef<PreferencesRef>({});\n    const headerRef = useRef<HeaderRef>({});\n    /* istanbul ignore next: performance marks do not work in JSDOM */\n    const getHeaderText = () =>\n      toolsHeaderPerformanceMarkRef.current?.querySelector<HTMLElement>(`.${headerStyles['heading-text']}`)\n        ?.innerText ?? toolsHeaderPerformanceMarkRef.current?.innerText;\n    const getPatternIdentifier = () => {\n      const hasActions = !!toolsHeaderPerformanceMarkRef.current?.querySelector<HTMLElement>(\n        `.${headerStyles.actions} .${buttonStyles.button}`\n      );\n\n      if (hasActions) {\n        return 'table-with-actions';\n      }\n\n      return '';\n    };\n\n    const performanceMarkAttributes = usePerformanceMarks(\n      'table',\n      () => !loading,\n      tableRefObject,\n      () => ({\n        loading: loading ?? false,\n        header: getHeaderText(),\n      }),\n      [loading]\n    );\n\n    const analyticsMetadata = getAnalyticsMetadataProps(rest);\n    const interactionMetadata = () => {\n      const filterData = filterRef.current;\n      const paginationData = paginationRef.current;\n      return JSON.stringify({\n        filterData,\n        paginationData,\n        sortingColumn: sortingColumn?.sortingField,\n        sortingOrder: sortingColumn ? (sortingDescending ? 'Descending' : 'Ascending') : undefined,\n      });\n    };\n    const getComponentConfiguration = () => {\n      const headerData = headerRef.current;\n      const filterData = filterRef.current;\n      const paginationData = paginationRef.current;\n      const preferencesData = preferencesRef.current;\n\n      return {\n        variant,\n        flowType: rest.analyticsMetadata?.flowType,\n        resourceType: rest.analyticsMetadata?.resourceType,\n        instanceIdentifier: analyticsMetadata?.instanceIdentifier,\n        taskName: analyticsMetadata?.instanceIdentifier ?? getHeaderText(),\n        uxTaskName: getHeaderText(),\n        patternIdentifier: getPatternIdentifier(),\n        sortedBy: {\n          columnId: sortingColumn?.sortingField,\n          sortingOrder: sortingColumn ? (sortingDescending ? 'desc' : 'asc') : undefined,\n        },\n        filtered: filterData?.filtered ?? null,\n        filteredBy: filterData?.filteredBy ?? [],\n        filteredCount: filterData?.filterCount ?? null,\n        totalNumberOfResources: headerData?.totalCount ?? null,\n        tablePreferences: {\n          visibleColumns: preferencesData?.visibleColumns ?? [],\n          resourcesPerPage: preferencesData?.pageSize ?? null,\n        },\n        pagination: {\n          currentPageIndex: paginationData?.currentPageIndex ?? 0,\n          totalNumberOfPages: paginationData?.openEnd ? null : (paginationData?.totalPageCount ?? null),\n          openEnd: Boolean(paginationData?.openEnd),\n        },\n        resourcesSelected: selectedItems?.length > 0,\n      };\n    };\n\n    const { setLastUserAction, tableInteractionAttributes } = useTableInteractionMetrics({\n      elementRef: tableRefObject,\n      loading,\n      items,\n      instanceIdentifier: analyticsMetadata?.instanceIdentifier,\n      itemCount: items.length,\n      getComponentIdentifier: getHeaderText,\n      getComponentConfiguration,\n      interactionMetadata,\n    });\n\n    useImperativeHandle(\n      ref,\n      () => ({\n        scrollToTop: stickyHeaderRef.current?.scrollToTop || (() => undefined),\n        cancelEdit,\n      }),\n      [cancelEdit]\n    );\n\n    const wrapperRefObject = useRef<HTMLDivElement>(null);\n    const handleScroll = useScrollSync([wrapperRefObject, scrollbarRef, secondaryWrapperRef]);\n\n    const { moveFocusDown, moveFocusUp, moveFocus } = useSelectionFocusMove(selectionType, allItems.length);\n    const { onRowClickHandler, onRowContextMenuHandler } = useRowEvents({ onRowClick, onRowContextMenu });\n\n    const visibleColumnDefinitions = getVisibleColumnDefinitions({\n      columnDefinitions,\n      columnDisplay,\n      visibleColumns,\n    });\n\n    const selectionProps = {\n      items: allItems,\n      rootItems: items,\n      trackBy,\n      selectedItems,\n      totalItemsCount,\n      selectionType,\n      isItemDisabled,\n      onSelectionChange,\n      ariaLabels: {\n        ...ariaLabels,\n        // `selectionGroupLabel` should not be part of the selection control, it is already part of the selection column header.\n        selectionGroupLabel: undefined,\n      },\n      loading,\n      expandableRows,\n      getLoadingStatus,\n      setLastUserAction,\n    };\n    const normalSelection = useSelection(selectionProps);\n    const groupSelection = useGroupSelection(selectionProps);\n    const selection = selectionType === 'group' ? groupSelection : normalSelection;\n    const isRowSelected = (row: TableRow<T>) => {\n      if (row.type === 'data') {\n        return selection.isItemSelected(row.item);\n      }\n      if (selectionType !== 'group') {\n        return false;\n      }\n      // Group loader is selected when its parent is selected.\n      return !row.item ? expandableRows.groupSelection.inverted : selection.isItemSelected(row.item);\n    };\n\n    if (isDevelopment) {\n      if (resizableColumns) {\n        checkColumnWidths(columnDefinitions);\n      }\n      if (sortingColumn?.sortingComparator) {\n        checkSortingState(columnDefinitions, sortingColumn.sortingComparator);\n      }\n    }\n\n    const isVisualRefresh = useVisualRefresh();\n    const computedVariant = isVisualRefresh\n      ? variant\n      : ['embedded', 'full-page'].indexOf(variant) > -1\n        ? 'container'\n        : variant;\n    const hasHeader = !!(header || filter || pagination || preferences);\n    const hasSelection = !!selectionType;\n    const hasFooterPagination = isMobile && variant === 'full-page' && !!pagination;\n    const hasFooter = !!footer || hasFooterPagination;\n\n    const headerIdRef = useRef<string | undefined>(undefined);\n    const isLabelledByHeader = !ariaLabels?.tableLabel && !!header;\n    const ariaLabelledby = isLabelledByHeader && headerIdRef.current ? headerIdRef.current : undefined;\n    const setHeaderRef = useCallback((id: string) => {\n      headerIdRef.current = id;\n    }, []);\n\n    const visibleColumnWidthsWithSelection: ColumnWidthDefinition[] = [];\n    const visibleColumnIdsWithSelection: PropertyKey[] = [];\n    if (hasSelection) {\n      visibleColumnWidthsWithSelection.push({ id: selectionColumnId, width: SELECTION_COLUMN_WIDTH });\n      visibleColumnIdsWithSelection.push(selectionColumnId);\n    }\n    for (let columnIndex = 0; columnIndex < visibleColumnDefinitions.length; columnIndex++) {\n      const columnId = getColumnKey(visibleColumnDefinitions[columnIndex], columnIndex);\n      visibleColumnWidthsWithSelection.push({ ...visibleColumnDefinitions[columnIndex], id: columnId });\n      visibleColumnIdsWithSelection.push(columnId);\n    }\n\n    const stickyState = useStickyColumns({\n      visibleColumns: visibleColumnIdsWithSelection,\n      stickyColumnsFirst: (stickyColumns?.first ?? 0) + (stickyColumns?.first && hasSelection ? 1 : 0),\n      stickyColumnsLast: stickyColumns?.last || 0,\n    });\n\n    const hasStickyColumns = !!((stickyColumns?.first ?? 0) + (stickyColumns?.last ?? 0) > 0);\n    const hasEditableCells = !!columnDefinitions.find(col => col.editConfig);\n\n    let tableRole: TableRole = 'table';\n    if (isExpandable) {\n      tableRole = 'treegrid';\n    } else if (enableKeyboardNavigation) {\n      tableRole = 'grid';\n    } else if (hasEditableCells) {\n      tableRole = 'grid-default';\n    }\n\n    const theadProps: TheadProps = {\n      selectionType,\n      getSelectAllProps: selection.getSelectAllProps,\n      columnDefinitions: visibleColumnDefinitions,\n      variant: computedVariant,\n      tableVariant: computedVariant,\n      wrapLines,\n      resizableColumns,\n      sortingColumn,\n      sortingDisabled,\n      sortingDescending,\n      onSortingChange,\n      onFocusMove: moveFocus,\n      onResizeFinish(newWidth) {\n        const widthsDetail = columnDefinitions.map(\n          (column, index) =>\n            newWidth.get(getColumnKey(column, index)) || (column.width as number) || DEFAULT_COLUMN_WIDTH\n        );\n        const widthsChanged = widthsDetail.some((width, index) => columnDefinitions[index].width !== width);\n        if (widthsChanged) {\n          fireNonCancelableEvent(onColumnWidthsChange, { widths: widthsDetail });\n        }\n      },\n      singleSelectionHeaderAriaLabel: ariaLabels?.selectionGroupLabel,\n      resizerRoleDescription: ariaLabels?.resizerRoleDescription,\n      resizerTooltipText: ariaLabels?.resizerTooltipText,\n      stripedRows,\n      stickyState,\n      selectionColumnId,\n      tableRole,\n      isExpandable,\n      setLastUserAction,\n    };\n\n    usePreventStickyClickScroll(wrapperRefObject);\n\n    const wrapperRef = useMergeRefs(wrapperRefObject, stickyState.refs.wrapper);\n    const tableRef = useMergeRefs(tableMeasureRef, tableRefObject, stickyState.refs.table);\n\n    const wrapperProps = getTableWrapperRoleProps({\n      tableRole,\n      isScrollable: !!(tableWidth && containerWidth && tableWidth > containerWidth),\n      ariaLabel: ariaLabels?.tableLabel,\n      ariaLabelledby,\n    });\n\n    const getMouseDownTarget = useMouseDownTarget();\n\n    useTableFocusNavigation({\n      enableKeyboardNavigation,\n      selectionType,\n      tableRoot: tableRefObject,\n      columnDefinitions: visibleColumnDefinitions,\n      numRows: allRows?.length,\n    });\n    const toolsHeaderPerformanceMarkRef = useRef<HTMLDivElement>(null);\n    // If is mobile, we take into consideration the AppLayout's mobile bar and we subtract the tools wrapper height so only the table header is sticky\n    const [toolsHeaderHeight, toolsHeaderWrapperMeasureRef] = useContainerQuery(rect => rect.borderBoxHeight);\n    const toolsHeaderWrapper = useMergeRefs(toolsHeaderPerformanceMarkRef, toolsHeaderWrapperMeasureRef);\n\n    const colIndexOffset = selectionType ? 1 : 0;\n    const totalColumnsCount = visibleColumnDefinitions.length + colIndexOffset;\n\n    return (\n      <LinkDefaultVariantContext.Provider value={{ defaultVariant: 'primary' }}>\n        <TableComponentsContextProvider value={{ paginationRef, filterRef, preferencesRef, headerRef }}>\n          <ColumnWidthsProvider\n            visibleColumns={visibleColumnWidthsWithSelection}\n            resizableColumns={resizableColumns}\n            containerRef={wrapperMeasureRefObject}\n          >\n            <InternalContainer\n              {...baseProps}\n              {...tableInteractionAttributes}\n              __internalRootRef={__internalRootRef}\n              className={clsx(baseProps.className, styles.root)}\n              __funnelSubStepProps={__funnelSubStepProps}\n              __fullPage={variant === 'full-page'}\n              header={\n                <>\n                  {hasHeader && (\n                    <div>\n                      <div\n                        ref={toolsHeaderWrapper}\n                        className={clsx(styles['header-controls'], styles[`variant-${computedVariant}`])}\n                      >\n                        <CollectionLabelContext.Provider value={{ assignId: setHeaderRef }}>\n                          <ToolsHeader\n                            header={header}\n                            filter={filter}\n                            pagination={pagination}\n                            preferences={preferences}\n                            setLastUserAction={setLastUserAction}\n                          />\n                        </CollectionLabelContext.Provider>\n                      </div>\n                    </div>\n                  )}\n                  {stickyHeader && (\n                    <StickyHeader\n                      ref={stickyHeaderRef}\n                      variant={computedVariant}\n                      theadProps={theadProps}\n                      wrapperRef={wrapperRefObject}\n                      theadRef={theadRef}\n                      secondaryWrapperRef={secondaryWrapperRef}\n                      tableRef={tableRefObject}\n                      onScroll={handleScroll}\n                      tableHasHeader={hasHeader}\n                      contentDensity={contentDensity}\n                      tableRole={tableRole}\n                    />\n                  )}\n                </>\n              }\n              disableHeaderPaddings={true}\n              disableContentPaddings={true}\n              disableFooterPaddings={true}\n              variant={toContainerVariant(computedVariant)}\n              __disableFooterDivider={true}\n              __disableStickyMobile={false}\n              footer={\n                hasFooter ? (\n                  <div className={clsx(styles['footer-wrapper'], styles[`variant-${computedVariant}`])}>\n                    <div className={clsx(styles.footer, hasFooterPagination && styles['footer-with-pagination'])}>\n                      {footer && <span>{footer}</span>}\n                      {hasFooterPagination && <div className={styles['footer-pagination']}>{pagination}</div>}\n                    </div>\n                  </div>\n                ) : null\n              }\n              __stickyHeader={stickyHeader}\n              __mobileStickyOffset={toolsHeaderHeight ?? 0}\n              __stickyOffset={stickyHeaderVerticalOffset}\n              {...focusMarkers.root}\n            >\n              <div\n                ref={wrapperRef}\n                className={clsx(styles.wrapper, styles[`variant-${computedVariant}`], {\n                  [styles['has-footer']]: hasFooter,\n                  [styles['has-header']]: hasHeader,\n                })}\n                style={stickyState.style.wrapper}\n                onScroll={handleScroll}\n                {...wrapperProps}\n              >\n                <div className={styles['wrapper-content-measure']} ref={wrapperMeasureMergedRef}></div>\n                {!!renderAriaLive && !!firstIndex && !loading && (\n                  <InternalLiveRegion hidden={true} tagName=\"span\">\n                    <span>\n                      {renderAriaLive({\n                        firstIndex,\n                        lastIndex: firstIndex + items.length - 1,\n                        visibleItemsCount: allItems.length,\n                        totalItemsCount,\n                      })}\n                    </span>\n                  </InternalLiveRegion>\n                )}\n                <GridNavigationProvider\n                  keyboardNavigation={!!enableKeyboardNavigation}\n                  pageSize={GRID_NAVIGATION_PAGE_SIZE}\n                  getTable={() => tableRefObject.current}\n                >\n                  <table\n                    {...performanceMarkAttributes}\n                    ref={tableRef}\n                    className={clsx(\n                      styles.table,\n                      resizableColumns && styles['table-layout-fixed'],\n                      contentDensity === 'compact' && getVisualContextClassname('compact-table')\n                    )}\n                    {...getTableRoleProps({\n                      tableRole,\n                      totalItemsCount,\n                      totalColumnsCount: totalColumnsCount,\n                      ariaLabel: ariaLabels?.tableLabel,\n                      ariaLabelledby,\n                    })}\n                  >\n                    <Thead\n                      ref={theadRef}\n                      hidden={stickyHeader}\n                      onFocusedComponentChange={focusId => stickyHeaderRef.current?.setFocus(focusId)}\n                      {...theadProps}\n                    />\n                    <tbody>\n                      {loading || allItems.length === 0 ? (\n                        <tr>\n                          <NoDataCell\n                            totalColumnsCount={totalColumnsCount}\n                            hasFooter={hasFooter}\n                            loading={loading}\n                            loadingText={loadingText}\n                            empty={empty}\n                            tableRef={tableRefObject}\n                            containerRef={wrapperMeasureRefObject}\n                          />\n                        </tr>\n                      ) : (\n                        allRows.map((row, rowIndex) => {\n                          const isFirstRow = rowIndex === 0;\n                          const isLastRow = rowIndex === allRows.length - 1;\n                          const rowExpandableProps =\n                            row.type === 'data' ? expandableRows.getExpandableItemProps(row.item) : undefined;\n                          const rowRoleProps = getTableRowRoleProps({\n                            tableRole,\n                            firstIndex,\n                            rowIndex,\n                            level: row.type === 'loader' ? row.level : undefined,\n                            ...rowExpandableProps,\n                          });\n                          const getTableItemKey = (item: T) => getItemKey(trackBy, item, rowIndex);\n                          const sharedCellProps = {\n                            isFirstRow,\n                            isLastRow,\n                            isSelected: hasSelection && isRowSelected(row),\n                            isPrevSelected: hasSelection && !isFirstRow && isRowSelected(allRows[rowIndex - 1]),\n                            isNextSelected: hasSelection && !isLastRow && isRowSelected(allRows[rowIndex + 1]),\n                            isEvenRow: rowIndex % 2 === 0,\n                            stripedRows,\n                            hasSelection,\n                            hasFooter,\n                            stickyState,\n                            tableRole,\n                          };\n                          if (row.type === 'data') {\n                            const rowId = `${getTableItemKey(row.item)}`;\n                            return (\n                              <tr\n                                key={rowId}\n                                className={clsx(styles.row, sharedCellProps.isSelected && styles['row-selected'])}\n                                onFocus={({ currentTarget }) => {\n                                  // When an element inside table row receives focus we want to adjust the scroll.\n                                  // However, that behavior is unwanted when the focus is received as result of a click\n                                  // as it causes the click to never reach the target element.\n                                  if (!currentTarget.contains(getMouseDownTarget())) {\n                                    stickyHeaderRef.current?.scrollToRow(currentTarget);\n                                  }\n                                }}\n                                {...focusMarkers.item}\n                                onClick={onRowClickHandler && onRowClickHandler.bind(null, rowIndex, row.item)}\n                                onContextMenu={\n                                  onRowContextMenuHandler && onRowContextMenuHandler.bind(null, rowIndex, row.item)\n                                }\n                                {...rowRoleProps}\n                              >\n                                {selection.getItemSelectionProps && (\n                                  <TableBodySelectionCell\n                                    {...sharedCellProps}\n                                    columnId={selectionColumnId}\n                                    selectionControlProps={{\n                                      ...selection.getItemSelectionProps(row.item),\n                                      onFocusDown: moveFocusDown,\n                                      onFocusUp: moveFocusUp,\n                                      rowIndex,\n                                      itemKey: rowId,\n                                    }}\n                                    verticalAlign={cellVerticalAlign}\n                                    tableVariant={computedVariant}\n                                  />\n                                )}\n\n                                {visibleColumnDefinitions.map((column, colIndex) => {\n                                  const colId = `${getColumnKey(column, colIndex)}`;\n                                  const cellId = { row: rowId, col: colId };\n                                  const isEditing = cellEditing.checkEditing(cellId);\n                                  const successfulEdit = cellEditing.checkLastSuccessfulEdit(cellId);\n                                  const isEditable = !!column.editConfig && !cellEditing.isLoading;\n                                  const cellExpandableProps =\n                                    isExpandable && colIndex === 0 ? rowExpandableProps : undefined;\n                                  const counter = column.counter?.({\n                                    item: row.item,\n                                    itemsCount: rowExpandableProps?.itemsCount,\n                                    selectedItemsCount: rowExpandableProps?.selectedItemsCount,\n                                  });\n\n                                  const analyticsMetadata: GeneratedAnalyticsMetadataFragment = {\n                                    component: {\n                                      innerContext: {\n                                        position: `${rowIndex + 1},${colIndex + 1}`,\n                                        columnId: column.id ? `${column.id}` : '',\n                                        columnLabel: {\n                                          selector: `table thead tr th:nth-child(${colIndex + (selectionType ? 2 : 1)})`,\n                                          root: 'component',\n                                        },\n                                        item: rowId,\n                                      } as GeneratedAnalyticsMetadataTableComponent['innerContext'],\n                                    },\n                                  };\n\n                                  return (\n                                    <TableBodyCell\n                                      key={colId}\n                                      {...sharedCellProps}\n                                      resizableStyle={{\n                                        width: column.width,\n                                        minWidth: column.minWidth,\n                                        maxWidth: column.maxWidth,\n                                      }}\n                                      ariaLabels={ariaLabels}\n                                      column={column}\n                                      item={row.item}\n                                      wrapLines={wrapLines}\n                                      isEditable={isEditable}\n                                      isEditing={isEditing}\n                                      isRowHeader={column.isRowHeader}\n                                      successfulEdit={successfulEdit}\n                                      resizableColumns={resizableColumns}\n                                      onEditStart={() => cellEditing.startEdit(cellId)}\n                                      onEditEnd={editCancelled => cellEditing.completeEdit(cellId, editCancelled)}\n                                      submitEdit={cellEditing.submitEdit}\n                                      columnId={column.id ?? colIndex}\n                                      colIndex={colIndex + colIndexOffset}\n                                      verticalAlign={column.verticalAlign ?? cellVerticalAlign}\n                                      tableVariant={computedVariant}\n                                      counter={counter}\n                                      {...cellExpandableProps}\n                                      {...getAnalyticsMetadataAttribute(analyticsMetadata)}\n                                    />\n                                  );\n                                })}\n                              </tr>\n                            );\n                          }\n                          const loaderSelectionProps =\n                            selection.getLoaderSelectionProps && selection.getLoaderSelectionProps(row.item);\n                          const rowSelection = selectionType === 'group' ? loaderSelectionProps : undefined;\n                          const loaderContent = getLoaderContent({\n                            item: row.item,\n                            loadingStatus: row.status,\n                            renderLoaderPending,\n                            renderLoaderLoading,\n                            renderLoaderError,\n                            renderLoaderEmpty,\n                          });\n                          const loaderCounter = renderLoaderCounter?.({\n                            item: row.item,\n                            loadingStatus: row.status,\n                            selected: !!rowSelection?.checked,\n                          });\n                          return (\n                            loaderContent && (\n                              <tr\n                                key={(row.item ? getTableItemKey(row.item) : 'root-' + rowIndex) + '-' + row.from}\n                                className={styles.row}\n                                {...rowRoleProps}\n                              >\n                                {selectionType ? (\n                                  <TableBodySelectionCell\n                                    {...sharedCellProps}\n                                    columnId={selectionColumnId}\n                                    verticalAlign={cellVerticalAlign}\n                                    tableVariant={computedVariant}\n                                    selectionControlProps={selectionType === 'group' ? loaderSelectionProps : undefined}\n                                    isSelected={selectionType === 'group' && !!loaderSelectionProps?.checked}\n                                  />\n                                ) : null}\n                                {visibleColumnDefinitions.map((column, colIndex) => (\n                                  <TableLoaderCell\n                                    key={getColumnKey(column, colIndex)}\n                                    {...sharedCellProps}\n                                    wrapLines={false}\n                                    columnId={column.id ?? colIndex}\n                                    colIndex={colIndex + colIndexOffset}\n                                    isSelected={selectionType === 'group' && !!loaderSelectionProps?.checked}\n                                    isRowHeader={colIndex === 0}\n                                    level={row.level}\n                                    item={row.item}\n                                    trackBy={trackBy}\n                                    counter={loaderCounter}\n                                  >\n                                    {loaderContent}\n                                  </TableLoaderCell>\n                                ))}\n                              </tr>\n                            )\n                          );\n                        })\n                      )}\n                    </tbody>\n                  </table>\n                </GridNavigationProvider>\n\n                {resizableColumns && <ResizeTracker />}\n              </div>\n\n              <StickyScrollbar\n                ref={scrollbarRef}\n                wrapperRef={wrapperRefObject}\n                tableRef={tableRefObject}\n                onScroll={handleScroll}\n                hasStickyColumns={hasStickyColumns}\n              />\n            </InternalContainer>\n          </ColumnWidthsProvider>\n        </TableComponentsContextProvider>\n      </LinkDefaultVariantContext.Provider>\n    );\n  }\n) as TableForwardRefType;\n\nexport default InternalTable;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useRef } from 'react';\n\nimport { createSingletonHandler } from '@cloudscape-design/component-toolkit/internal';\n\nconst useEventListenersSingleton = createSingletonHandler<Node | null>(setTarget => {\n  function handleMouseDown(event: MouseEvent) {\n    setTarget(event.target as Node);\n  }\n  function handleKeyDown() {\n    setTarget(null);\n  }\n  const controller = new AbortController();\n  window.addEventListener('mousedown', handleMouseDown, { signal: controller.signal });\n  window.addEventListener('keydown', handleKeyDown, { signal: controller.signal });\n  return () => {\n    controller.abort();\n  };\n});\n\n/**\n * Captures last mouse down target and clears it on keydown.\n * @returns a callback to get the last detected mouse down target.\n */\nexport default function useMouseDownTarget() {\n  const mouseDownTargetRef = useRef<null | Node>(null);\n  useEventListenersSingleton(target => {\n    mouseDownTargetRef.current = target;\n  });\n  return () => mouseDownTargetRef.current;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { RefObject, useRef } from 'react';\n\n/**\n * useScrollSync returns scroll event handler to be attached to synchronized scroll elements.\n *\n * For example\n *    const handleScroll = useScrollSync([ref1, ref2]);\n *    <div ref={ref1} onScroll={handleScroll}/>\n *    <div ref={ref2} onScroll={handleScroll}/>\n */\nexport function useScrollSync(refs: Array<RefObject<any>>) {\n  const activeElement = useRef<HTMLElement | null>(null);\n\n  return (event: React.UIEvent) => {\n    const targetElement = event.currentTarget as HTMLElement;\n    // remembers the first element that fires onscroll to align with other elements against it\n    if (targetElement && (activeElement.current === null || activeElement.current === targetElement)) {\n      requestAnimationFrame(() => {\n        activeElement.current = targetElement;\n        refs.forEach(ref => {\n          const element = ref.current;\n          if (element && element !== targetElement) {\n            element.scrollLeft = targetElement.scrollLeft;\n          }\n        });\n        // unblock the ability to scroll the synced elements\n        requestAnimationFrame(() => {\n          activeElement.current = null;\n        });\n      });\n    }\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useEffect, useRef } from 'react';\n\nimport { useRandomId } from '@cloudscape-design/component-toolkit/internal';\n\nimport { ComponentMetrics, PerformanceMetrics } from '../../analytics';\nimport { useFunnel } from '../../analytics/hooks/use-funnel';\nimport { JSONObject } from '../../analytics/interfaces';\nimport { useDebounceCallback } from '../use-debounce-callback';\nimport { useDOMAttribute } from '../use-dom-attribute';\nimport { useEffectOnUpdate } from '../use-effect-on-update';\n\n/*\nIf the last user interaction is more than this time ago, it is not considered\nto be the cause of the current loading state.\n*/\nconst USER_ACTION_TIME_LIMIT = 1_000;\n\nexport interface UseTableInteractionMetricsProps<T> {\n  elementRef: React.RefObject<HTMLElement>;\n  instanceIdentifier: string | undefined;\n  loading: boolean | undefined;\n  items: readonly T[];\n  itemCount: number;\n  getComponentIdentifier: () => string | undefined;\n  getComponentConfiguration: () => JSONObject;\n  interactionMetadata: () => string;\n}\n\nexport function useTableInteractionMetrics<T>({\n  elementRef,\n  items,\n  itemCount,\n  instanceIdentifier,\n  getComponentIdentifier,\n  getComponentConfiguration,\n  loading = false,\n  interactionMetadata,\n}: UseTableInteractionMetricsProps<T>) {\n  const taskInteractionId = useRandomId();\n  const tableInteractionAttributes = useDOMAttribute(\n    elementRef,\n    'data-analytics-task-interaction-id',\n    taskInteractionId\n  );\n  const { isInFunnel } = useFunnel();\n  const lastUserAction = useRef<{ name: string; time: number } | null>(null);\n  const capturedUserAction = useRef<string | null>(null);\n  const loadingStartTime = useRef<number | null>(null);\n  const isMountedRef = useRef(true);\n\n  const metadata = useRef({ itemCount, getComponentIdentifier, getComponentConfiguration, interactionMetadata });\n  metadata.current = { itemCount, getComponentIdentifier, getComponentConfiguration, interactionMetadata };\n\n  useEffect(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isInFunnel) {\n      return;\n    }\n\n    ComponentMetrics.componentMounted({\n      taskInteractionId,\n      componentName: 'table',\n      componentConfiguration: metadata.current.getComponentConfiguration(),\n    });\n  }, [taskInteractionId, isInFunnel]);\n\n  useEffect(() => {\n    if (loading) {\n      loadingStartTime.current = performance.now();\n\n      if (lastUserAction.current && lastUserAction.current.time > performance.now() - USER_ACTION_TIME_LIMIT) {\n        capturedUserAction.current = lastUserAction.current.name;\n      } else {\n        capturedUserAction.current = null;\n      }\n    }\n  }, [loading]);\n\n  useEffectOnUpdate(() => {\n    if (!loading && loadingStartTime.current !== null) {\n      const loadingDuration = performance.now() - loadingStartTime.current;\n      loadingStartTime.current = null;\n\n      PerformanceMetrics.tableInteraction({\n        userAction: capturedUserAction.current ?? '',\n        interactionTime: Math.round(loadingDuration),\n        interactionMetadata: metadata.current.interactionMetadata(),\n        componentIdentifier: metadata.current.getComponentIdentifier(),\n        instanceIdentifier,\n        noOfResourcesInTable: metadata.current.itemCount,\n      });\n    }\n  }, [instanceIdentifier, loading, taskInteractionId, isInFunnel]);\n\n  const debouncedUpdated = useDebounceCallback(() => {\n    if (!isMountedRef.current) {\n      return;\n    }\n    ComponentMetrics.componentUpdated({\n      taskInteractionId,\n      componentName: 'table',\n      actionType: lastUserAction.current?.name ?? '',\n      componentConfiguration: metadata.current.getComponentConfiguration(),\n    });\n  });\n\n  useEffectOnUpdate(() => {\n    if (isInFunnel || loading) {\n      return;\n    }\n\n    debouncedUpdated();\n    // Note: items used as a dependency here to trigger updates as a side effect\n  }, [taskInteractionId, isInFunnel, loading, items, debouncedUpdated]);\n\n  return {\n    tableInteractionAttributes,\n    setLastUserAction: (name: string) => void (lastUserAction.current = { name, time: performance.now() }),\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { useSingleTabStopNavigation } from '@cloudscape-design/component-toolkit/internal';\n\nimport { useInternalI18n } from '../../i18n/context';\nimport Icon from '../../icon/internal';\nimport { usePrevious } from '../../internal/hooks/use-previous';\nimport InternalLiveRegion from '../../live-region/internal';\nimport { TableProps } from '../interfaces';\nimport { DisabledInlineEditor } from './disabled-inline-editor';\nimport { InlineEditor } from './inline-editor';\nimport { TableTdElement, TableTdElementProps } from './td-element';\n\nimport styles from './styles.css.js';\n\nconst submitHandlerFallback = () => {\n  throw new Error('The function `handleSubmit` is required for editable columns');\n};\n\nexport interface TableBodyCellProps<ItemType> extends TableTdElementProps {\n  column: TableProps.ColumnDefinition<ItemType>;\n  item: ItemType;\n  successfulEdit?: boolean;\n  onEditStart: () => void;\n  onEditEnd: (cancelled: boolean) => void;\n  submitEdit?: TableProps.SubmitEditFunction<ItemType>;\n  ariaLabels: TableProps['ariaLabels'];\n}\n\nfunction TableCellEditable<ItemType>({\n  item,\n  column,\n  isEditing,\n  onEditStart,\n  onEditEnd,\n  submitEdit,\n  ariaLabels,\n  successfulEdit = false,\n  ...rest\n}: TableBodyCellProps<ItemType>) {\n  const i18n = useInternalI18n('table');\n  const editActivateRef = useRef<HTMLButtonElement>(null);\n  const tdNativeAttributes = {\n    'data-inline-editing-active': isEditing.toString(),\n  };\n  const isFocusMoveNeededRef = useRef(false);\n  const isExpandableColumn = rest.level !== undefined;\n\n  useEffect(() => {\n    if (!isEditing && editActivateRef.current && isFocusMoveNeededRef.current) {\n      isFocusMoveNeededRef.current = false;\n      editActivateRef.current.focus();\n    }\n  }, [isEditing]);\n  // To improve the initial page render performance we only show the edit icon when necessary.\n  const [hasFocus, setHasFocus] = useState(false);\n\n  const prevSuccessfulEdit = usePrevious(successfulEdit);\n  const prevHasFocus = usePrevious(hasFocus);\n  const [showSuccessIcon, setShowSuccessIcon] = useState(false);\n\n  useEffect(() => {\n    // Hide the success icon after a successful edit, when cell loses focus.\n    if (successfulEdit && prevSuccessfulEdit && !hasFocus && prevHasFocus) {\n      setShowSuccessIcon(false);\n    }\n    // Show success icon right after a successful edit, when `successfulEdit` switches to true.\n    if (successfulEdit && !prevSuccessfulEdit) {\n      setShowSuccessIcon(true);\n    }\n  }, [hasFocus, successfulEdit, prevHasFocus, prevSuccessfulEdit]);\n\n  const { tabIndex: editActivateTabIndex } = useSingleTabStopNavigation(editActivateRef);\n\n  return (\n    <TableTdElement\n      {...rest}\n      nativeAttributes={tdNativeAttributes as TableTdElementProps['nativeAttributes']}\n      isEditing={isEditing}\n      hasSuccessIcon={showSuccessIcon && hasFocus}\n      onClick={!isEditing && !isExpandableColumn ? onEditStart : undefined}\n      onFocus={() => setHasFocus(true)}\n      onBlur={() => setHasFocus(false)}\n    >\n      {isEditing && column.editConfig ? (\n        <InlineEditor\n          ariaLabels={ariaLabels}\n          column={column}\n          item={item}\n          onEditEnd={options => {\n            setShowSuccessIcon(false);\n            isFocusMoveNeededRef.current = options.refocusCell;\n            onEditEnd(options.cancelled);\n          }}\n          submitEdit={submitEdit ?? submitHandlerFallback}\n        />\n      ) : (\n        <>\n          {column.cell(item)}\n\n          {showSuccessIcon && hasFocus && (\n            <>\n              <span\n                className={styles['body-cell-success']}\n                onMouseDown={e => {\n                  // Prevent the editor's Button blur event to be fired when clicking the success icon.\n                  // This prevents unfocusing the button and triggers the `TableTdElement` onClick event which initiates the edit mode.\n                  e.preventDefault();\n                }}\n              >\n                <Icon name=\"status-positive\" variant=\"success\" ariaLabel={ariaLabels?.successfulEditLabel?.(column)} />\n              </span>\n              <InternalLiveRegion tagName=\"span\" hidden={true}>\n                {i18n('ariaLabels.successfulEditLabel', ariaLabels?.successfulEditLabel?.(column))}\n              </InternalLiveRegion>\n            </>\n          )}\n\n          <div className={styles['body-cell-editor-wrapper']}>\n            <button\n              className={clsx(styles['body-cell-editor'], isExpandableColumn && styles['body-cell-editor-focusable'])}\n              aria-label={ariaLabels?.activateEditLabel?.(column, item)}\n              ref={editActivateRef}\n              onClick={!isEditing && isExpandableColumn ? onEditStart : undefined}\n              tabIndex={editActivateTabIndex}\n            >\n              <span className={styles['body-cell-editor-icon']}>\n                <Icon name=\"edit\" />\n              </span>\n            </button>\n          </div>\n        </>\n      )}\n    </TableTdElement>\n  );\n}\n\nexport function TableBodyCell<ItemType>(props: TableBodyCellProps<ItemType>) {\n  const editDisabledReason = props.column.editConfig?.disabledReason?.(props.item);\n\n  // Inline editing is deactivated for expandable column because editable cells are interactive\n  // and cannot include interactive content such as expand toggles.\n  if (editDisabledReason) {\n    return <DisabledInlineEditor editDisabledReason={editDisabledReason} {...props} />;\n  }\n  if (props.isEditable || props.isEditing) {\n    return <TableCellEditable {...props} />;\n  }\n\n  const { column, item } = props;\n  return (\n    <TableTdElement {...props} isEditable={false}>\n      {column.cell(item)}\n    </TableTdElement>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { Portal } from '@cloudscape-design/component-toolkit/internal';\nimport { useSingleTabStopNavigation } from '@cloudscape-design/component-toolkit/internal';\n\nimport Icon from '../../icon/internal';\nimport useHiddenDescription from '../../internal/hooks/use-hidden-description';\nimport { usePortalModeClasses } from '../../internal/hooks/use-portal-mode-classes';\nimport InternalLiveRegion from '../../live-region/internal';\nimport Arrow from '../../popover/arrow';\nimport PopoverBody from '../../popover/body';\nimport PopoverContainer from '../../popover/container';\nimport { useClickAway } from './click-away';\nimport { TableBodyCellProps } from './index';\nimport { TableTdElement, TableTdElementProps } from './td-element';\n\nimport styles from './styles.css.js';\n\ninterface DisabledInlineEditorProps<ItemType> extends TableBodyCellProps<ItemType> {\n  editDisabledReason: string;\n}\n\nexport function DisabledInlineEditor<ItemType>({\n  item,\n  column,\n  ariaLabels,\n  isEditing,\n  onEditStart,\n  onEditEnd,\n  editDisabledReason,\n  ...rest\n}: DisabledInlineEditorProps<ItemType>) {\n  const isExpandableColumn = rest.level !== undefined;\n  const clickAwayRef = useClickAway(() => {\n    if (isEditing) {\n      onEditEnd(true);\n    }\n  });\n\n  const iconRef = useRef(null);\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const portalRef = useRef<HTMLSpanElement>(null);\n\n  function handleEscape(event: React.KeyboardEvent): void {\n    if (event.key === 'Escape') {\n      onEditEnd(true);\n    }\n  }\n\n  const onClick = () => {\n    onEditStart();\n    buttonRef.current?.focus();\n  };\n\n  const { targetProps, descriptionEl } = useHiddenDescription(editDisabledReason);\n  const portalClasses = usePortalModeClasses(portalRef);\n\n  const { tabIndex } = useSingleTabStopNavigation(buttonRef);\n\n  return (\n    <TableTdElement\n      {...rest}\n      nativeAttributes={\n        { 'data-inline-editing-active': isEditing.toString() } as TableTdElementProps['nativeAttributes']\n      }\n      isEditing={isEditing}\n      isEditingDisabled={true}\n      onClick={!isEditing && !isExpandableColumn ? onClick : undefined}\n      ref={!isExpandableColumn ? clickAwayRef : undefined}\n    >\n      {column.cell(item)}\n\n      <div className={styles['body-cell-editor-wrapper']}>\n        <div ref={isExpandableColumn ? clickAwayRef : undefined}>\n          <button\n            ref={buttonRef}\n            tabIndex={tabIndex}\n            className={clsx(\n              styles['body-cell-editor'],\n              styles['body-cell-editor-disabled'],\n              isExpandableColumn && styles['body-cell-editor-focusable']\n            )}\n            onClick={!isEditing && isExpandableColumn ? onClick : undefined}\n            aria-label={ariaLabels?.activateEditLabel?.(column, item)}\n            aria-haspopup=\"dialog\"\n            aria-disabled=\"true\"\n            onKeyDown={handleEscape}\n            {...targetProps}\n          >\n            <span className={styles['body-cell-editor-icon']}>\n              <Icon name=\"lock-private\" variant=\"normal\" __internalRootRef={iconRef} />\n            </span>\n            {descriptionEl}\n          </button>\n        </div>\n      </div>\n\n      {isEditing && (\n        <span ref={portalRef}>\n          <Portal>\n            <span className={portalClasses}>\n              <PopoverContainer\n                size=\"medium\"\n                fixedWidth={false}\n                position=\"top\"\n                trackRef={iconRef}\n                arrow={position => <Arrow position={position} />}\n                renderWithPortal={true}\n                zIndex={7000} // When used in portal we need z-index to be higher than modal's\n              >\n                <PopoverBody\n                  dismissButton={false}\n                  dismissAriaLabel={undefined}\n                  header={null}\n                  onDismiss={() => {}}\n                  overflowVisible=\"both\"\n                >\n                  <InternalLiveRegion tagName=\"span\">{editDisabledReason}</InternalLiveRegion>\n                </PopoverBody>\n              </PopoverContainer>\n            </span>\n          </Portal>\n        </span>\n      )}\n    </TableTdElement>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useRef } from 'react';\n\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\n\nimport { nodeBelongs } from '../../internal/utils/node-belongs';\n\nexport function useClickAway(onClick: () => void) {\n  const awayRef = useRef<any>(null);\n  const onClickStable = useStableCallback(onClick);\n  useEffect(() => {\n    function handleClick(event: Event) {\n      if (!nodeBelongs(awayRef.current, event.target as HTMLElement)) {\n        onClickStable();\n      }\n    }\n    // contains returns wrong result if the next render would remove the element\n    // but capture phase happens before the render, so returns correct result\n    // Ref: https://github.com/facebook/react/issues/20325\n    document.addEventListener('click', handleClick, { capture: true });\n    return () => document.removeEventListener('click', handleClick, { capture: true });\n  }, [onClickStable]);\n  return awayRef;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useMergeRefs } from '@cloudscape-design/component-toolkit/internal';\nimport { useSingleTabStopNavigation } from '@cloudscape-design/component-toolkit/internal';\nimport { copyAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport { ExpandToggleButton } from '../../internal/components/expand-toggle-button';\nimport { useVisualRefresh } from '../../internal/hooks/use-visual-mode';\nimport { ColumnWidthStyle } from '../column-widths-utils';\nimport { TableProps } from '../interfaces.js';\nimport { StickyColumnsModel, useStickyCellStyles } from '../sticky-columns';\nimport { getTableCellRoleProps, TableRole } from '../table-role';\nimport { getStickyClassNames } from '../utils';\n\nimport tableStyles from '../styles.css.js';\nimport testUtilStyles from '../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\nexport interface TableTdElementProps {\n  wrapLines: boolean | undefined;\n  isRowHeader?: boolean;\n  isFirstRow: boolean;\n  isLastRow: boolean;\n  isSelected: boolean;\n  isNextSelected: boolean;\n  isPrevSelected: boolean;\n  nativeAttributes?: Omit<\n    React.TdHTMLAttributes<HTMLTableCellElement> | React.ThHTMLAttributes<HTMLTableCellElement>,\n    'style' | 'className' | 'onClick'\n  >;\n  onClick?: () => void;\n  onFocus?: () => void;\n  onBlur?: () => void;\n  children?: React.ReactNode;\n  isEvenRow?: boolean;\n  stripedRows?: boolean;\n  isSelection?: boolean;\n  hasSelection?: boolean;\n  hasFooter?: boolean;\n  columnId: PropertyKey;\n  colIndex: number;\n  stickyState: StickyColumnsModel;\n  tableRole: TableRole;\n  level?: number;\n  isExpandable?: boolean;\n  isExpanded?: boolean;\n  onExpandableItemToggle?: () => void;\n  expandButtonLabel?: string;\n  collapseButtonLabel?: string;\n  verticalAlign?: TableProps.VerticalAlign;\n  resizableColumns?: boolean;\n  resizableStyle?: ColumnWidthStyle;\n  isEditable: boolean;\n  isEditing: boolean;\n  isEditingDisabled?: boolean;\n  hasSuccessIcon?: boolean;\n  tableVariant?: string;\n  counter?: React.ReactNode;\n}\n\nexport const TableTdElement = React.forwardRef<HTMLTableCellElement, TableTdElementProps>(\n  (\n    {\n      children,\n      wrapLines,\n      isRowHeader,\n      isFirstRow,\n      isLastRow,\n      isSelected,\n      isNextSelected,\n      isPrevSelected,\n      nativeAttributes,\n      onClick,\n      onFocus,\n      onBlur,\n      isEvenRow,\n      stripedRows,\n      isSelection,\n      hasSelection,\n      hasFooter,\n      columnId,\n      colIndex,\n      stickyState,\n      tableRole,\n      level,\n      isExpandable,\n      isExpanded,\n      onExpandableItemToggle,\n      expandButtonLabel,\n      collapseButtonLabel,\n      verticalAlign,\n      resizableColumns,\n      resizableStyle,\n      isEditable,\n      isEditing,\n      isEditingDisabled,\n      hasSuccessIcon,\n      tableVariant,\n      counter,\n      ...rest\n    },\n    ref\n  ) => {\n    const Element = isRowHeader ? 'th' : 'td';\n    const isVisualRefresh = useVisualRefresh();\n\n    resizableStyle = resizableColumns ? {} : resizableStyle;\n\n    nativeAttributes = { ...nativeAttributes, ...getTableCellRoleProps({ tableRole, isRowHeader, colIndex }) };\n\n    const stickyStyles = useStickyCellStyles({\n      stickyColumns: stickyState,\n      columnId,\n      getClassName: props => getStickyClassNames(styles, props),\n    });\n\n    const cellRefObject = useRef<HTMLTableCellElement>(null);\n    const mergedRef = useMergeRefs(stickyStyles.ref, ref, cellRefObject);\n    const { tabIndex: cellTabIndex } = useSingleTabStopNavigation(cellRefObject);\n    const isEditingActive = isEditing && !isEditingDisabled;\n\n    return (\n      <Element\n        style={{ ...resizableStyle, ...stickyStyles.style }}\n        className={clsx(\n          styles['body-cell'],\n          isFirstRow && styles['body-cell-first-row'],\n          isLastRow && styles['body-cell-last-row'],\n          isSelected && styles['body-cell-selected'],\n          isNextSelected && styles['body-cell-next-selected'],\n          isPrevSelected && styles['body-cell-prev-selected'],\n          !isEvenRow && stripedRows && styles['body-cell-shaded'],\n          stripedRows && styles['has-striped-rows'],\n          isVisualRefresh && styles['is-visual-refresh'],\n          isSelection && tableStyles['selection-control'],\n          hasSelection && styles['has-selection'],\n          hasFooter && styles['has-footer'],\n          resizableColumns && styles['resizable-columns'],\n          verticalAlign === 'top' && styles['body-cell-align-top'],\n          isEditable && styles['body-cell-editable'],\n          isEditing && !isEditingDisabled && styles['body-cell-edit-active'],\n          isEditing && isEditingDisabled && styles['body-cell-edit-disabled-popover'],\n          hasSuccessIcon && styles['body-cell-has-success'],\n          level !== undefined && !isEditingActive && styles['body-cell-expandable'],\n          level !== undefined && !isEditingActive && styles[`expandable-level-${getLevelClassSuffix(level)}`],\n          tableVariant && styles[`table-variant-${tableVariant}`],\n          stickyStyles.className\n        )}\n        onClick={onClick}\n        onFocus={onFocus}\n        onBlur={onBlur}\n        ref={mergedRef}\n        {...nativeAttributes}\n        tabIndex={cellTabIndex === -1 ? undefined : cellTabIndex}\n        {...copyAnalyticsMetadataAttribute(rest)}\n      >\n        {level !== undefined && isExpandable && !isEditingActive && (\n          <div className={styles['expandable-toggle-wrapper']}>\n            <ExpandToggleButton\n              isExpanded={isExpanded}\n              onExpandableItemToggle={onExpandableItemToggle}\n              expandButtonLabel={expandButtonLabel}\n              collapseButtonLabel={collapseButtonLabel}\n            />\n          </div>\n        )}\n\n        <div className={clsx(styles['body-cell-content'], wrapLines && styles['body-cell-wrap'])}>\n          {children}\n          {counter ? (\n            <div className={styles['body-cell-counter']}>\n              {' '}\n              <span className={testUtilStyles['body-cell-counter']}>{counter}</span>\n            </div>\n          ) : null}\n        </div>\n      </Element>\n    );\n  }\n);\n\nfunction getLevelClassSuffix(level: number) {\n  return 0 <= level && level <= 9 ? level : 'next';\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useSingleTabStopNavigation } from '@cloudscape-design/component-toolkit/internal';\n\nimport InternalIcon from '../../../icon/internal';\n\nimport styles from './styles.css.js';\n\nexport function ExpandToggleButton({\n  isExpanded,\n  onExpandableItemToggle,\n  expandButtonLabel,\n  collapseButtonLabel,\n  customIcon,\n  className,\n  disableFocusHighlight,\n}: {\n  isExpanded?: boolean;\n  onExpandableItemToggle?: () => void;\n  expandButtonLabel?: string;\n  collapseButtonLabel?: string;\n  customIcon?: React.ReactNode;\n  className?: string;\n  disableFocusHighlight?: boolean;\n}) {\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const { tabIndex } = useSingleTabStopNavigation(buttonRef);\n\n  return (\n    <button\n      type=\"button\"\n      ref={buttonRef}\n      tabIndex={tabIndex}\n      aria-label={isExpanded ? collapseButtonLabel : expandButtonLabel}\n      aria-expanded={isExpanded}\n      className={clsx(styles['expand-toggle'], disableFocusHighlight && styles['disable-focus-highlight'], className)}\n      onClick={onExpandableItemToggle}\n    >\n      {customIcon ?? (\n        <InternalIcon\n          size=\"small\"\n          name=\"caret-down-filled\"\n          className={clsx(styles['expand-toggle-icon'], isExpanded && styles['expand-toggle-icon-expanded'])}\n        />\n      )}\n    </button>\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"expand-toggle-icon\": \"awsui_expand-toggle-icon_1xe88_1hyl4_153\",\n  \"expand-toggle-icon-expanded\": \"awsui_expand-toggle-icon-expanded_1xe88_1hyl4_174\",\n  \"expand-toggle\": \"awsui_expand-toggle_1xe88_1hyl4_153\",\n  \"disable-focus-highlight\": \"awsui_disable-focus-highlight_1xe88_1hyl4_225\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useCallback, useEffect, useMemo, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useResizeObserver, useStableCallback } from '@cloudscape-design/component-toolkit/internal';\nimport { getLogicalBoundingClientRect, getScrollInlineStart } from '@cloudscape-design/component-toolkit/internal';\n\nimport AsyncStore, { ReadonlyAsyncStore } from '../../area-chart/async-store';\nimport {\n  CellOffsets,\n  StickyColumnsCellState,\n  StickyColumnsProps,\n  StickyColumnsState,\n  StickyColumnsWrapperState,\n} from './interfaces';\nimport { isCellStatesEqual, isWrapperStatesEqual, updateCellOffsets } from './utils';\n\n// We allow the table to have a minimum of 148px of available space besides the sum of the widths of the sticky columns\n// This value is an UX recommendation and is approximately 1/3 of our smallest breakpoint (465px)\nconst MINIMUM_SCROLLABLE_SPACE = 148;\n\nexport interface StickyColumnsModel {\n  store: ReadonlyAsyncStore<StickyColumnsState>;\n  style: {\n    wrapper?: React.CSSProperties;\n  };\n  refs: {\n    table: React.RefCallback<HTMLElement>;\n    wrapper: React.RefCallback<HTMLElement>;\n    cell: (columnId: PropertyKey, node: null | HTMLElement) => void;\n  };\n}\n\nexport function useStickyColumns({\n  visibleColumns,\n  stickyColumnsFirst,\n  stickyColumnsLast,\n}: StickyColumnsProps): StickyColumnsModel {\n  const store = useMemo(() => new StickyColumnsStore(), []);\n  const wrapperRef = useRef<HTMLElement>(null) as React.MutableRefObject<null | HTMLElement>;\n  const tableRef = useRef<HTMLElement>(null) as React.MutableRefObject<null | HTMLElement>;\n  const cellsRef = useRef(new Map<PropertyKey, HTMLElement>());\n\n  const hasStickyColumns = stickyColumnsFirst + stickyColumnsLast > 0;\n\n  const updateStickyStyles = useStableCallback(() => {\n    if (wrapperRef.current && tableRef.current) {\n      store.updateCellStyles({\n        wrapper: wrapperRef.current,\n        table: tableRef.current,\n        cells: cellsRef.current,\n        visibleColumns,\n        stickyColumnsFirst,\n        stickyColumnsLast,\n      });\n    }\n  });\n\n  useResizeObserver(wrapperRef, updateStickyStyles);\n\n  useResizeObserver(tableRef, updateStickyStyles);\n\n  useEffect(() => {\n    if (wrapperRef.current && tableRef.current) {\n      store.updateCellStyles({\n        wrapper: wrapperRef.current,\n        table: tableRef.current,\n        cells: cellsRef.current,\n        visibleColumns,\n        stickyColumnsFirst,\n        stickyColumnsLast,\n      });\n    }\n  }, [store, stickyColumnsFirst, stickyColumnsLast, visibleColumns]);\n\n  // Update wrapper styles imperatively to avoid unnecessary re-renders.\n  useEffect(() => {\n    if (!hasStickyColumns) {\n      return;\n    }\n\n    const selector = (state: StickyColumnsState) => state.wrapperState;\n\n    const updateWrapperStyles = (state: StickyColumnsWrapperState, prev: StickyColumnsWrapperState) => {\n      if (isWrapperStatesEqual(state, prev)) {\n        return;\n      }\n\n      if (wrapperRef.current) {\n        wrapperRef.current.style.scrollPaddingInlineStart = state.scrollPaddingInlineStart + 'px';\n        wrapperRef.current.style.scrollPaddingInlineEnd = state.scrollPaddingInlineEnd + 'px';\n      }\n    };\n\n    const unsubscribe = store.subscribe(selector, (newState, prevState) =>\n      updateWrapperStyles(selector(newState), selector(prevState))\n    );\n    return unsubscribe;\n  }, [store, hasStickyColumns]);\n\n  const setWrapper = useCallback(\n    (node: null | HTMLElement) => {\n      if (wrapperRef.current) {\n        wrapperRef.current.removeEventListener('scroll', updateStickyStyles);\n      }\n      if (node && hasStickyColumns) {\n        node.addEventListener('scroll', updateStickyStyles);\n      }\n      wrapperRef.current = node;\n    },\n    [hasStickyColumns, updateStickyStyles]\n  );\n\n  const setTable = useCallback((node: null | HTMLElement) => {\n    tableRef.current = node;\n  }, []);\n\n  const setCell = useCallback((columnId: PropertyKey, node: null | HTMLElement) => {\n    if (node) {\n      cellsRef.current.set(columnId, node);\n    } else {\n      cellsRef.current.delete(columnId);\n    }\n  }, []);\n\n  return {\n    store,\n    style: {\n      // Provide wrapper styles as props so that a re-render won't cause invalidation.\n      wrapper: hasStickyColumns ? { ...store.get().wrapperState } : undefined,\n    },\n    refs: { wrapper: setWrapper, table: setTable, cell: setCell },\n  };\n}\n\ninterface UseStickyCellStylesProps {\n  stickyColumns: StickyColumnsModel;\n  columnId: PropertyKey;\n  getClassName: (styles: null | StickyColumnsCellState) => Record<string, boolean>;\n}\n\ninterface StickyCellStyles {\n  ref: React.RefCallback<HTMLElement>;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nexport function useStickyCellStyles({\n  stickyColumns,\n  columnId,\n  getClassName,\n}: UseStickyCellStylesProps): StickyCellStyles {\n  const setCell = stickyColumns.refs.cell;\n\n  // unsubscribeRef to hold the function to unsubscribe from the store's updates\n  const unsubscribeRef = useRef<null | (() => void)>(null);\n\n  // refCallback updates the cell ref and sets up the store subscription\n  const refCallback = useCallback(\n    (cellElement: null | HTMLElement) => {\n      if (unsubscribeRef.current) {\n        // Unsubscribe before we do any updates to avoid leaving any subscriptions hanging\n        unsubscribeRef.current();\n      }\n\n      // Update cellRef and the store's state to point to the new DOM node\n      setCell(columnId, cellElement);\n\n      // Update cell styles imperatively to avoid unnecessary re-renders.\n      const selector = (state: StickyColumnsState) => state.cellState.get(columnId) ?? null;\n\n      const updateCellStyles = (state: null | StickyColumnsCellState, prev: null | StickyColumnsCellState) => {\n        if (isCellStatesEqual(state, prev)) {\n          return;\n        }\n\n        const className = getClassName(state);\n        if (cellElement) {\n          Object.keys(className).forEach(key => {\n            if (className[key]) {\n              cellElement.classList.add(key);\n            } else {\n              cellElement.classList.remove(key);\n            }\n          });\n          cellElement.style.insetInlineStart =\n            state?.offset.insetInlineStart !== undefined ? `${state.offset.insetInlineStart}px` : '';\n          cellElement.style.insetInlineEnd =\n            state?.offset.insetInlineEnd !== undefined ? `${state.offset.insetInlineEnd}px` : '';\n        }\n      };\n\n      // If the node is not null (i.e., the table cell is being mounted or updated, not unmounted),\n      // set up a new subscription to the store's updates\n      if (cellElement) {\n        unsubscribeRef.current = stickyColumns.store.subscribe(selector, (newState, prevState) => {\n          updateCellStyles(selector(newState), selector(prevState));\n        });\n      }\n    },\n\n    // getClassName is expected to be pure\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [columnId, setCell, stickyColumns.store]\n  );\n\n  // Provide cell styles as props so that a re-render won't cause invalidation.\n  const cellStyles = stickyColumns.store.get().cellState.get(columnId);\n  return {\n    ref: refCallback,\n    className: cellStyles ? clsx(getClassName(cellStyles)) : undefined,\n    style: cellStyles?.offset ?? undefined,\n  };\n}\n\ninterface UpdateCellStylesProps {\n  wrapper: HTMLElement;\n  table: HTMLElement;\n  cells: Map<PropertyKey, HTMLElement>;\n  visibleColumns: readonly PropertyKey[];\n  stickyColumnsFirst: number;\n  stickyColumnsLast: number;\n}\n\nclass StickyColumnsStore extends AsyncStore<StickyColumnsState> {\n  private cellOffsets: CellOffsets = {\n    offsets: new Map(),\n    stickyWidthInlineStart: 0,\n    stickyWidthInlineEnd: 0,\n  };\n  private isStuckToTheInlineStart = false;\n  private isStuckToTheInlineEnd = false;\n  private padInlineStart = false;\n\n  constructor() {\n    super({ cellState: new Map(), wrapperState: { scrollPaddingInlineStart: 0, scrollPaddingInlineEnd: 0 } });\n  }\n\n  public updateCellStyles(props: UpdateCellStylesProps) {\n    const hasStickyColumns = props.stickyColumnsFirst + props.stickyColumnsLast > 0;\n    const hadStickyColumns = this.cellOffsets.offsets.size > 0;\n\n    if (hasStickyColumns || hadStickyColumns) {\n      this.updateScroll(props);\n      this.updateCellOffsets(props);\n      this.set(() => ({\n        cellState: this.generateCellStyles(props),\n        wrapperState: {\n          scrollPaddingInlineStart: this.cellOffsets.stickyWidthInlineStart,\n          scrollPaddingInlineEnd: this.cellOffsets.stickyWidthInlineEnd,\n        },\n      }));\n    }\n  }\n\n  private updateScroll(props: UpdateCellStylesProps) {\n    const wrapperScrollInlineStart = getScrollInlineStart(props.wrapper);\n    const wrapperScrollWidth = props.wrapper.scrollWidth;\n    const wrapperClientWidth = props.wrapper.clientWidth;\n    const tablePaddingInlineStart = parseFloat(getComputedStyle(props.table).paddingInlineStart) || 0;\n    const tablePaddingInlineEnd = parseFloat(getComputedStyle(props.table).paddingInlineEnd) || 0;\n\n    this.isStuckToTheInlineStart = wrapperScrollInlineStart > tablePaddingInlineStart;\n\n    // Math.ceil() is used here to address an edge-case in certain browsers, where they return non-integer wrapperScrollInlineStart values\n    // which are lower than expected (sub-pixel difference), resulting in the table always being in the \"stuck to the right\" state\n    this.isStuckToTheInlineEnd =\n      Math.ceil(wrapperScrollInlineStart) < wrapperScrollWidth - wrapperClientWidth - tablePaddingInlineEnd;\n\n    this.padInlineStart = tablePaddingInlineStart !== 0 && this.isStuckToTheInlineStart;\n  }\n\n  private generateCellStyles = (props: UpdateCellStylesProps): Map<PropertyKey, StickyColumnsCellState> => {\n    const isEnabled = this.isEnabled(props);\n    const lastLeftStickyColumnIndex = props.stickyColumnsFirst - 1;\n    const lastRightStickyColumnIndex = props.visibleColumns.length - props.stickyColumnsLast;\n\n    return props.visibleColumns.reduce((acc, columnId, index) => {\n      let stickySide = 'non-sticky';\n      if (index < props.stickyColumnsFirst) {\n        stickySide = 'inline-start';\n      } else if (index >= props.visibleColumns.length - props.stickyColumnsLast) {\n        stickySide = 'inline-end';\n      }\n\n      if (!isEnabled || stickySide === 'non-sticky') {\n        return acc;\n      }\n\n      // Determine the offset of the sticky column using the `cellOffsets` state object\n      const isFirstColumn = index === 0;\n      const stickyColumnOffsetLeft = this.cellOffsets.offsets.get(columnId)?.first ?? 0;\n      const stickyColumnOffsetRight = this.cellOffsets.offsets.get(columnId)?.last ?? 0;\n\n      acc.set(columnId, {\n        padInlineStart: isFirstColumn && this.padInlineStart,\n        lastInsetInlineStart: this.isStuckToTheInlineStart && lastLeftStickyColumnIndex === index,\n        lastInsetInlineEnd: this.isStuckToTheInlineEnd && lastRightStickyColumnIndex === index,\n        offset: {\n          insetInlineStart: stickySide === 'inline-start' ? stickyColumnOffsetLeft : undefined,\n          insetInlineEnd: stickySide === 'inline-end' ? stickyColumnOffsetRight : undefined,\n        },\n      });\n      return acc;\n    }, new Map<PropertyKey, StickyColumnsCellState>());\n  };\n\n  private updateCellOffsets = (props: UpdateCellStylesProps): void => {\n    this.cellOffsets = updateCellOffsets(props.cells, props);\n  };\n\n  private isEnabled = (props: UpdateCellStylesProps): boolean => {\n    const noStickyColumns = props.stickyColumnsFirst + props.stickyColumnsLast === 0;\n    if (noStickyColumns) {\n      return false;\n    }\n\n    const wrapperWidth = getLogicalBoundingClientRect(props.wrapper).inlineSize;\n    const tableWidth = getLogicalBoundingClientRect(props.table).inlineSize;\n    const isWrapperScrollable = tableWidth > wrapperWidth;\n    if (!isWrapperScrollable) {\n      return false;\n    }\n\n    const totalStickySpace = this.cellOffsets.stickyWidthInlineStart + this.cellOffsets.stickyWidthInlineEnd;\n    const tablePaddingLeft = parseFloat(getComputedStyle(props.table).paddingLeft) || 0;\n    const tablePaddingRight = parseFloat(getComputedStyle(props.table).paddingRight) || 0;\n    const hasEnoughScrollableSpace =\n      totalStickySpace + MINIMUM_SCROLLABLE_SPACE + tablePaddingLeft + tablePaddingRight < wrapperWidth;\n    if (!hasEnoughScrollableSpace) {\n      return false;\n    }\n\n    return true;\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useLayoutEffect, useState } from 'react';\nimport { unstable_batchedUpdates } from 'react-dom';\n\nimport { usePrevious } from '../../internal/hooks/use-previous';\n\ntype Selector<S, R> = (state: S) => R;\ntype Listener<S> = (state: S, prevState: S) => void;\n\nexport interface ReadonlyAsyncStore<S> {\n  get(): S;\n  subscribe<R>(selector: Selector<S, R>, listener: Listener<S>): () => void;\n  unsubscribe(listener: Listener<S>): void;\n}\n\nexport default class AsyncStore<S> implements ReadonlyAsyncStore<S> {\n  _state: S;\n  _listeners: [Selector<S, unknown>, Listener<S>][] = [];\n\n  constructor(state: S) {\n    this._state = state;\n  }\n\n  get(): S {\n    return this._state;\n  }\n\n  set(cb: (state: S) => S): void {\n    const prevState = this._state;\n    const newState = cb(prevState);\n\n    this._state = newState;\n\n    unstable_batchedUpdates(() => {\n      for (const [selector, listener] of this._listeners) {\n        if (selector(prevState) !== selector(newState)) {\n          listener(newState, prevState);\n        }\n      }\n    });\n  }\n\n  subscribe<R>(selector: Selector<S, R>, listener: Listener<S>): () => void {\n    this._listeners.push([selector, listener]);\n\n    return () => this.unsubscribe(listener);\n  }\n\n  unsubscribe(listener: Listener<S>): void {\n    for (let index = 0; index < this._listeners.length; index++) {\n      const [, storedListener] = this._listeners[index];\n\n      if (storedListener === listener) {\n        this._listeners.splice(index, 1);\n        break;\n      }\n    }\n  }\n}\n\nexport function useReaction<S, R>(store: ReadonlyAsyncStore<S>, selector: Selector<S, R>, effect: Listener<R>): void {\n  useLayoutEffect(\n    () => {\n      const unsubscribe = store.subscribe(selector, (newState, prevState) =>\n        effect(selector(newState), selector(prevState))\n      );\n      return unsubscribe;\n    },\n    // ignoring selector and effect as they are expected to stay constant\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [store]\n  );\n}\n\nexport function useSelector<S, R>(store: ReadonlyAsyncStore<S>, selector: Selector<S, R>): R {\n  const [state, setState] = useState<R>(selector(store.get()));\n\n  useReaction(store, selector, newState => {\n    setState(newState);\n  });\n\n  // When store changes we need the state to be updated synchronously to avoid inconsistencies.\n  const prevStore = usePrevious(store);\n  if (prevStore !== null && prevStore !== store) {\n    return selector(store.get());\n  }\n\n  return state;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { getLogicalBoundingClientRect } from '@cloudscape-design/component-toolkit/internal';\n\nimport { CellOffsets, StickyColumnsCellState, StickyColumnsProps, StickyColumnsWrapperState } from './interfaces';\n\nexport function isCellStatesEqual(s1: null | StickyColumnsCellState, s2: null | StickyColumnsCellState): boolean {\n  if (s1 && s2) {\n    return (\n      s1.padInlineStart === s2.padInlineStart &&\n      s1.lastInsetInlineStart === s2.lastInsetInlineStart &&\n      s1.lastInsetInlineEnd === s2.lastInsetInlineEnd &&\n      s1.offset.insetInlineStart === s2.offset.insetInlineStart &&\n      s1.offset.insetInlineEnd === s2.offset.insetInlineEnd\n    );\n  }\n  return s1 === s2;\n}\n\nexport function isWrapperStatesEqual(s1: StickyColumnsWrapperState, s2: StickyColumnsWrapperState): boolean {\n  return (\n    s1.scrollPaddingInlineStart === s2.scrollPaddingInlineStart &&\n    s1.scrollPaddingInlineEnd === s2.scrollPaddingInlineEnd\n  );\n}\n\nexport function updateCellOffsets(cells: Map<PropertyKey, HTMLElement>, props: StickyColumnsProps): CellOffsets {\n  const totalColumns = props.visibleColumns.length;\n\n  const firstColumnsWidths: number[] = [];\n  for (let i = 0; i < Math.min(totalColumns, props.stickyColumnsFirst); i++) {\n    const element = cells.get(props.visibleColumns[i]);\n    const cellWidth = element ? getLogicalBoundingClientRect(element).inlineSize : 0;\n    firstColumnsWidths[i] = (firstColumnsWidths[i - 1] ?? 0) + cellWidth;\n  }\n\n  const lastColumnsWidths: number[] = [];\n  for (let i = 0; i < Math.min(totalColumns, props.stickyColumnsLast); i++) {\n    const element = cells.get(props.visibleColumns[totalColumns - 1 - i]);\n    const cellWidth = element ? getLogicalBoundingClientRect(element).inlineSize : 0;\n    lastColumnsWidths[i] = (lastColumnsWidths[i - 1] ?? 0) + cellWidth;\n  }\n\n  const stickyWidthInlineStart = firstColumnsWidths[props.stickyColumnsFirst - 1] ?? 0;\n  const stickyWidthInlineEnd = lastColumnsWidths[props.stickyColumnsLast - 1] ?? 0;\n  const offsets = props.visibleColumns.reduce(\n    (map, columnId, columnIndex) =>\n      map.set(columnId, {\n        first: firstColumnsWidths[columnIndex - 1] ?? 0,\n        last: lastColumnsWidths[totalColumns - 1 - columnIndex - 1] ?? 0,\n      }),\n    new Map()\n  );\n\n  return { offsets, stickyWidthInlineStart, stickyWidthInlineEnd };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { TableRole } from './interfaces';\n\ntype SortingStatus = 'sortable' | 'ascending' | 'descending';\n\nconst stateToAriaSort = {\n  sortable: 'none',\n  ascending: 'ascending',\n  descending: 'descending',\n} as const;\nconst getAriaSort = (sortingState: SortingStatus) => stateToAriaSort[sortingState];\n\n// Depending on its content the table can have different semantic representation which includes the\n// ARIA role of the table component (\"table\", \"grid\", \"treegrid\") but also roles and other semantic attributes\n// of the child elements. The TableRole helper encapsulates table's semantic structure.\n\nexport function getTableRoleProps(options: {\n  tableRole: TableRole;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n  totalItemsCount?: number;\n  totalColumnsCount?: number;\n}): React.TableHTMLAttributes<HTMLTableElement> {\n  const nativeProps: React.TableHTMLAttributes<HTMLTableElement> = {};\n\n  // Browsers have weird mechanism to guess whether it's a data table or a layout table.\n  // If we state explicitly, they get it always correctly even with low number of rows.\n  nativeProps.role = options.tableRole === 'grid-default' ? 'grid' : options.tableRole;\n\n  nativeProps['aria-label'] = options.ariaLabel;\n  nativeProps['aria-labelledby'] = options.ariaLabelledby;\n\n  // Incrementing the total count by one to account for the header row.\n  if (typeof options.totalItemsCount === 'number' && options.totalItemsCount > 0) {\n    nativeProps['aria-rowcount'] = options.totalItemsCount + 1;\n  }\n\n  if (options.tableRole === 'grid' || options.tableRole === 'treegrid') {\n    nativeProps['aria-colcount'] = options.totalColumnsCount;\n  }\n\n  // Make table component programmatically focusable to attach focusin/focusout for keyboard navigation.\n  if (options.tableRole === 'grid' || options.tableRole === 'treegrid') {\n    nativeProps.tabIndex = -1;\n  }\n\n  return nativeProps;\n}\n\nexport function getTableWrapperRoleProps(options: {\n  tableRole: TableRole;\n  isScrollable: boolean;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n}) {\n  const nativeProps: React.HTMLAttributes<HTMLDivElement> = {};\n\n  // When the table is scrollable, the wrapper is made focusable so that keyboard users can scroll it horizontally with arrow keys.\n  if (options.isScrollable) {\n    nativeProps.role = 'region';\n    nativeProps.tabIndex = 0;\n    nativeProps['aria-label'] = options.ariaLabel;\n    nativeProps['aria-labelledby'] = options.ariaLabelledby;\n  }\n\n  return nativeProps;\n}\n\nexport function getTableHeaderRowRoleProps(options: { tableRole: TableRole }) {\n  const nativeProps: React.HTMLAttributes<HTMLTableRowElement> = {};\n\n  // For grids headers are treated similar to data rows and are indexed accordingly.\n  if (options.tableRole === 'grid' || options.tableRole === 'grid-default' || options.tableRole === 'treegrid') {\n    nativeProps['aria-rowindex'] = 1;\n  }\n\n  return nativeProps;\n}\n\nexport function getTableRowRoleProps(options: {\n  tableRole: TableRole;\n  rowIndex: number;\n  firstIndex?: number;\n  level?: number;\n  setSize?: number;\n  posInSet?: number;\n}) {\n  const nativeProps: React.HTMLAttributes<HTMLTableRowElement> = {};\n\n  // The data cell indices are incremented by 1 to account for the header cells.\n  if (options.tableRole === 'grid' || options.tableRole === 'treegrid') {\n    nativeProps['aria-rowindex'] = (options.firstIndex || 1) + options.rowIndex + 1;\n  }\n  // For tables indices are only added when the first index is not 0 (not the first page/frame).\n  else if (options.firstIndex !== undefined) {\n    nativeProps['aria-rowindex'] = options.firstIndex + options.rowIndex + 1;\n  }\n  if (options.tableRole === 'treegrid' && options.level && options.level !== 0) {\n    nativeProps['aria-level'] = options.level;\n  }\n  if (options.tableRole === 'treegrid' && options.setSize) {\n    nativeProps['aria-setsize'] = options.setSize;\n  }\n  if (options.tableRole === 'treegrid' && options.posInSet) {\n    nativeProps['aria-posinset'] = options.posInSet;\n  }\n\n  return nativeProps;\n}\n\nexport function getTableColHeaderRoleProps(options: {\n  tableRole: TableRole;\n  colIndex: number;\n  sortingStatus?: SortingStatus;\n}) {\n  const nativeProps: React.ThHTMLAttributes<HTMLTableCellElement> = {};\n\n  nativeProps.scope = 'col';\n\n  if (options.tableRole === 'grid' || options.tableRole === 'treegrid') {\n    nativeProps['aria-colindex'] = options.colIndex + 1;\n  }\n\n  if (options.sortingStatus) {\n    nativeProps['aria-sort'] = getAriaSort(options.sortingStatus);\n  }\n\n  return nativeProps;\n}\n\nexport function getTableCellRoleProps(options: { tableRole: TableRole; colIndex: number; isRowHeader?: boolean }) {\n  const nativeProps: React.TdHTMLAttributes<HTMLTableCellElement> = {};\n\n  if (options.tableRole === 'grid' || options.tableRole === 'treegrid') {\n    nativeProps['aria-colindex'] = options.colIndex + 1;\n  }\n\n  if (options.isRowHeader) {\n    nativeProps.scope = 'row';\n  }\n\n  return nativeProps;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useRef } from 'react';\nimport { useEffect, useMemo } from 'react';\n\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\nimport {\n  SingleTabStopNavigationAPI,\n  SingleTabStopNavigationProvider,\n} from '@cloudscape-design/component-toolkit/internal';\n\nimport { getAllFocusables } from '../../internal/components/focus-lock/utils';\nimport { KeyCode } from '../../internal/keycode';\nimport handleKey, { isEventLike } from '../../internal/utils/handle-key';\nimport { nodeBelongs } from '../../internal/utils/node-belongs';\nimport { FocusedCell, GridNavigationProps } from './interfaces';\nimport {\n  defaultIsSuppressed,\n  findTableRowByAriaRowIndex,\n  findTableRowCellByAriaColIndex,\n  focusNextElement,\n  getClosestCell,\n  isElementDisabled,\n  isTableCell,\n} from './utils';\n\n/**\n * Makes table navigable with keyboard commands.\n * See grid-navigation.md\n */\nexport function GridNavigationProvider({ keyboardNavigation, pageSize, getTable, children }: GridNavigationProps) {\n  const navigationAPI = useRef<SingleTabStopNavigationAPI>(null);\n  const gridNavigation = useMemo(() => new GridNavigationProcessor(navigationAPI), []);\n\n  const getTableStable = useStableCallback(getTable);\n\n  // Initialize the processor with the table container assuming it is mounted synchronously and only once.\n  useEffect(() => {\n    if (keyboardNavigation) {\n      const table = getTableStable();\n      if (table) {\n        gridNavigation.init(table);\n        return gridNavigation.cleanup;\n      }\n    }\n  }, [keyboardNavigation, gridNavigation, getTableStable]);\n\n  // Notify the processor of the props change.\n  useEffect(() => {\n    gridNavigation.update({ pageSize });\n  }, [gridNavigation, pageSize]);\n\n  // Notify the processor of the new render.\n  useEffect(() => {\n    if (keyboardNavigation) {\n      gridNavigation.refresh();\n    }\n  });\n\n  return (\n    <SingleTabStopNavigationProvider\n      ref={navigationAPI}\n      navigationActive={keyboardNavigation}\n      getNextFocusTarget={gridNavigation.getNextFocusTarget}\n      isElementSuppressed={gridNavigation.isElementSuppressed}\n      onRegisterFocusable={gridNavigation.onRegisterFocusable}\n      onUnregisterActive={gridNavigation.onUnregisterActive}\n    >\n      {children}\n    </SingleTabStopNavigationProvider>\n  );\n}\n\n/**\n * This helper encapsulates the grid navigation behaviors which are:\n * 1. Responding to keyboard commands and moving the focus accordingly;\n * 2. Muting table interactive elements for only one to be user-focusable at a time;\n * 3. Suppressing the above behaviors when focusing an element inside a dialog or when instructed explicitly.\n */\nexport class GridNavigationProcessor {\n  // Props\n  private _pageSize = 0;\n  private _table: null | HTMLTableElement = null;\n  private _navigationAPI: { current: null | SingleTabStopNavigationAPI };\n\n  // State\n  private focusedCell: null | FocusedCell = null;\n  private focusInside = false;\n  private keepUserIndex = false;\n\n  constructor(navigationAPI: { current: null | SingleTabStopNavigationAPI }) {\n    this._navigationAPI = navigationAPI;\n  }\n\n  public init(table: HTMLTableElement) {\n    this._table = table;\n    const controller = new AbortController();\n\n    table.addEventListener('focusin', this.onFocusin, { signal: controller.signal });\n    table.addEventListener('focusout', this.onFocusout, { signal: controller.signal });\n    table.addEventListener('keydown', this.onKeydown, { signal: controller.signal });\n\n    this.cleanup = () => {\n      controller.abort();\n    };\n  }\n\n  public cleanup = () => {\n    // Do nothing before initialized.\n  };\n\n  public update({ pageSize }: { pageSize: number }) {\n    this._pageSize = pageSize;\n  }\n\n  public refresh() {\n    // Timeout ensures the newly rendered content elements are registered.\n    setTimeout(() => {\n      if (this._table) {\n        // Update focused cell indices in case table rows, columns, or firstIndex change.\n        this.updateFocusedCell(this.focusedCell?.element);\n        this._navigationAPI.current?.updateFocusTarget();\n      }\n    }, 0);\n  }\n\n  public onRegisterFocusable = (focusableElement: HTMLElement) => {\n    if (!this.focusInside) {\n      return;\n    }\n    // When newly registered element belongs to the focused cell the focus must transition to it.\n    const focusedElement = this.focusedCell?.element;\n    if (focusedElement && isTableCell(focusedElement) && focusedElement.contains(focusableElement)) {\n      // Scroll is unnecessary when moving focus from a cell to element within the cell.\n      focusableElement.focus({ preventScroll: true });\n    }\n  };\n\n  public onUnregisterActive = () => {\n    // If the focused cell appears to be no longer attached to the table we need to re-apply\n    // focus to a cell with the same or closest position.\n    if (this.focusedCell && !nodeBelongs(this.table, this.focusedCell.element)) {\n      this.moveFocusBy(this.focusedCell, { x: 0, y: 0 });\n    }\n  };\n\n  public getNextFocusTarget = () => {\n    if (!this.table) {\n      return null;\n    }\n\n    const cell = this.focusedCell;\n    const firstTableCell = this.table.querySelector('td,th') as null | HTMLTableCellElement;\n\n    // A single element of the table is made user-focusable.\n    // It defaults to the first interactive element of the first cell or the first cell itself otherwise.\n    let focusTarget: null | HTMLElement =\n      (firstTableCell && this.getFocusablesFrom(firstTableCell)[0]) ?? firstTableCell;\n\n    // When a navigation-focused element is present in the table it is used for user-navigation instead.\n    if (cell) {\n      focusTarget = this.getNextFocusable(cell, { x: 0, y: 0 });\n    }\n\n    return focusTarget;\n  };\n\n  public isElementSuppressed = (element: null | Element) => {\n    // Omit calculation as irrelevant until the table receives focus.\n    if (!this.focusedCell) {\n      return false;\n    }\n    return !element || defaultIsSuppressed(element);\n  };\n\n  private get pageSize() {\n    return this._pageSize;\n  }\n\n  private get table(): null | HTMLTableElement {\n    return this._table;\n  }\n\n  private onFocusin = (event: FocusEvent) => {\n    this.focusInside = true;\n\n    if (!(event.target instanceof HTMLElement)) {\n      return;\n    }\n\n    this.updateFocusedCell(event.target);\n    if (!this.focusedCell) {\n      return;\n    }\n\n    this._navigationAPI.current?.updateFocusTarget();\n\n    // Focusing on cell is not eligible when it contains focusable elements in the content.\n    // If content focusables are available - move the focus to the first one.\n    const focusedElement = this.focusedCell.element;\n    const nextTarget = isTableCell(focusedElement) ? this.getFocusablesFrom(focusedElement)[0] : null;\n    if (nextTarget) {\n      // Scroll is unnecessary when moving focus from a cell to element within the cell.\n      nextTarget.focus({ preventScroll: true });\n    } else {\n      this.keepUserIndex = false;\n    }\n  };\n\n  private onFocusout = () => {\n    this.focusInside = false;\n  };\n\n  private onKeydown = (event: KeyboardEvent) => {\n    if (!this.focusedCell) {\n      return;\n    }\n\n    const keys = [\n      KeyCode.up,\n      KeyCode.down,\n      KeyCode.left,\n      KeyCode.right,\n      KeyCode.pageUp,\n      KeyCode.pageDown,\n      KeyCode.home,\n      KeyCode.end,\n    ];\n    const ctrlKey = event.ctrlKey ? 1 : 0;\n    const altKey = event.altKey ? 1 : 0;\n    const shiftKey = event.shiftKey ? 1 : 0;\n    const metaKey = event.metaKey ? 1 : 0;\n    const modifiersPressed = ctrlKey + altKey + shiftKey + metaKey;\n    const invalidModifierCombination =\n      (modifiersPressed && !event.ctrlKey) ||\n      (event.ctrlKey && event.keyCode !== KeyCode.home && event.keyCode !== KeyCode.end);\n\n    if (\n      invalidModifierCombination ||\n      this.isElementSuppressed(document.activeElement) ||\n      !this.isRegistered(document.activeElement) ||\n      keys.indexOf(event.keyCode) === -1\n    ) {\n      return;\n    }\n\n    const from = this.focusedCell;\n    event.preventDefault();\n\n    if (isEventLike(event)) {\n      handleKey(event, {\n        onBlockStart: () => this.moveFocusBy(from, { y: -1, x: 0 }),\n        onBlockEnd: () => this.moveFocusBy(from, { y: 1, x: 0 }),\n        onInlineStart: () => this.moveFocusBy(from, { y: 0, x: -1 }),\n        onInlineEnd: () => this.moveFocusBy(from, { y: 0, x: 1 }),\n        onPageUp: () => this.moveFocusBy(from, { y: -this.pageSize, x: 0 }),\n        onPageDown: () => this.moveFocusBy(from, { y: this.pageSize, x: 0 }),\n        onHome: () =>\n          event.ctrlKey\n            ? this.moveFocusBy(from, { y: -Infinity, x: -Infinity })\n            : this.moveFocusBy(from, { y: 0, x: -Infinity }),\n        onEnd: () =>\n          event.ctrlKey\n            ? this.moveFocusBy(from, { y: Infinity, x: Infinity })\n            : this.moveFocusBy(from, { y: 0, x: Infinity }),\n      });\n    }\n  };\n\n  private moveFocusBy(cell: FocusedCell, delta: { x: number; y: number }) {\n    // For vertical moves preserve column- and element indices set by user.\n    // It allows keeping indices while moving over disabled actions or cells with colspan > 1.\n    if (delta.y !== 0 && delta.x === 0) {\n      this.keepUserIndex = true;\n    }\n    focusNextElement(this.getNextFocusable(cell, delta));\n  }\n\n  private isRegistered(element: null | Element): boolean {\n    return !element || (this._navigationAPI.current?.isRegistered(element) ?? false);\n  }\n\n  private updateFocusedCell(focusedElement?: HTMLElement): void {\n    if (!focusedElement) {\n      return;\n    }\n\n    const cellElement = getClosestCell(focusedElement);\n    const rowElement = cellElement?.closest('tr');\n    if (!cellElement || !rowElement) {\n      return;\n    }\n\n    const colIndex = parseInt(cellElement.getAttribute('aria-colindex') ?? '');\n    const rowIndex = parseInt(rowElement.getAttribute('aria-rowindex') ?? '');\n    if (isNaN(colIndex) || isNaN(rowIndex)) {\n      return;\n    }\n\n    const cellFocusables = this.getFocusablesFrom(cellElement);\n    const elementIndex = cellFocusables.indexOf(focusedElement);\n\n    const prevColIndex = this.focusedCell?.colIndex ?? -1;\n    const prevElementIndex = this.focusedCell?.elementIndex ?? -1;\n    this.focusedCell = {\n      rowIndex,\n      colIndex: this.keepUserIndex && prevColIndex !== -1 ? prevColIndex : colIndex,\n      elementIndex: this.keepUserIndex && prevElementIndex !== -1 ? prevElementIndex : elementIndex,\n      element: focusedElement,\n    };\n  }\n\n  private getNextFocusable(from: FocusedCell, delta: { y: number; x: number }) {\n    // Find next row to move focus into (can be null if the top/bottom is reached).\n    const targetAriaRowIndex = from.rowIndex + delta.y;\n    const targetRow = findTableRowByAriaRowIndex(this.table, targetAriaRowIndex, delta.y);\n    if (!targetRow) {\n      return null;\n    }\n\n    // Return next interactive cell content element if available.\n    const cellElement = getClosestCell(from.element);\n    const cellFocusables = cellElement ? this.getFocusablesFrom(cellElement) : [];\n    const nextElementIndex = from.elementIndex + delta.x;\n    const isValidDirection = !!delta.x;\n    const isValidIndex = from.elementIndex !== -1 && 0 <= nextElementIndex && nextElementIndex < cellFocusables.length;\n    const isTargetDifferent = from.element !== cellFocusables[nextElementIndex];\n    if (isValidDirection && isValidIndex && isTargetDifferent) {\n      return cellFocusables[nextElementIndex];\n    }\n\n    // Find next cell to focus or move focus into (can be null if the left/right edge is reached).\n    const targetAriaColIndex = from.colIndex + delta.x;\n    const targetCell = findTableRowCellByAriaColIndex(targetRow, targetAriaColIndex, delta.x);\n    if (!targetCell) {\n      return null;\n    }\n\n    // When target cell matches the current cell it means we reached the left or right boundary.\n    if (targetCell === cellElement && delta.x !== 0) {\n      return null;\n    }\n\n    const targetCellFocusables = this.getFocusablesFrom(targetCell);\n\n    // When delta.x = 0 keep element index if possible.\n    let focusIndex = from.elementIndex;\n    // Use first element index when moving to the right or to extreme left.\n    if ((isFinite(delta.x) && delta.x > 0) || delta.x === -Infinity) {\n      focusIndex = 0;\n    }\n    // Use last element index when moving to the left or to extreme right.\n    if ((isFinite(delta.x) && delta.x < 0) || delta.x === Infinity) {\n      focusIndex = targetCellFocusables.length - 1;\n    }\n\n    return targetCellFocusables[focusIndex] ?? targetCell;\n  }\n\n  private getFocusablesFrom(target: HTMLElement) {\n    const isElementRegistered = (element: Element) => this._navigationAPI.current?.isRegistered(element);\n    return getAllFocusables(target).filter(el => isElementRegistered(el) && !isElementDisabled(el));\n  }\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport function getClosestCell(element: Element) {\n  return element.closest('td,th') as null | HTMLTableCellElement;\n}\n\nexport function isElementDisabled(element: HTMLElement) {\n  if (element instanceof HTMLInputElement || element instanceof HTMLButtonElement) {\n    return element.disabled;\n  }\n  return false;\n}\n\n/**\n * Returns true if the target element or one of its parents is a dialog or is marked with data-awsui-table-suppress-navigation attribute.\n * This is used to suppress navigation for interactive content without a need to use a custom suppression check.\n */\nexport function defaultIsSuppressed(target: Element) {\n  let current: null | Element = target;\n  while (current) {\n    // Stop checking for parents upon reaching the cell element as the function only aims at the cell content.\n    if (isTableCell(current)) {\n      return false;\n    }\n    if (\n      current.getAttribute('role') === 'dialog' ||\n      current.getAttribute('data-awsui-table-suppress-navigation') === 'true'\n    ) {\n      return true;\n    }\n    current = current.parentElement;\n  }\n  return false;\n}\n\n/**\n * Finds the closest row to the targetAriaRowIndex+delta in the direction of delta.\n */\nexport function findTableRowByAriaRowIndex(table: null | HTMLTableElement, targetAriaRowIndex: number, delta: number) {\n  let targetRow: null | HTMLTableRowElement = null;\n  const rowElements = Array.from(table?.querySelectorAll('tr[aria-rowindex]') ?? []);\n  if (delta < 0) {\n    rowElements.reverse();\n  }\n  for (const element of rowElements) {\n    const rowIndex = parseInt(element.getAttribute('aria-rowindex') ?? '');\n    targetRow = element as HTMLTableRowElement;\n\n    if (rowIndex === targetAriaRowIndex) {\n      break;\n    }\n    if (delta >= 0 && rowIndex > targetAriaRowIndex) {\n      break;\n    }\n    if (delta < 0 && rowIndex < targetAriaRowIndex) {\n      break;\n    }\n  }\n  return targetRow;\n}\n\n/**\n * Finds the closest column to the targetAriaColIndex+delta in the direction of delta.\n */\nexport function findTableRowCellByAriaColIndex(\n  tableRow: HTMLTableRowElement,\n  targetAriaColIndex: number,\n  delta: number\n) {\n  let targetCell: null | HTMLTableCellElement = null;\n  const cellElements = Array.from(tableRow.querySelectorAll('td[aria-colindex],th[aria-colindex]'));\n  if (delta < 0) {\n    cellElements.reverse();\n  }\n  for (const element of cellElements) {\n    const columnIndex = parseInt(element.getAttribute('aria-colindex') ?? '');\n    targetCell = element as HTMLTableCellElement;\n\n    if (columnIndex === targetAriaColIndex) {\n      break;\n    }\n    if (delta >= 0 && columnIndex > targetAriaColIndex) {\n      break;\n    }\n    if (delta < 0 && columnIndex < targetAriaColIndex) {\n      break;\n    }\n  }\n  return targetCell;\n}\n\nexport function isTableCell(element: Element) {\n  return element.tagName === 'TD' || element.tagName === 'TH';\n}\n\nexport function focusNextElement(element: null | HTMLElement) {\n  if (element) {\n    // Table cells are not focusable by default (tabIndex=undefined) so cell.focus() is ignored.\n    // To force focusing we have to imperatively set tabIndex to -1. This tabIndex is then to be\n    // overridden by the single tab stop context to be 0 or undefined.\n    // We cannot make cells have tabIndex=-1 by default due to an associated bug with text selection, see: PR 2158.\n    if (isTableCell(element) && element.tabIndex !== 0) {\n      element.tabIndex = -1;\n    }\n    element.focus();\n  }\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { InternalContainerProps } from '../container/internal';\nimport { TableProps } from './interfaces';\nimport { StickyColumnsCellState } from './sticky-columns';\n\nexport const applyTrackBy = <T>(trackBy: TableProps.TrackBy<T>, item: T) => {\n  if (typeof trackBy === 'function') {\n    return trackBy(item);\n  }\n  return (item as any)[trackBy];\n};\n\nexport const getItemKey = <T>(trackBy: TableProps.TrackBy<T> | undefined, item: T, index: number) => {\n  if (!trackBy) {\n    return index;\n  }\n  return applyTrackBy(trackBy, item);\n};\n\nexport const getTrackableValue = <T>(trackBy: TableProps.TrackBy<T> | undefined, item: T) => {\n  if (!trackBy) {\n    return item;\n  }\n  return applyTrackBy(trackBy, item);\n};\n\nexport const getColumnKey = <T>(column: TableProps.ColumnDefinition<T>, index: number) => {\n  return column.id || index;\n};\n\nexport const toContainerVariant = (variant: TableProps.Variant | undefined): InternalContainerProps['variant'] => {\n  const isDefaultVariant = !variant || variant === 'container';\n  return isDefaultVariant ? 'default' : variant === 'borderless' ? 'embedded' : variant;\n};\n\nexport function checkSortingState<T>(\n  columnDefinitions: ReadonlyArray<TableProps.ColumnDefinition<T>>,\n  sortingComparator: TableProps.SortingColumn<T>['sortingComparator']\n) {\n  const matchedColumn = columnDefinitions.filter(column => column.sortingComparator === sortingComparator)[0];\n  if (!matchedColumn) {\n    warnOnce(\n      'Table',\n      'Currently active sorting comparator was not found in any columns. Make sure to provide the same comparator function instance on each render.'\n    );\n  }\n}\n\nexport function getVisibleColumnDefinitions<T>({\n  columnDisplay,\n  visibleColumns,\n  columnDefinitions,\n}: {\n  columnDisplay?: ReadonlyArray<TableProps.ColumnDisplayProperties>;\n  visibleColumns?: ReadonlyArray<string>;\n  columnDefinitions: ReadonlyArray<TableProps.ColumnDefinition<T>>;\n}) {\n  // columnsDisplay has a precedence over visibleColumns.\n  if (columnDisplay) {\n    return getVisibleColumnDefinitionsFromColumnDisplay({ columnDisplay, columnDefinitions });\n  } else if (visibleColumns) {\n    return getVisibleColumnDefinitionsFromVisibleColumns({ visibleColumns, columnDefinitions });\n  } else {\n    return columnDefinitions;\n  }\n}\n\nfunction getVisibleColumnDefinitionsFromColumnDisplay<T>({\n  columnDisplay,\n  columnDefinitions,\n}: {\n  columnDisplay: ReadonlyArray<TableProps.ColumnDisplayProperties>;\n  columnDefinitions: ReadonlyArray<TableProps.ColumnDefinition<T>>;\n}) {\n  const columnDefinitionsById: Record<string, TableProps.ColumnDefinition<T>> = columnDefinitions.reduce(\n    (accumulator, item) => (item.id === undefined ? accumulator : { ...accumulator, [item.id]: item }),\n    {}\n  );\n  return columnDisplay\n    .filter(item => item.visible)\n    .map(item => columnDefinitionsById[item.id])\n    .filter(Boolean);\n}\n\nfunction getVisibleColumnDefinitionsFromVisibleColumns<T>({\n  visibleColumns,\n  columnDefinitions,\n}: {\n  visibleColumns: ReadonlyArray<string>;\n  columnDefinitions: ReadonlyArray<TableProps.ColumnDefinition<T>>;\n}) {\n  const ids = new Set(visibleColumns);\n  return columnDefinitions.filter(({ id }) => id !== undefined && ids.has(id));\n}\n\nexport function getStickyClassNames(styles: Record<string, string>, props: StickyColumnsCellState | null) {\n  return {\n    [styles['sticky-cell']]: !!props,\n    [styles['sticky-cell-pad-inline-start']]: !!props?.padInlineStart,\n    [styles['sticky-cell-last-inline-start']]: !!props?.lastInsetInlineStart,\n    [styles['sticky-cell-last-inline-end']]: !!props?.lastInsetInlineEnd,\n  };\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_wih1l_1xndw_153\",\n  \"tools\": \"awsui_tools_wih1l_1xndw_164\",\n  \"tools-filtering\": \"awsui_tools-filtering_wih1l_1xndw_172\",\n  \"tools-align-right\": \"awsui_tools-align-right_wih1l_1xndw_186\",\n  \"tools-pagination\": \"awsui_tools-pagination_wih1l_1xndw_190\",\n  \"tools-preferences\": \"awsui_tools-preferences_wih1l_1xndw_190\",\n  \"tools-small\": \"awsui_tools-small_wih1l_1xndw_196\",\n  \"table\": \"awsui_table_wih1l_1xndw_202\",\n  \"table-layout-fixed\": \"awsui_table-layout-fixed_wih1l_1xndw_208\",\n  \"wrapper\": \"awsui_wrapper_wih1l_1xndw_212\",\n  \"variant-stacked\": \"awsui_variant-stacked_wih1l_1xndw_219\",\n  \"wrapper-content-measure\": \"awsui_wrapper-content-measure_wih1l_1xndw_219\",\n  \"variant-container\": \"awsui_variant-container_wih1l_1xndw_219\",\n  \"has-footer\": \"awsui_has-footer_wih1l_1xndw_222\",\n  \"has-header\": \"awsui_has-header_wih1l_1xndw_225\",\n  \"cell-merged\": \"awsui_cell-merged_wih1l_1xndw_242\",\n  \"cell-merged-content\": \"awsui_cell-merged-content_wih1l_1xndw_254\",\n  \"empty\": \"awsui_empty_wih1l_1xndw_270\",\n  \"loading\": \"awsui_loading_wih1l_1xndw_274\",\n  \"selection-control\": \"awsui_selection-control_wih1l_1xndw_283\",\n  \"selection-control-header\": \"awsui_selection-control-header_wih1l_1xndw_290\",\n  \"header-secondary\": \"awsui_header-secondary_wih1l_1xndw_296\",\n  \"variant-full-page\": \"awsui_variant-full-page_wih1l_1xndw_307\",\n  \"table-has-header\": \"awsui_table-has-header_wih1l_1xndw_313\",\n  \"header-controls\": \"awsui_header-controls_wih1l_1xndw_324\",\n  \"variant-embedded\": \"awsui_variant-embedded_wih1l_1xndw_333\",\n  \"variant-borderless\": \"awsui_variant-borderless_wih1l_1xndw_333\",\n  \"footer-wrapper\": \"awsui_footer-wrapper_wih1l_1xndw_338\",\n  \"footer\": \"awsui_footer_wih1l_1xndw_338\",\n  \"footer-with-pagination\": \"awsui_footer-with-pagination_wih1l_1xndw_346\",\n  \"footer-pagination\": \"awsui_footer-pagination_wih1l_1xndw_354\",\n  \"thead-active\": \"awsui_thead-active_wih1l_1xndw_358\",\n  \"row\": \"awsui_row_wih1l_1xndw_359\",\n  \"row-selected\": \"awsui_row-selected_wih1l_1xndw_360\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"body-cell-counter\": \"awsui_body-cell-counter_10jtt_16x1t_5\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"expandable-toggle-wrapper\": \"awsui_expandable-toggle-wrapper_c6tup_hvmkg_145\",\n  \"body-cell\": \"awsui_body-cell_c6tup_hvmkg_152\",\n  \"body-cell-content\": \"awsui_body-cell-content_c6tup_hvmkg_160\",\n  \"expandable-level-0\": \"awsui_expandable-level-0_c6tup_hvmkg_166\",\n  \"expandable-level-1\": \"awsui_expandable-level-1_c6tup_hvmkg_173\",\n  \"expandable-level-2\": \"awsui_expandable-level-2_c6tup_hvmkg_180\",\n  \"expandable-level-3\": \"awsui_expandable-level-3_c6tup_hvmkg_187\",\n  \"expandable-level-4\": \"awsui_expandable-level-4_c6tup_hvmkg_194\",\n  \"expandable-level-5\": \"awsui_expandable-level-5_c6tup_hvmkg_201\",\n  \"expandable-level-6\": \"awsui_expandable-level-6_c6tup_hvmkg_208\",\n  \"expandable-level-7\": \"awsui_expandable-level-7_c6tup_hvmkg_215\",\n  \"expandable-level-8\": \"awsui_expandable-level-8_c6tup_hvmkg_222\",\n  \"expandable-level-9\": \"awsui_expandable-level-9_c6tup_hvmkg_229\",\n  \"expandable-level-next\": \"awsui_expandable-level-next_c6tup_hvmkg_236\",\n  \"body-cell-align-top\": \"awsui_body-cell-align-top_c6tup_hvmkg_254\",\n  \"body-cell-wrap\": \"awsui_body-cell-wrap_c6tup_hvmkg_260\",\n  \"body-cell-counter\": \"awsui_body-cell-counter_c6tup_hvmkg_265\",\n  \"is-visual-refresh\": \"awsui_is-visual-refresh_c6tup_hvmkg_363\",\n  \"body-cell-edit-active\": \"awsui_body-cell-edit-active_c6tup_hvmkg_453\",\n  \"body-cell-expandable\": \"awsui_body-cell-expandable_c6tup_hvmkg_453\",\n  \"body-cell-editable\": \"awsui_body-cell-editable_c6tup_hvmkg_453\",\n  \"has-striped-rows\": \"awsui_has-striped-rows_c6tup_hvmkg_536\",\n  \"sticky-cell-pad-inline-start\": \"awsui_sticky-cell-pad-inline-start_c6tup_hvmkg_702\",\n  \"has-selection\": \"awsui_has-selection_c6tup_hvmkg_868\",\n  \"body-cell-first-row\": \"awsui_body-cell-first-row_c6tup_hvmkg_1037\",\n  \"body-cell-last-row\": \"awsui_body-cell-last-row_c6tup_hvmkg_1040\",\n  \"body-cell-selected\": \"awsui_body-cell-selected_c6tup_hvmkg_1040\",\n  \"has-footer\": \"awsui_has-footer_c6tup_hvmkg_1040\",\n  \"body-cell-shaded\": \"awsui_body-cell-shaded_c6tup_hvmkg_1050\",\n  \"sticky-cell\": \"awsui_sticky-cell_c6tup_hvmkg_702\",\n  \"table-variant-full-page\": \"awsui_table-variant-full-page_c6tup_hvmkg_1101\",\n  \"sticky-cell-last-inline-end\": \"awsui_sticky-cell-last-inline-end_c6tup_hvmkg_1118\",\n  \"sticky-cell-last-inline-start\": \"awsui_sticky-cell-last-inline-start_c6tup_hvmkg_1127\",\n  \"body-cell-next-selected\": \"awsui_body-cell-next-selected_c6tup_hvmkg_1149\",\n  \"body-cell-prev-selected\": \"awsui_body-cell-prev-selected_c6tup_hvmkg_1156\",\n  \"body-cell-editor-wrapper\": \"awsui_body-cell-editor-wrapper_c6tup_hvmkg_1182\",\n  \"body-cell-success\": \"awsui_body-cell-success_c6tup_hvmkg_1187\",\n  \"body-cell-editor\": \"awsui_body-cell-editor_c6tup_hvmkg_1182\",\n  \"body-cell-editor-disabled\": \"awsui_body-cell-editor-disabled_c6tup_hvmkg_1212\",\n  \"body-cell-editor-row\": \"awsui_body-cell-editor-row_c6tup_hvmkg_1221\",\n  \"body-cell-editor-controls\": \"awsui_body-cell-editor-controls_c6tup_hvmkg_1231\",\n  \"body-cell-editor-row-editor\": \"awsui_body-cell-editor-row-editor_c6tup_hvmkg_1234\",\n  \"body-cell-editor-focusable\": \"awsui_body-cell-editor-focusable_c6tup_hvmkg_1237\",\n  \"body-cell-editor-icon\": \"awsui_body-cell-editor-icon_c6tup_hvmkg_1261\",\n  \"resizable-columns\": \"awsui_resizable-columns_c6tup_hvmkg_1373\",\n  \"expandable-cell-content\": \"awsui_expandable-cell-content_c6tup_hvmkg_1376\",\n  \"body-cell-edit-disabled-popover\": \"awsui_body-cell-edit-disabled-popover_c6tup_hvmkg_1427\",\n  \"body-cell-has-success\": \"awsui_body-cell-has-success_c6tup_hvmkg_1430\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport Button from '../../button/internal';\nimport FormField from '../../form-field/internal';\nimport { useInternalI18n } from '../../i18n/context';\nimport FocusLock, { FocusLockRef } from '../../internal/components/focus-lock';\nimport { Optional } from '../../internal/types';\nimport InternalLiveRegion from '../../live-region/internal';\nimport SpaceBetween from '../../space-between/internal';\nimport { TableProps } from '../interfaces';\nimport { useClickAway } from './click-away';\n\nimport styles from './styles.css.js';\n\n// A function that does nothing\nconst noop = () => undefined;\n\ninterface OnEditEndOptions {\n  cancelled: boolean;\n  refocusCell: boolean;\n}\n\ninterface InlineEditorProps<ItemType> {\n  ariaLabels: TableProps['ariaLabels'];\n  column: TableProps.ColumnDefinition<ItemType>;\n  item: ItemType;\n  onEditEnd: (options: OnEditEndOptions) => void;\n  submitEdit: TableProps.SubmitEditFunction<ItemType>;\n  __onRender?: () => void;\n}\n\nexport function InlineEditor<ItemType>({\n  ariaLabels,\n  item,\n  column,\n  onEditEnd,\n  submitEdit,\n  __onRender,\n}: InlineEditorProps<ItemType>) {\n  const [currentEditLoading, setCurrentEditLoading] = useState(false);\n  const [currentEditValue, setCurrentEditValue] = useState<Optional<any>>();\n  const i18n = useInternalI18n('table');\n\n  const focusLockRef = useRef<FocusLockRef>(null);\n\n  function finishEdit({ cancelled = false, refocusCell = true }: Partial<OnEditEndOptions> = {}) {\n    if (!cancelled) {\n      setCurrentEditValue(undefined);\n    }\n    onEditEnd({ cancelled, refocusCell: refocusCell });\n  }\n\n  async function handleSubmit() {\n    if (currentEditValue === undefined) {\n      finishEdit();\n      return;\n    }\n\n    setCurrentEditLoading(true);\n    try {\n      await submitEdit(item, column, currentEditValue);\n      setCurrentEditLoading(false);\n      finishEdit();\n    } catch {\n      setCurrentEditLoading(false);\n      focusLockRef.current?.focusFirst();\n    }\n  }\n\n  function onFormSubmit(evt: React.FormEvent) {\n    evt.preventDefault(); // Prevents the form from navigating away\n    evt.stopPropagation(); // Prevents any outer form elements from submitting\n    handleSubmit();\n  }\n\n  function onCancel({ reFocusEditedCell = true } = {}) {\n    if (currentEditLoading) {\n      return;\n    }\n    finishEdit({ cancelled: true, refocusCell: reFocusEditedCell });\n  }\n\n  function handleEscape(event: React.KeyboardEvent): void {\n    if (event.key === 'Escape') {\n      onCancel();\n    }\n  }\n\n  const clickAwayRef = useClickAway(() => onCancel({ reFocusEditedCell: false }));\n\n  useEffect(() => {\n    if (__onRender) {\n      const timer = setTimeout(__onRender, 1);\n      return () => clearTimeout(timer);\n    }\n  }, [__onRender]);\n\n  // asserting non-undefined editConfig here because this component is unreachable otherwise\n  const {\n    ariaLabel = undefined,\n    validation = noop,\n    errorIconAriaLabel,\n    constraintText,\n    editingCell,\n    disableNativeForm,\n  } = column.editConfig!;\n\n  const cellContext = {\n    currentValue: currentEditValue,\n    setValue: setCurrentEditValue,\n    submitValue: handleSubmit,\n  };\n\n  const FormElement = disableNativeForm ? 'div' : 'form';\n\n  return (\n    <FocusLock restoreFocus={true} ref={focusLockRef}>\n      <div\n        role=\"dialog\"\n        ref={clickAwayRef}\n        aria-label={ariaLabels?.activateEditLabel?.(column, item)}\n        onKeyDown={handleEscape}\n      >\n        <FormElement onSubmit={disableNativeForm ? undefined : onFormSubmit}>\n          <FormField\n            stretch={true}\n            label={ariaLabel}\n            constraintText={constraintText}\n            __hideLabel={true}\n            __disableGutters={true}\n            i18nStrings={{ errorIconAriaLabel }}\n            errorText={validation(item, currentEditValue)}\n          >\n            <div className={styles['body-cell-editor-row']}>\n              <div className={styles['body-cell-editor-row-editor']}>{editingCell(item, cellContext)}</div>\n              <span className={styles['body-cell-editor-controls']}>\n                <SpaceBetween direction=\"horizontal\" size=\"xxs\">\n                  {!currentEditLoading ? (\n                    <Button\n                      ariaLabel={ariaLabels?.cancelEditLabel?.(column)}\n                      formAction=\"none\"\n                      iconName=\"close\"\n                      variant=\"inline-icon\"\n                      onClick={() => onCancel()}\n                    />\n                  ) : null}\n                  <Button\n                    ariaLabel={ariaLabels?.submitEditLabel?.(column)}\n                    formAction={disableNativeForm ? 'none' : 'submit'}\n                    onClick={disableNativeForm ? handleSubmit : undefined}\n                    iconName=\"check\"\n                    variant=\"inline-icon\"\n                    loading={currentEditLoading}\n                  />\n                </SpaceBetween>\n                <InternalLiveRegion tagName=\"span\" hidden={true}>\n                  {currentEditLoading\n                    ? i18n('ariaLabels.submittingEditText', ariaLabels?.submittingEditText?.(column))\n                    : ''}\n                </InternalLiveRegion>\n              </span>\n            </div>\n          </FormField>\n        </FormElement>\n      </div>\n    </FocusLock>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { TableProps } from './interfaces';\n\nexport interface ColumnWidthStyle {\n  width?: string | number;\n  minWidth?: string | number;\n  maxWidth?: string | number;\n}\n\nexport function checkColumnWidths(columnDefinitions: ReadonlyArray<TableProps.ColumnDefinition<any>>) {\n  for (const column of columnDefinitions) {\n    checkProperty(column, 'minWidth');\n    checkProperty(column, 'width');\n  }\n}\n\nexport function setElementWidths(element: HTMLElement, styles: ColumnWidthStyle) {\n  function setProperty(property: 'width' | 'minWidth' | 'maxWidth') {\n    const value = styles[property];\n    let widthCssValue = '';\n    if (typeof value === 'number') {\n      widthCssValue = value + 'px';\n    }\n    if (typeof value === 'string') {\n      widthCssValue = value;\n    }\n    if (element.style[property] !== widthCssValue) {\n      element.style[property] = widthCssValue;\n    }\n  }\n  setProperty('width');\n  setProperty('minWidth');\n  setProperty('maxWidth');\n}\n\nfunction checkProperty(column: TableProps.ColumnDefinition<any>, name: 'width' | 'minWidth') {\n  const value = column[name];\n  if (typeof value !== 'number' && typeof value !== 'undefined') {\n    warnOnce(\n      'Table',\n      `resizableColumns feature requires ${name} property to be a number, got ${value}. The component may work incorrectly.`\n    );\n  }\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { TableProps } from '../interfaces';\nimport { getTrackableValue } from '../utils';\n\nexport const SELECTION_ITEM = 'selection-item';\nconst SELECTION_ROOT = 'selection-root';\n\n// A set, that compares items by their \"trackables\" (the results of applying `trackBy` to them)\nexport class ItemSet<T> {\n  private trackBy: TableProps.TrackBy<T> | undefined;\n  private map = new Map<unknown, T>();\n\n  constructor(trackBy: TableProps.TrackBy<T> | undefined, items: ReadonlyArray<T>) {\n    this.trackBy = trackBy;\n    items.forEach(this.put);\n  }\n  put = (item: T) => this.map.set.call(this.map, getTrackableValue(this.trackBy, item), item);\n  has = (item: T) => this.map.has.call(this.map, getTrackableValue(this.trackBy, item));\n  forEach = this.map.forEach.bind(this.map);\n}\n\nexport const focusMarkers = {\n  item: { ['data-' + SELECTION_ITEM]: 'item' },\n  all: { ['data-' + SELECTION_ITEM]: 'all' },\n  root: { ['data-' + SELECTION_ROOT]: 'true' },\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useInternalI18n } from '../../i18n/context';\nimport { fireNonCancelableEvent } from '../../internal/events';\nimport { TableProps } from '../interfaces';\nimport { ItemSet } from '../selection/utils';\n\ninterface ExpandableItemProps<T> extends ExpandableItemDetail<T> {\n  isExpandable: boolean;\n  isExpanded: boolean;\n  onExpandableItemToggle: () => void;\n  expandButtonLabel?: string;\n  collapseButtonLabel?: string;\n  itemsCount?: number;\n  selectedItemsCount?: number;\n}\n\ninterface ExpandableItemDetail<T> {\n  level: number;\n  setSize: number;\n  posInSet: number;\n  parent: null | T;\n  children: readonly T[];\n}\n\nexport interface InternalExpandableRowsProps<T> {\n  isExpandable: boolean;\n  allItems: readonly T[];\n  getExpandableItemProps(item: T): ExpandableItemProps<T>;\n  hasGroupSelection: boolean;\n  groupSelection: TableProps.GroupSelectionState<T>;\n  onGroupSelectionChange?: TableProps.OnGroupSelectionChange<T>;\n  totalItemsCount?: number;\n  totalSelectedItemsCount?: number;\n}\n\nexport function useExpandableTableProps<T>({\n  items,\n  expandableRows,\n  trackBy,\n  ariaLabels,\n}: {\n  items: readonly T[];\n  expandableRows?: TableProps.ExpandableRows<T>;\n  trackBy?: TableProps.TrackBy<T>;\n  ariaLabels?: TableProps.AriaLabels<T>;\n}): InternalExpandableRowsProps<T> {\n  const i18n = useInternalI18n('table');\n  const isExpandable = !!expandableRows;\n\n  const expandedSet = new ItemSet(trackBy, expandableRows?.expandedItems ?? []);\n\n  let allItems = items;\n  const itemToDetail = new Map<T, ExpandableItemDetail<T>>();\n  const getItemLevel = (item: T) => itemToDetail.get(item)?.level ?? 0;\n\n  if (isExpandable) {\n    const visibleItems = new Array<T>();\n\n    const traverse = (item: T, detail: Omit<ExpandableItemDetail<T>, 'children'>, visible: boolean) => {\n      const children = expandableRows.getItemChildren(item);\n      itemToDetail.set(item, { ...detail, children });\n\n      if (visible) {\n        visibleItems.push(item);\n        children.forEach((child, index) =>\n          traverse(\n            child,\n            { level: detail.level + 1, setSize: children.length, posInSet: index + 1, parent: item },\n            expandedSet.has(item)\n          )\n        );\n      }\n    };\n    items.forEach((item, index) =>\n      traverse(item, { level: 1, setSize: items.length, posInSet: index + 1, parent: null }, true)\n    );\n\n    for (let index = 0; index < visibleItems.length; index++) {\n      const item = visibleItems[index];\n      if (expandedSet.has(item)) {\n        let insertionIndex = index + 1;\n        for (insertionIndex; insertionIndex < visibleItems.length; insertionIndex++) {\n          const insertionItem = visibleItems[insertionIndex];\n          if (getItemLevel(item) >= getItemLevel(insertionItem)) {\n            break;\n          }\n        }\n        insertionIndex--;\n      }\n    }\n\n    allItems = visibleItems;\n  }\n\n  const getExpandableItemProps = (item: T): ExpandableItemProps<T> => {\n    const { level = 1, setSize = 1, posInSet = 1, parent = null, children = [] } = itemToDetail.get(item) ?? {};\n    return {\n      level,\n      setSize,\n      posInSet,\n      isExpandable: expandableRows?.isItemExpandable(item) ?? true,\n      isExpanded: expandedSet.has(item),\n      onExpandableItemToggle: () =>\n        fireNonCancelableEvent(expandableRows?.onExpandableItemToggle, { item, expanded: !expandedSet.has(item) }),\n      expandButtonLabel: i18n('ariaLabels.expandButtonLabel', ariaLabels?.expandButtonLabel?.(item)),\n      collapseButtonLabel: i18n('ariaLabels.collapseButtonLabel', ariaLabels?.collapseButtonLabel?.(item)),\n      parent,\n      children,\n      itemsCount: expandableRows?.getItemsCount?.(item),\n      selectedItemsCount: expandableRows?.getSelectedItemsCount?.(item),\n    };\n  };\n\n  return {\n    isExpandable,\n    allItems,\n    getExpandableItemProps,\n    hasGroupSelection: !!expandableRows?.groupSelection,\n    groupSelection: expandableRows?.groupSelection ?? { inverted: false, toggledItems: [] },\n    onGroupSelectionChange: expandableRows?.onGroupSelectionChange,\n    totalItemsCount: expandableRows?.totalItemsCount,\n    totalSelectedItemsCount: expandableRows?.totalSelectedItemsCount,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\n\nimport InternalLiveRegion from '../live-region/internal';\nimport InternalStatusIndicator from '../status-indicator/internal';\n\nimport styles from './styles.css.js';\n\ninterface NoDataCellProps {\n  totalColumnsCount: number;\n  hasFooter: boolean;\n  loading?: boolean;\n  loadingText?: string;\n  empty?: React.ReactNode;\n  tableRef: React.RefObject<HTMLTableElement>;\n  containerRef: React.RefObject<HTMLElement>;\n}\n\nexport function NoDataCell({\n  totalColumnsCount,\n  hasFooter,\n  loading,\n  loadingText,\n  empty,\n  tableRef,\n  containerRef,\n}: NoDataCellProps) {\n  const cellContentRef = useRef<HTMLDivElement>(null);\n\n  useResizeObserver(containerRef, ({ contentBoxWidth: containerInlineSize }) => {\n    if (tableRef.current && cellContentRef.current) {\n      const tablePaddingInlineStart = parseFloat(getComputedStyle(tableRef.current).paddingInlineStart) || 0;\n      const tablePaddingInlineEnd = parseFloat(getComputedStyle(tableRef.current).paddingInlineEnd) || 0;\n      const inlineSize = containerInlineSize + tablePaddingInlineStart + tablePaddingInlineEnd;\n      cellContentRef.current.style.inlineSize = Math.floor(inlineSize) + 'px';\n    }\n  });\n\n  return (\n    <td colSpan={totalColumnsCount} className={clsx(styles['cell-merged'], hasFooter && styles['has-footer'])}>\n      <div ref={cellContentRef} className={styles['cell-merged-content']} data-awsui-table-suppress-navigation={true}>\n        {loading ? (\n          <InternalStatusIndicator type=\"loading\" className={styles.loading} wrapText={true}>\n            <InternalLiveRegion tagName=\"span\">{loadingText}</InternalLiveRegion>\n          </InternalStatusIndicator>\n        ) : (\n          <div className={styles.empty}>{empty}</div>\n        )}\n      </div>\n    </td>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport InternalLiveRegion from '../../live-region/internal';\nimport { TableProps } from '../interfaces';\nimport { applyTrackBy } from '../utils';\n\nimport styles from './styles.css.js';\n\nexport interface ItemsLoaderProps<T> {\n  item: null | T;\n  trackBy?: TableProps.TrackBy<T>;\n  children: React.ReactNode;\n}\n\nexport interface ItemsLoaderContentProps<T> {\n  item: null | T;\n  loadingStatus: TableProps.LoadingStatus;\n  renderLoaderPending?: (detail: TableProps.RenderLoaderDetail<T>) => React.ReactNode;\n  renderLoaderLoading?: (detail: TableProps.RenderLoaderDetail<T>) => React.ReactNode;\n  renderLoaderError?: (detail: TableProps.RenderLoaderDetail<T>) => React.ReactNode;\n  renderLoaderEmpty?: (detail: TableProps.RenderLoaderEmptyDetail<T>) => React.ReactNode;\n}\n\nexport function ItemsLoader<T>({ item, trackBy, children }: ItemsLoaderProps<T>) {\n  let parentTrackId = item && trackBy ? applyTrackBy(trackBy, item) : undefined;\n  parentTrackId = typeof parentTrackId === 'string' ? parentTrackId : undefined;\n  return (\n    <div data-root={item ? 'false' : 'true'} data-parentrow={parentTrackId} className={styles['items-loader']}>\n      {children}\n    </div>\n  );\n}\n\nexport function getLoaderContent<T>({\n  item,\n  loadingStatus,\n  renderLoaderPending,\n  renderLoaderLoading,\n  renderLoaderError,\n  renderLoaderEmpty,\n}: ItemsLoaderContentProps<T>) {\n  let content: React.ReactNode = null;\n  if (loadingStatus === 'pending' && renderLoaderPending) {\n    content = renderLoaderPending({ item });\n  } else if (loadingStatus === 'loading' && renderLoaderLoading) {\n    content = <InternalLiveRegion tagName=\"span\">{renderLoaderLoading({ item })}</InternalLiveRegion>;\n  } else if (loadingStatus === 'error' && renderLoaderError) {\n    content = <InternalLiveRegion tagName=\"span\">{renderLoaderError({ item })}</InternalLiveRegion>;\n  } else if (loadingStatus === 'finished' && renderLoaderEmpty && item) {\n    content = <InternalLiveRegion tagName=\"span\">{renderLoaderEmpty({ item })}</InternalLiveRegion>;\n  } else {\n    warnOnce(\n      'Table',\n      'Must define `renderLoaderPending`, `renderLoaderLoading`, `renderLoaderError`, or `renderLoaderEmpty` when using corresponding loading status.'\n    );\n  }\n  return content;\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"items-loader\": \"awsui_items-loader_115pt_16l07_5\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\n\nimport { TableTdElement, TableTdElementProps } from '../body-cell/td-element';\nimport { ItemsLoader, ItemsLoaderProps } from './items-loader';\n\nexport interface TableLoaderCellProps<ItemType>\n  extends Omit<TableTdElementProps, 'isEditable' | 'isEditing' | 'children'>,\n    ItemsLoaderProps<ItemType> {}\n\nexport function TableLoaderCell<ItemType>({\n  item,\n  trackBy,\n  counter,\n  children,\n  ...props\n}: TableLoaderCellProps<ItemType>) {\n  return props.isRowHeader ? (\n    <TableTdElement {...props} counter={counter} isEditable={false} isEditing={false}>\n      <ItemsLoader item={item} trackBy={trackBy}>\n        {children}\n      </ItemsLoader>\n    </TableTdElement>\n  ) : (\n    <TableTdElement {...props} isEditable={false} isEditing={false}>\n      {null}\n    </TableTdElement>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { InternalExpandableRowsProps } from '../expandable-rows/expandable-rows-utils';\nimport { TableProps, TableRow } from '../interfaces';\n\nexport function useProgressiveLoadingProps<T>({\n  getLoadingStatus,\n  expandableRows,\n}: {\n  getLoadingStatus?: (item: null | T) => TableProps.LoadingStatus;\n  expandableRows: InternalExpandableRowsProps<T>;\n}) {\n  // The rows are either data or loader.\n  // A loader row can be added to the root level (level=0) in which case it has no associated item (item=null).\n  // Loader rows can be added to expandable rows (level>0) in which case they have an associated item (item!=null).\n  // The \"from\" property of the loader row is the index of the first item to be loaded starting 0. It is used to generate unique React keys.\n  const allRows = new Array<TableRow<T>>();\n\n  const items = expandableRows.allItems;\n  const getItemParent = (item: T) => expandableRows.getExpandableItemProps(item).parent;\n  const getItemChildren = (item: T) => expandableRows.getExpandableItemProps(item).children;\n  const getItemLevel = (item?: T) => (item ? expandableRows.getExpandableItemProps(item).level : 0);\n  const isItemExpanded = (item: T) => expandableRows.getExpandableItemProps(item).isExpanded;\n\n  for (let i = 0; i < items.length; i++) {\n    allRows.push({ type: 'data', item: items[i] });\n\n    // Insert empty expandable item loader\n    if (isItemExpanded(items[i]) && getItemChildren(items[i]).length === 0) {\n      const status = getLoadingStatus?.(items[i]);\n      if (status === 'loading' || status === 'finished' || status === 'error') {\n        allRows.push({ type: 'loader', item: items[i], level: getItemLevel(items[i]), status, from: 0 });\n      } else {\n        warnOnce(\n          'Table',\n          'Expanded items without children must have \"loading\", \"finished\", or \"error\" loading status.'\n        );\n      }\n    }\n\n    // Insert expandable items loaders\n    let currentParent = getItemParent(items[i]);\n    let levelsDiff = getItemLevel(items[i]) - getItemLevel(items[i + 1]);\n    while (currentParent && levelsDiff > 0) {\n      const status = getLoadingStatus?.(currentParent);\n      if (status && status !== 'finished') {\n        const level = currentParent ? getItemLevel(currentParent) : 0;\n        const children = currentParent ? getItemChildren(currentParent) : [];\n        allRows.push({ type: 'loader', item: currentParent, level, status, from: children.length });\n      }\n      currentParent = currentParent && getItemParent(currentParent);\n      levelsDiff--;\n    }\n\n    // Insert root loader\n    const rootLoadingStatus = getLoadingStatus?.(null);\n    if (i === items.length - 1 && rootLoadingStatus && rootLoadingStatus !== 'finished') {\n      allRows.push({ type: 'loader', item: null, level: 0, status: rootLoadingStatus, from: items.length });\n    }\n  }\n\n  return { allRows };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { useStableCallback, useUniqueId } from '@cloudscape-design/component-toolkit/internal';\nimport { getIsRtl, getLogicalBoundingClientRect, getLogicalPageX } from '@cloudscape-design/component-toolkit/internal';\nimport { useSingleTabStopNavigation } from '@cloudscape-design/component-toolkit/internal';\n\nimport DragHandleWrapper from '../../internal/components/drag-handle-wrapper';\nimport { useThrottleCallback } from '../../internal/hooks/use-throttle-callback';\nimport { useVisualRefresh } from '../../internal/hooks/use-visual-mode';\nimport { KeyCode } from '../../internal/keycode';\nimport handleKey, { isEventLike } from '../../internal/utils/handle-key';\nimport { scrollElementIntoView } from '../../internal/utils/scrollable-containers';\nimport { DEFAULT_COLUMN_WIDTH } from '../use-column-widths';\nimport { getHeaderWidth, getResizerElements } from './resizer-lookup';\n\nimport styles from './styles.css.js';\n\ninterface ResizerProps {\n  onWidthUpdate: (newWidth: number) => void;\n  onWidthUpdateCommit: () => void;\n  ariaLabelledby?: string;\n  minWidth?: number;\n  tabIndex?: number;\n  focusId?: string;\n  showFocusRing?: boolean;\n  roleDescription?: string;\n  tooltipText?: string;\n  isBorderless: boolean;\n}\n\nconst RESIZE_THROTTLE = 25;\nconst AUTO_GROW_START_TIME = 10;\nconst AUTO_GROW_INTERVAL = 10;\nconst AUTO_GROW_INCREMENT = 5;\n\nexport function Divider({ className }: { className?: string }) {\n  return <span className={clsx(styles.divider, styles['divider-disabled'], className)} />;\n}\n\nexport function Resizer({\n  onWidthUpdate,\n  onWidthUpdateCommit,\n  ariaLabelledby,\n  minWidth = DEFAULT_COLUMN_WIDTH,\n  tabIndex,\n  showFocusRing,\n  focusId,\n  roleDescription,\n  tooltipText,\n  isBorderless,\n}: ResizerProps) {\n  onWidthUpdate = useStableCallback(onWidthUpdate);\n  onWidthUpdateCommit = useStableCallback(onWidthUpdateCommit);\n\n  const isVisualRefresh = useVisualRefresh();\n\n  const separatorId = useUniqueId();\n  const positioningWrapperRef = useRef<HTMLDivElement | null>(null);\n  const resizerToggleRef = useRef<HTMLButtonElement | null>(null);\n  const resizerSeparatorRef = useRef<HTMLSpanElement | null>(null);\n\n  const [isPointerDown, setIsPointerDown] = useState(false);\n  const [isDragging, setIsDragging] = useState(false);\n  const [showUapButtons, setShowUapButtons] = useState(false);\n  const [resizerObscured, setResizerObscured] = useState(false);\n  const [isKeyboardDragging, setIsKeyboardDragging] = useState(false);\n  const autoGrowTimeout = useRef<ReturnType<typeof setTimeout> | undefined>();\n  const [resizerHasFocus, setResizerHasFocus] = useState(false);\n  const [headerCellWidth, setHeaderCellWidth] = useState(0);\n\n  // Read header width after mounting for it to be available in the element's ARIA label before it gets focused.\n  useEffect(() => {\n    setHeaderCellWidth(getHeaderWidth(resizerToggleRef.current));\n  }, []);\n\n  const isObscured = useCallback(() => {\n    const elements = getResizerElements(resizerToggleRef.current);\n    if (!elements || !positioningWrapperRef.current) {\n      return false;\n    }\n\n    let scrollPaddingInlineStart = 0;\n    let scrollPaddingInlineEnd = 0;\n\n    // Calculate size of the headers at the exact moment of the call to deal\n    // with auto-width columns and cached sticky column state.\n    elements.allHeaders.forEach(header => {\n      const { inlineSize } = getLogicalBoundingClientRect(header);\n      if (header.style.insetInlineStart) {\n        scrollPaddingInlineStart += inlineSize;\n      }\n      if (header.style.insetInlineEnd) {\n        scrollPaddingInlineEnd += inlineSize;\n      }\n    });\n\n    const { insetInlineStart: scrollParentInsetInlineStart, insetInlineEnd: scrollParentInsetInlineEnd } =\n      getLogicalBoundingClientRect(elements.scrollParent);\n    const { insetInlineStart, insetInlineEnd, inlineSize } = getLogicalBoundingClientRect(elements.header);\n    const relativeInsetInlineStart = insetInlineStart - scrollParentInsetInlineStart;\n    const relativeInsetInlineEnd = scrollParentInsetInlineEnd - insetInlineEnd;\n    const isSticky = !!elements.header.style.insetInlineStart || !!elements.header.style.insetInlineEnd;\n\n    return (\n      // Is positioningWrapper obscured behind the left edge of scrollParent?\n      Math.ceil(relativeInsetInlineStart + inlineSize) < (isSticky ? 0 : scrollPaddingInlineStart) ||\n      // Is positioningWrapper obscured behind the right edge of scrollParent?\n      Math.ceil(relativeInsetInlineEnd) < (isSticky ? 0 : scrollPaddingInlineEnd)\n    );\n  }, []);\n\n  const scrollIntoViewIfNeeded = useCallback(() => {\n    if (resizerSeparatorRef.current && isObscured()) {\n      scrollElementIntoView(resizerSeparatorRef.current);\n    }\n  }, [isObscured]);\n\n  useEffect(() => {\n    if (!showUapButtons) {\n      setResizerObscured(false);\n      return;\n    }\n\n    const elements = getResizerElements(resizerToggleRef.current);\n    if (!elements) {\n      return;\n    }\n\n    const onScroll = () => setResizerObscured(isObscured());\n    elements.scrollParent.addEventListener('scroll', onScroll);\n    return () => elements.scrollParent.removeEventListener('scroll', onScroll);\n  }, [isObscured, showUapButtons]);\n\n  useEffect(() => {\n    if (showUapButtons) {\n      setResizerObscured(isObscured());\n    }\n  }, [headerCellWidth, isObscured, showUapButtons]);\n\n  const updateTrackerPosition = useCallback((newOffset: number) => {\n    const elements = getResizerElements(resizerToggleRef.current);\n    if (!elements) {\n      return;\n    }\n\n    const { insetInlineStart: scrollParentInsetInlineStart } = getLogicalBoundingClientRect(elements.table);\n    elements.tracker.style.insetBlockStart = getLogicalBoundingClientRect(elements.header).blockSize + 'px';\n    // minus one pixel to offset the cell border\n    elements.tracker.style.insetInlineStart = newOffset - scrollParentInsetInlineStart - 1 + 'px';\n  }, []);\n\n  const updateColumnWidth = useCallback(\n    (newWidth: number) => {\n      const elements = getResizerElements(resizerToggleRef.current);\n      if (!elements) {\n        return;\n      }\n\n      const { insetInlineEnd, inlineSize } = getLogicalBoundingClientRect(elements.header);\n      const updatedWidth = newWidth < minWidth ? minWidth : newWidth;\n      updateTrackerPosition(insetInlineEnd + updatedWidth - inlineSize);\n      setHeaderCellWidth(updatedWidth);\n\n      // callbacks must be the last calls in the handler, because they may cause an extra update\n      onWidthUpdate(newWidth);\n    },\n    [minWidth, onWidthUpdate, updateTrackerPosition]\n  );\n\n  const resizeColumn = useThrottleCallback(\n    (offset: number) => {\n      const elements = getResizerElements(resizerToggleRef.current);\n      if (!elements) {\n        return;\n      }\n\n      const { insetInlineStart: inlineStartEdge } = getLogicalBoundingClientRect(elements.scrollParent);\n      if (offset > inlineStartEdge) {\n        const cellLeft = getLogicalBoundingClientRect(elements.header).insetInlineStart;\n        const newWidth = offset - cellLeft;\n        // callbacks must be the last calls in the handler, because they may cause an extra update\n        updateColumnWidth(newWidth);\n      }\n    },\n    RESIZE_THROTTLE,\n    [updateColumnWidth]\n  );\n\n  useEffect(() => {\n    const elements = getResizerElements(resizerToggleRef.current);\n    const document = resizerToggleRef.current?.ownerDocument ?? window.document;\n\n    if ((!isPointerDown && !resizerHasFocus) || !elements) {\n      return;\n    }\n\n    const { insetInlineEnd: inlineEndEdge } = getLogicalBoundingClientRect(elements.scrollParent);\n\n    const onAutoGrow = () => {\n      const inlineSize = getLogicalBoundingClientRect(elements.header).inlineSize;\n      autoGrowTimeout.current = setTimeout(onAutoGrow, AUTO_GROW_INTERVAL);\n      // callbacks must be the last calls in the handler, because they may cause an extra update\n      updateColumnWidth(inlineSize + AUTO_GROW_INCREMENT);\n      elements.scrollParent.scrollLeft += AUTO_GROW_INCREMENT * (getIsRtl(elements.scrollParent) ? -1 : 1);\n    };\n\n    const onPointerMove = (event: PointerEvent) => {\n      setIsDragging(true);\n      clearTimeout(autoGrowTimeout.current);\n      const offset = getLogicalPageX(event);\n      if (offset > inlineEndEdge) {\n        autoGrowTimeout.current = setTimeout(onAutoGrow, AUTO_GROW_START_TIME);\n      } else {\n        resizeColumn(offset);\n      }\n    };\n\n    const onPointerUp = (event: PointerEvent) => {\n      setIsPointerDown(false);\n      if (isDragging) {\n        setIsDragging(false);\n        resizeColumn(getLogicalPageX(event));\n      } else {\n        setShowUapButtons(true);\n      }\n      onWidthUpdateCommit();\n      clearTimeout(autoGrowTimeout.current);\n    };\n\n    const onKeyDown = (event: KeyboardEvent) => {\n      if (isKeyboardDragging) {\n        const keys = [KeyCode.left, KeyCode.right, KeyCode.enter, KeyCode.space, KeyCode.escape];\n\n        if (keys.indexOf(event.keyCode) !== -1) {\n          event.preventDefault();\n\n          if (isEventLike(event)) {\n            handleKey(event, {\n              onActivate: () => {\n                setIsKeyboardDragging(false);\n                setShowUapButtons(false);\n                resizerToggleRef.current?.focus();\n              },\n              onEscape: () => {\n                setIsKeyboardDragging(false);\n                setShowUapButtons(false);\n                resizerToggleRef.current?.focus();\n              },\n              onInlineStart: () => {\n                updateColumnWidth(getLogicalBoundingClientRect(elements.header).inlineSize - 10);\n                scrollIntoViewIfNeeded();\n              },\n              onInlineEnd: () => {\n                updateColumnWidth(getLogicalBoundingClientRect(elements.header).inlineSize + 10);\n                scrollIntoViewIfNeeded();\n              },\n            });\n          }\n        }\n      } else {\n        if (event.keyCode === KeyCode.enter || event.keyCode === KeyCode.space) {\n          // Enter keyboard dragging mode\n          event.preventDefault();\n\n          if (isEventLike(event)) {\n            handleKey(event, {\n              onActivate: () => {\n                setShowUapButtons(true);\n                setIsKeyboardDragging(true);\n                resizerSeparatorRef.current?.focus();\n              },\n            });\n          }\n        } else {\n          // Showing the UAP buttons when the button is only focused and not activated\n          // gives a false impression that you can resize with the arrow keys.\n          setShowUapButtons(false);\n        }\n      }\n    };\n\n    updateTrackerPosition(getLogicalBoundingClientRect(elements.header).insetInlineEnd);\n    const controller = new AbortController();\n\n    if (isPointerDown) {\n      document.body.classList.add(styles['resize-active']);\n      document.addEventListener('pointermove', onPointerMove, { signal: controller.signal });\n      document.addEventListener('pointerup', onPointerUp, { signal: controller.signal });\n    } else if (resizerHasFocus) {\n      document.body.classList.add(styles['resize-active-with-focus']);\n      elements.header.addEventListener('keydown', onKeyDown, { signal: controller.signal });\n    }\n    if (isKeyboardDragging) {\n      document.body.classList.add(styles['resize-active']);\n    }\n\n    return () => {\n      document.body.classList.remove(styles['resize-active']);\n      document.body.classList.remove(styles['resize-active-with-focus']);\n      controller.abort();\n    };\n  }, [\n    isDragging,\n    isKeyboardDragging,\n    isPointerDown,\n    resizerHasFocus,\n    scrollIntoViewIfNeeded,\n    onWidthUpdateCommit,\n    resizeColumn,\n    updateColumnWidth,\n    updateTrackerPosition,\n  ]);\n\n  useEffect(() => {\n    if (isDragging) {\n      return () => clearTimeout(autoGrowTimeout.current);\n    }\n  }, [isDragging]);\n\n  const { tabIndex: resizerTabIndex } = useSingleTabStopNavigation(resizerToggleRef, { tabIndex });\n\n  return (\n    <div\n      // When the table is borderless (works in visual refresh tables only), the last resize handle must not\n      // exceed table's edges, as it causes an unintended overflow otherwise.\n      className={clsx(\n        styles['resizer-wrapper'],\n        isVisualRefresh && styles['visual-refresh'],\n        (!isVisualRefresh || isBorderless) && styles['is-borderless']\n      )}\n      ref={positioningWrapperRef}\n    >\n      <DragHandleWrapper\n        clickDragThreshold={3}\n        hideButtonsOnDrag={false}\n        directions={{\n          'inline-start': resizerObscured ? undefined : headerCellWidth > minWidth ? 'active' : 'disabled',\n          'inline-end': resizerObscured ? undefined : 'active',\n        }}\n        triggerMode=\"controlled\"\n        controlledShowButtons={showUapButtons && !resizerObscured}\n        wrapperClassName={styles['resizer-button-wrapper']}\n        tooltipText={tooltipText}\n        data-obscured={resizerObscured}\n        onDirectionClick={direction => {\n          const elements = getResizerElements(resizerToggleRef.current);\n          if (!elements) {\n            return;\n          }\n\n          if (direction === 'inline-start') {\n            updateColumnWidth(getLogicalBoundingClientRect(elements.header).inlineSize - 20);\n            requestAnimationFrame(() => {\n              onWidthUpdateCommit();\n              scrollIntoViewIfNeeded();\n            });\n          } else if (direction === 'inline-end') {\n            updateColumnWidth(getLogicalBoundingClientRect(elements.header).inlineSize + 20);\n            requestAnimationFrame(() => {\n              onWidthUpdateCommit();\n              scrollIntoViewIfNeeded();\n            });\n          }\n        }}\n      >\n        <button\n          type=\"button\"\n          ref={resizerToggleRef}\n          className={clsx(\n            styles.resizer,\n            (resizerHasFocus || showFocusRing || isKeyboardDragging) && styles['has-focus']\n          )}\n          onPointerDown={event => {\n            if (event.pointerType === 'mouse' && event.button !== 0) {\n              return;\n            }\n            setIsPointerDown(true);\n          }}\n          onClick={() => {\n            // Prevent mouse drag activation and activate keyboard dragging for VO+Space click.\n            setIsPointerDown(false);\n            setIsDragging(false);\n            setShowUapButtons(true);\n            setResizerHasFocus(true);\n            setIsKeyboardDragging(true);\n            resizerSeparatorRef.current?.focus();\n          }}\n          onFocus={() => {\n            setHeaderCellWidth(getHeaderWidth(resizerToggleRef.current));\n            setResizerHasFocus(true);\n          }}\n          onBlur={event => {\n            // Ignoring blur event when focus moves to the resizer separator element.\n            // (This focus transition is done programmatically when the resizer button is clicked).\n            if (event.relatedTarget !== resizerSeparatorRef.current) {\n              setResizerHasFocus(false);\n              setShowUapButtons(false);\n              return;\n            }\n          }}\n          // Using a custom role-description to make the element's purpose better clear.\n          // The role-description must include the word \"button\" to imply the interaction model.\n          // See https://www.w3.org/TR/wai-aria-1.1/#aria-roledescription\n          aria-roledescription={roleDescription}\n          aria-labelledby={ariaLabelledby}\n          tabIndex={resizerTabIndex}\n          data-focus-id={focusId}\n        />\n        <span\n          className={clsx(styles['divider-interactive'], (isPointerDown || isDragging) && styles['divider-active'])}\n          data-awsui-table-suppress-navigation={true}\n          ref={resizerSeparatorRef}\n          id={separatorId}\n          role=\"slider\"\n          tabIndex={-1}\n          aria-labelledby={ariaLabelledby}\n          aria-hidden={!isKeyboardDragging}\n          aria-valuemin={minWidth}\n          // aria-valuemax is needed because the slider is inoperable in VoiceOver without it\n          aria-valuemax={Number.MAX_SAFE_INTEGER}\n          aria-valuenow={headerCellWidth}\n          data-focus-id={focusId}\n          onBlur={event => {\n            setIsKeyboardDragging(false);\n            if (event.relatedTarget !== resizerToggleRef.current) {\n              setResizerHasFocus(false);\n              setShowUapButtons(false);\n            }\n            onWidthUpdateCommit();\n          }}\n        />\n      </DragHandleWrapper>\n    </div>\n  );\n}\n\nexport function ResizeTracker() {\n  return <span className={styles.tracker} />;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useMemo } from 'react';\n\nimport { throttle, ThrottledFunction } from '../../utils/throttle';\n\nexport function useThrottleCallback<F extends (...args: any) => any>(\n  func: F,\n  delay: number,\n  deps: React.DependencyList\n): ThrottledFunction<F> {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return useMemo(() => throttle(func, delay), deps);\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport interface ThrottleOptions {\n  leading?: boolean;\n  trailing?: boolean;\n}\n\nexport interface ThrottledFunction<F extends (...args: any) => any> {\n  (...args: Parameters<F>): void;\n  cancel(): void;\n}\n\nexport function throttle<F extends (...args: any) => any>(\n  func: F,\n  delay: number,\n  { trailing = true }: ThrottleOptions = {}\n): ThrottledFunction<F> {\n  let pending: null | { this: any; args: any } = null;\n  let lastInvokeTime: null | number = null;\n  let timerId: null | number = null;\n\n  // Runs on every animation frame until timer stopped.\n  function pendingFunc() {\n    if (pending === null || lastInvokeTime === null) {\n      return;\n    }\n\n    const invokeTime = Date.now();\n    const shouldInvoke = invokeTime - lastInvokeTime >= delay;\n\n    if (shouldInvoke) {\n      func.apply(pending.this, pending.args);\n      lastInvokeTime = invokeTime;\n      pending = null;\n      timerId = null;\n    } else if (trailing) {\n      startTimer();\n    }\n  }\n\n  function startTimer() {\n    if (timerId) {\n      cancelAnimationFrame(timerId);\n    }\n    timerId = requestAnimationFrame(pendingFunc);\n  }\n\n  // Decorated client function with delay mechanism.\n  function throttled(this: any, ...args: any) {\n    if (lastInvokeTime === null) {\n      lastInvokeTime = Date.now();\n      func.apply(this, args);\n    } else {\n      pending = { this: this, args };\n      startTimer();\n    }\n  }\n\n  // Prevents delayed function from execution when no longer needed.\n  throttled.cancel = () => {\n    if (timerId) {\n      cancelAnimationFrame(timerId);\n    }\n    pending = null;\n    lastInvokeTime = null;\n    timerId = null;\n  };\n\n  return throttled;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { createContext, useContext, useEffect, useRef, useState } from 'react';\n\nimport { useResizeObserver, useStableCallback } from '@cloudscape-design/component-toolkit/internal';\nimport { getLogicalBoundingClientRect } from '@cloudscape-design/component-toolkit/internal';\n\nimport { ColumnWidthStyle, setElementWidths } from './column-widths-utils';\n\nexport const DEFAULT_COLUMN_WIDTH = 120;\n\nexport interface ColumnWidthDefinition extends ColumnWidthStyle {\n  id: PropertyKey;\n}\n\nfunction readWidths(\n  getCell: (columnId: PropertyKey) => null | HTMLElement,\n  visibleColumns: readonly ColumnWidthDefinition[]\n) {\n  const result = new Map<PropertyKey, number>();\n  for (let index = 0; index < visibleColumns.length; index++) {\n    const column = visibleColumns[index];\n    let width = (column.width as number) || 0;\n    const minWidth = (column.minWidth as number) || width || DEFAULT_COLUMN_WIDTH;\n    if (\n      !width && // read width from the DOM if it is missing in the config\n      index !== visibleColumns.length - 1 // skip reading for the last column, because it expands to fully fit the container\n    ) {\n      const colEl = getCell(column.id);\n      width = colEl ? getLogicalBoundingClientRect(colEl).inlineSize : DEFAULT_COLUMN_WIDTH;\n    }\n    result.set(column.id, Math.max(width, minWidth));\n  }\n  return result;\n}\n\nfunction updateWidths(\n  visibleColumns: readonly ColumnWidthDefinition[],\n  oldWidths: Map<PropertyKey, number>,\n  newWidth: number,\n  columnId: PropertyKey\n) {\n  const column = visibleColumns.find(column => column.id === columnId);\n  let minWidth = DEFAULT_COLUMN_WIDTH;\n  if (typeof column?.width === 'number' && column.width < DEFAULT_COLUMN_WIDTH) {\n    minWidth = column?.width;\n  }\n  if (typeof column?.minWidth === 'number') {\n    minWidth = column?.minWidth;\n  }\n  newWidth = Math.max(newWidth, minWidth);\n  if (oldWidths.get(columnId) === newWidth) {\n    return oldWidths;\n  }\n  const newWidths = new Map(oldWidths);\n  newWidths.set(columnId, newWidth);\n  return newWidths;\n}\n\ninterface WidthsContext {\n  getColumnStyles(sticky: boolean, columnId: PropertyKey): ColumnWidthStyle;\n  columnWidths: Map<PropertyKey, number>;\n  updateColumn: (columnId: PropertyKey, newWidth: number) => void;\n  setCell: (sticky: boolean, columnId: PropertyKey, node: null | HTMLElement) => void;\n}\n\nconst WidthsContext = createContext<WidthsContext>({\n  getColumnStyles: () => ({}),\n  columnWidths: new Map(),\n  updateColumn: () => {},\n  setCell: () => {},\n});\n\ninterface WidthProviderProps {\n  visibleColumns: readonly ColumnWidthDefinition[];\n  resizableColumns: boolean | undefined;\n  containerRef: React.RefObject<HTMLElement>;\n  children: React.ReactNode;\n}\n\nexport function ColumnWidthsProvider({ visibleColumns, resizableColumns, containerRef, children }: WidthProviderProps) {\n  const visibleColumnsRef = useRef<PropertyKey[] | null>(null);\n  const containerWidthRef = useRef(0);\n  const [columnWidths, setColumnWidths] = useState<null | Map<PropertyKey, number>>(null);\n\n  const cellsRef = useRef(new Map<PropertyKey, HTMLElement>());\n  const stickyCellsRef = useRef(new Map<PropertyKey, HTMLElement>());\n  const getCell = (columnId: PropertyKey): null | HTMLElement => cellsRef.current.get(columnId) ?? null;\n  const setCell = (sticky: boolean, columnId: PropertyKey, node: null | HTMLElement) => {\n    const ref = sticky ? stickyCellsRef : cellsRef;\n    if (node) {\n      ref.current.set(columnId, node);\n    } else {\n      ref.current.delete(columnId);\n    }\n  };\n\n  const getColumnStyles = (sticky: boolean, columnId: PropertyKey): ColumnWidthStyle => {\n    const column = visibleColumns.find(column => column.id === columnId);\n    if (!column) {\n      return {};\n    }\n\n    if (sticky) {\n      return {\n        width:\n          cellsRef.current.get(column.id)?.getBoundingClientRect().width ||\n          (columnWidths?.get(column.id) ?? column.width),\n      };\n    }\n\n    if (resizableColumns && columnWidths) {\n      const isLastColumn = column.id === visibleColumns[visibleColumns.length - 1]?.id;\n      const totalWidth = visibleColumns.reduce(\n        (sum, { id }) => sum + (columnWidths.get(id) || DEFAULT_COLUMN_WIDTH),\n        0\n      );\n      if (isLastColumn && containerWidthRef.current > totalWidth) {\n        return { width: 'auto', minWidth: column?.minWidth };\n      } else {\n        return { width: columnWidths.get(column.id), minWidth: column?.minWidth };\n      }\n    }\n    return {\n      width: column.width,\n      minWidth: column.minWidth,\n      maxWidth: !resizableColumns ? column.maxWidth : undefined,\n    };\n  };\n\n  // Imperatively sets width style for a cell avoiding React state.\n  // This allows setting the style as soon container's size change is observed.\n  const updateColumnWidths = useStableCallback(() => {\n    for (const { id } of visibleColumns) {\n      const element = cellsRef.current.get(id);\n      if (element) {\n        setElementWidths(element, getColumnStyles(false, id));\n      }\n    }\n    // Sticky column widths must be synchronized once all real column widths are assigned.\n    for (const { id } of visibleColumns) {\n      const element = stickyCellsRef.current.get(id);\n      if (element) {\n        setElementWidths(element, getColumnStyles(true, id));\n      }\n    }\n  });\n\n  // Observes container size and requests an update to the last cell width as it depends on the container's width.\n  useResizeObserver(containerRef, ({ contentBoxWidth: containerWidth }) => {\n    containerWidthRef.current = containerWidth;\n    requestAnimationFrame(() => updateColumnWidths());\n  });\n\n  // The widths of the dynamically added columns (after the first render) if not set explicitly\n  // will default to the DEFAULT_COLUMN_WIDTH.\n  useEffect(() => {\n    updateColumnWidths();\n\n    if (!resizableColumns) {\n      return;\n    }\n    let updated = false;\n    const newColumnWidths = new Map(columnWidths);\n    const lastVisible = visibleColumnsRef.current;\n    if (lastVisible) {\n      for (let index = 0; index < visibleColumns.length; index++) {\n        const column = visibleColumns[index];\n        if (!columnWidths?.get(column.id) && lastVisible.indexOf(column.id) === -1) {\n          updated = true;\n          newColumnWidths.set(column.id, (column.width as number) || DEFAULT_COLUMN_WIDTH);\n        }\n      }\n      if (updated) {\n        setColumnWidths(newColumnWidths);\n      }\n    }\n    visibleColumnsRef.current = visibleColumns.map(column => column.id);\n  }, [columnWidths, resizableColumns, visibleColumns, updateColumnWidths]);\n\n  // Read the actual column widths after the first render to employ the browser defaults for\n  // those columns without explicit width.\n  useEffect(() => {\n    if (!resizableColumns) {\n      return;\n    }\n    setColumnWidths(() => readWidths(getCell, visibleColumns));\n    // This code is intended to run only at the first render and should not re-run when table props change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function updateColumn(columnId: PropertyKey, newWidth: number) {\n    setColumnWidths(columnWidths => updateWidths(visibleColumns, columnWidths ?? new Map(), newWidth, columnId));\n  }\n\n  return (\n    <WidthsContext.Provider value={{ getColumnStyles, columnWidths: columnWidths ?? new Map(), updateColumn, setCell }}>\n      {children}\n    </WidthsContext.Provider>\n  );\n}\n\nexport function useColumnWidths() {\n  return useContext(WidthsContext);\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"resize-active\": \"awsui_resize-active_x7peu_an1qk_145\",\n  \"resize-active-with-focus\": \"awsui_resize-active-with-focus_x7peu_an1qk_145\",\n  \"resizer-wrapper\": \"awsui_resizer-wrapper_x7peu_an1qk_150\",\n  \"divider-interactive\": \"awsui_divider-interactive_x7peu_an1qk_158\",\n  \"is-borderless\": \"awsui_is-borderless_x7peu_an1qk_158\",\n  \"resizer-button-wrapper\": \"awsui_resizer-button-wrapper_x7peu_an1qk_162\",\n  \"divider\": \"awsui_divider_x7peu_an1qk_158\",\n  \"divider-disabled\": \"awsui_divider-disabled_x7peu_an1qk_182\",\n  \"visual-refresh\": \"awsui_visual-refresh_x7peu_an1qk_190\",\n  \"divider-active\": \"awsui_divider-active_x7peu_an1qk_194\",\n  \"resizer\": \"awsui_resizer_x7peu_an1qk_150\",\n  \"has-focus\": \"awsui_has-focus_x7peu_an1qk_246\",\n  \"tracker\": \"awsui_tracker_x7peu_an1qk_268\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { findUpUntil } from '@cloudscape-design/component-toolkit/dom';\nimport { getLogicalBoundingClientRect } from '@cloudscape-design/component-toolkit/internal';\n\nimport { getOverflowParents } from '../../internal/utils/scrollable-containers.js';\n\nimport tableStyles from '../styles.css.js';\nimport resizerStyles from './styles.css.js';\n\nexport function getResizerElements(resizerElement: null | HTMLElement) {\n  if (!resizerElement) {\n    return null;\n  }\n\n  const header = findUpUntil(resizerElement, element => element.tagName === 'TH');\n  if (!header) {\n    return null;\n  }\n\n  const tableRoot = findUpUntil(header, element => element.className.indexOf(tableStyles.root) > -1);\n  if (!tableRoot) {\n    return null;\n  }\n\n  const table = tableRoot.querySelector<HTMLTableElement>(`table`);\n  if (!table) {\n    return null;\n  }\n\n  const allHeaders = tableRoot.querySelectorAll<HTMLTableCellElement>(`thead th`);\n\n  // tracker is rendered inside table wrapper to align with its size\n  const tracker = tableRoot.querySelector<HTMLElement>(`.${resizerStyles.tracker}`);\n  if (!tracker) {\n    return null;\n  }\n\n  const scrollParent = getOverflowParents(header)[0];\n  if (!scrollParent) {\n    return null;\n  }\n\n  return { header, table, allHeaders, tracker, scrollParent };\n}\n\nexport function getHeaderWidth(resizerElement: null | HTMLElement): number {\n  const header = resizerElement && findUpUntil(resizerElement, element => element.tagName.toLowerCase() === 'th');\n  return header ? getLogicalBoundingClientRect(header).inlineSize : 0;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { KeyboardEvent, KeyboardEventHandler, MouseEvent } from 'react';\nimport clsx from 'clsx';\n\nimport { useSingleTabStopNavigation, useUniqueId } from '@cloudscape-design/component-toolkit/internal';\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport InternalCheckbox from '../../checkbox/internal';\nimport RadioButton from '../../internal/components/radio-button';\nimport { KeyCode } from '../../internal/keycode';\nimport { ItemSelectionProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport interface SelectionControlProps extends ItemSelectionProps {\n  onShiftToggle?(shiftPressed: boolean): void;\n  onFocusUp?: KeyboardEventHandler;\n  onFocusDown?: KeyboardEventHandler;\n  ariaLabel?: string;\n  tabIndex?: -1;\n  focusedComponent?: null | string;\n  rowIndex?: number;\n  itemKey?: string;\n  verticalAlign?: 'middle' | 'top';\n}\n\nexport function SelectionControl({\n  selectionType,\n  indeterminate = false,\n  onShiftToggle,\n  onFocusUp,\n  onFocusDown,\n  name,\n  ariaLabel,\n  focusedComponent,\n  rowIndex,\n  itemKey,\n  verticalAlign = 'middle',\n  onChange,\n  ...sharedProps\n}: SelectionControlProps) {\n  const controlId = useUniqueId();\n  const isMultiSelection = selectionType === 'multi';\n  const { navigationActive } = useSingleTabStopNavigation(null);\n\n  const setShiftState = (event: KeyboardEvent | MouseEvent) => {\n    if (isMultiSelection) {\n      onShiftToggle?.(event.shiftKey);\n    }\n  };\n\n  const onMouseDownHandler = (event: MouseEvent) => {\n    setShiftState(event);\n    if (isMultiSelection) {\n      // To overcome an issue\n      // If you shift+click or ctrl+click on a label for a checkbox, checkbox is not checked.\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=559506\n      event.preventDefault();\n    }\n  };\n\n  // native checkboxes do not have focus move via keyboard, we implement it here programmatically\n  const handleKeyDown = (event: KeyboardEvent) => {\n    setShiftState(event);\n    if (isMultiSelection && !navigationActive) {\n      if (event.keyCode === KeyCode.up) {\n        event.preventDefault();\n        onFocusUp?.(event);\n      }\n      if (event.keyCode === KeyCode.down) {\n        event.preventDefault();\n        onFocusDown?.(event);\n      }\n    }\n  };\n\n  const handleClick = (event: MouseEvent) => {\n    const target = event.currentTarget;\n    const nativeInput = (target.tagName === 'INPUT' ? target : target.querySelector('input')) as HTMLInputElement;\n    // Clicking on input, does not focus it on Firefox (AWSUI-11345)\n    nativeInput?.focus();\n  };\n\n  const selector = isMultiSelection ? (\n    <InternalCheckbox\n      {...sharedProps}\n      onChange={onChange}\n      showOutline={focusedComponent === 'selection-control'}\n      controlId={controlId}\n      data-focus-id=\"selection-control\"\n      indeterminate={indeterminate}\n    />\n  ) : (\n    <RadioButton {...sharedProps} controlId={controlId} name={name} value={''} onSelect={onChange} />\n  );\n\n  return (\n    <>\n      <label\n        onKeyDown={handleKeyDown}\n        onKeyUp={setShiftState}\n        onMouseDown={onMouseDownHandler}\n        onMouseUp={setShiftState}\n        onClick={handleClick}\n        htmlFor={controlId}\n        className={clsx(styles.label, styles.root, verticalAlign === 'top' && styles['label-top'])}\n        aria-label={ariaLabel}\n        title={ariaLabel}\n        {...(rowIndex !== undefined && !sharedProps.disabled\n          ? getAnalyticsMetadataAttribute({\n              detail: {\n                position: `${rowIndex + 1}`,\n                item: itemKey || '',\n              },\n            })\n          : {})}\n      >\n        {selector}\n      </label>\n      <span className={styles.stud} aria-hidden={true}>\n        &nbsp;\n      </span>\n    </>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useSingleTabStopNavigation } from '@cloudscape-design/component-toolkit/internal';\nimport {\n  GeneratedAnalyticsMetadataFragment,\n  getAnalyticsMetadataAttribute,\n} from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport { getBaseProps } from '../internal/base-component';\nimport AbstractSwitch from '../internal/components/abstract-switch';\nimport CheckboxIcon from '../internal/components/checkbox-icon';\nimport { useFormFieldContext } from '../internal/context/form-field-context';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport useForwardFocus from '../internal/hooks/forward-focus';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport WithNativeAttributes from '../internal/utils/with-native-attributes';\nimport { GeneratedAnalyticsMetadataCheckboxComponent } from './analytics-metadata/interfaces';\nimport { CheckboxProps } from './interfaces';\nimport { getAbstractSwitchStyles, getCheckboxIconStyles } from './style';\n\nimport styles from './styles.css.js';\n\ninterface InternalProps extends CheckboxProps, InternalBaseComponentProps {\n  tabIndex?: -1;\n  showOutline?: boolean;\n  __injectAnalyticsComponentMetadata?: boolean;\n}\n\nconst InternalCheckbox = React.forwardRef<CheckboxProps.Ref, InternalProps>(\n  (\n    {\n      controlId,\n      name,\n      checked,\n      disabled,\n      readOnly,\n      ariaRequired,\n      indeterminate,\n      children,\n      description,\n      ariaLabel,\n      onFocus,\n      onBlur,\n      onChange,\n      tabIndex: explicitTabIndex,\n      showOutline,\n      ariaControls,\n      style,\n      nativeInputAttributes,\n      __internalRootRef,\n      __injectAnalyticsComponentMetadata = false,\n      ...rest\n    },\n    ref\n  ) => {\n    const { ariaDescribedby, ariaLabelledby } = useFormFieldContext(rest);\n    const baseProps = getBaseProps(rest);\n    const checkboxRef = useRef<HTMLInputElement>(null);\n    useForwardFocus(ref, checkboxRef);\n    useEffect(() => {\n      if (checkboxRef.current) {\n        checkboxRef.current.indeterminate = Boolean(indeterminate);\n      }\n    });\n\n    const { tabIndex } = useSingleTabStopNavigation(checkboxRef, { tabIndex: explicitTabIndex });\n\n    const analyticsMetadata: GeneratedAnalyticsMetadataFragment = {};\n    const analyticsComponentMetadata: GeneratedAnalyticsMetadataCheckboxComponent = {\n      name: 'awsui.Checkbox',\n      label: { root: 'self' },\n      properties: {\n        checked: `${!!checked}`,\n      },\n    };\n    if (__injectAnalyticsComponentMetadata) {\n      analyticsMetadata.component = analyticsComponentMetadata;\n    }\n    if (!disabled && !readOnly) {\n      analyticsMetadata.action = !checked ? 'select' : 'deselect';\n    }\n\n    return (\n      <AbstractSwitch\n        {...baseProps}\n        className={clsx(styles.root, baseProps.className)}\n        controlClassName={styles['checkbox-control']}\n        outlineClassName={styles.outline}\n        controlId={controlId}\n        disabled={disabled}\n        readOnly={readOnly}\n        label={children}\n        description={description}\n        descriptionBottomPadding={true}\n        ariaLabel={ariaLabel}\n        ariaLabelledby={ariaLabelledby}\n        ariaDescribedby={ariaDescribedby}\n        ariaControls={ariaControls}\n        showOutline={showOutline}\n        nativeControl={nativeControlProps => (\n          <WithNativeAttributes<HTMLInputElement, React.InputHTMLAttributes<HTMLInputElement>>\n            {...nativeControlProps}\n            tag=\"input\"\n            componentName=\"Checkbox\"\n            nativeAttributes={nativeInputAttributes}\n            ref={checkboxRef}\n            type=\"checkbox\"\n            checked={checked}\n            name={name}\n            aria-required={ariaRequired ? 'true' : undefined}\n            aria-disabled={readOnly && !disabled ? 'true' : undefined}\n            tabIndex={tabIndex}\n            onFocus={() => fireNonCancelableEvent(onFocus)}\n            onBlur={() => fireNonCancelableEvent(onBlur)}\n            // empty handler to suppress React controllability warning\n            onChange={() => {}}\n          />\n        )}\n        onClick={() => {\n          checkboxRef.current?.focus();\n          fireNonCancelableEvent(\n            onChange,\n            // for deterministic transitions \"indeterminate\" -> \"checked\" -> \"unchecked\"\n            indeterminate ? { checked: true, indeterminate: false } : { checked: !checked, indeterminate: false }\n          );\n        }}\n        styledControl={\n          <CheckboxIcon\n            checked={checked}\n            indeterminate={indeterminate}\n            disabled={disabled}\n            readOnly={readOnly}\n            style={getCheckboxIconStyles(style, checked, disabled, readOnly, indeterminate)}\n          />\n        }\n        style={getAbstractSwitchStyles(style, checked, disabled, readOnly, indeterminate)}\n        __internalRootRef={__internalRootRef}\n        {...getAnalyticsMetadataAttribute(analyticsMetadata)}\n      />\n    );\n  }\n);\n\nexport default InternalCheckbox;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { SYSTEM } from '../internal/environment';\nimport { getComputedAbstractSwitchState } from '../internal/utils/style';\nimport { CheckboxProps } from './interfaces';\n\nexport function getAbstractSwitchStyles(\n  style: CheckboxProps.Style | undefined,\n  checked?: boolean,\n  disabled?: boolean,\n  readOnly?: boolean,\n  indeterminate?: boolean\n) {\n  let properties = {};\n\n  if (SYSTEM === 'core' && (style?.label || style?.input)) {\n    const computedState = getComputedAbstractSwitchState(checked, disabled, readOnly, indeterminate);\n\n    properties = {\n      label: {\n        color: style?.label?.color && style.label.color[computedState as keyof typeof style.label.color],\n      },\n      focusRing: {\n        borderColor: style?.input?.focusRing?.borderColor,\n        borderRadius: style?.input?.focusRing?.borderRadius,\n        borderWidth: style?.input?.focusRing?.borderWidth,\n      },\n    };\n  }\n\n  return properties;\n}\n\nexport function getCheckboxIconStyles(\n  style: CheckboxProps.Style | undefined,\n  checked?: boolean,\n  disabled?: boolean,\n  readOnly?: boolean,\n  indeterminate?: boolean\n) {\n  let properties = {};\n\n  if (SYSTEM === 'core' && style?.input) {\n    const computedState = getComputedAbstractSwitchState(checked, disabled, readOnly, indeterminate);\n\n    properties = {\n      box: {\n        fill: style.input?.fill && style.input.fill[computedState as keyof typeof style.input.fill],\n        stroke: style.input?.stroke && style.input.stroke[computedState as keyof typeof style.input.stroke],\n      },\n      line: {\n        stroke:\n          style.input?.check?.stroke &&\n          style.input.check.stroke[computedState as keyof typeof style.input.check.stroke],\n      },\n    };\n  }\n\n  return properties;\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_k2y2q_1mcis_145\",\n  \"checkbox-control\": \"awsui_checkbox-control_k2y2q_1mcis_178\",\n  \"outline\": \"awsui_outline_k2y2q_1mcis_186\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1s55x_14pps_145\",\n  \"label\": \"awsui_label_1s55x_14pps_149\",\n  \"label-top\": \"awsui_label-top_1s55x_14pps_163\",\n  \"stud\": \"awsui_stud_1s55x_14pps_168\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { KeyboardEvent } from 'react';\n\nimport { findUpUntil } from '@cloudscape-design/component-toolkit/dom';\n\nimport { InternalSelectionType } from '../interfaces';\nimport { SELECTION_ITEM } from './utils';\n\nimport selectionStyles from './styles.css.js';\n\n// The hooks moves focus between multi-selection checkboxes.\n// Not eligible for tables with grid navigation.\nexport function useSelectionFocusMove(selectionType: undefined | InternalSelectionType, totalItems: number) {\n  if (selectionType !== 'multi') {\n    return {};\n  }\n  function moveFocus(sourceElement: HTMLElement, fromIndex: number, direction: -1 | 1) {\n    let index = fromIndex;\n    const rootContainer = findRootContainer(sourceElement);\n\n    while (index >= -1 && index < totalItems) {\n      index += direction;\n      const control = findSelectionControlByIndex(rootContainer, index);\n      if (control && !control.disabled) {\n        control.focus();\n        break;\n      }\n    }\n  }\n  const [moveFocusDown, moveFocusUp] = ([1, -1] as const).map(direction => {\n    return (event: KeyboardEvent) => {\n      const target = event.currentTarget as HTMLElement;\n      const itemNode = findUpUntil(target, node => node.dataset.selectionItem === 'item')!;\n      const fromIndex = Array.prototype.indexOf.call(itemNode.parentElement!.children, itemNode);\n      moveFocus(target, fromIndex, direction);\n    };\n  });\n  return {\n    moveFocusDown,\n    moveFocusUp,\n    moveFocus,\n  };\n}\n\nfunction findSelectionControlByIndex(rootContainer: HTMLElement, index: number) {\n  if (index === -1) {\n    // find \"select all\" checkbox\n    return rootContainer.querySelector<HTMLInputElement>(\n      `[data-${SELECTION_ITEM}=\"all\"] .${selectionStyles.root} input`\n    );\n  }\n  return rootContainer.querySelectorAll<HTMLInputElement>(\n    `[data-${SELECTION_ITEM}=\"item\"] .${selectionStyles.root} input`\n  )[index];\n}\n\nfunction findRootContainer(element: HTMLElement) {\n  return findUpUntil(element, node => node.dataset.selectionRoot === 'true')!;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useState } from 'react';\n\nimport { useUniqueId } from '@cloudscape-design/component-toolkit/internal';\n\nimport { fireNonCancelableEvent } from '../../internal/events';\nimport { joinStrings } from '../../internal/utils/strings';\nimport { InternalSelectionType, TableProps } from '../interfaces';\nimport { getTrackableValue } from '../utils';\nimport { SelectionProps } from './interfaces';\nimport { ItemSet } from './utils';\n\ntype SelectionOptions<T> = Pick<\n  TableProps<T>,\n  | 'ariaLabels'\n  | 'isItemDisabled'\n  | 'items'\n  | 'loading'\n  | 'onSelectionChange'\n  | 'selectedItems'\n  | 'trackBy'\n  | 'totalItemsCount'\n> & { setLastUserAction?: (name: string) => void; selectionType?: InternalSelectionType };\n\nexport function useSelection<T>(options: SelectionOptions<T>): SelectionProps<T> {\n  const singleSelectionProps = useSingleSelection(options);\n  const multiSelectionProps = useMultiSelection(options);\n  switch (options.selectionType) {\n    case 'single':\n      return singleSelectionProps;\n    case 'multi':\n      return multiSelectionProps;\n    default:\n      return { isItemSelected: () => false };\n  }\n}\n\nfunction useSingleSelection<T>({\n  ariaLabels,\n  isItemDisabled = () => false,\n  onSelectionChange,\n  selectedItems = [],\n  selectionType,\n  trackBy,\n  setLastUserAction,\n}: SelectionOptions<T>): SelectionProps<T> {\n  // The name assigned to all controls to combine them in a single group.\n  const selectionControlName = useUniqueId();\n\n  if (selectionType !== 'single') {\n    return { isItemSelected: () => false };\n  }\n\n  // Selection state for individual items.\n  const selectedSet = new ItemSet(trackBy, selectedItems.slice(0, 1));\n  const isItemSelected = selectedSet.has.bind(selectedSet);\n\n  const handleToggleItem = (item: T) => {\n    if (!isItemDisabled(item) && !isItemSelected(item)) {\n      fireNonCancelableEvent(onSelectionChange, { selectedItems: [item] });\n      setLastUserAction?.('selection');\n    }\n  };\n\n  return {\n    isItemSelected,\n    getItemSelectionProps: item => ({\n      name: selectionControlName,\n      selectionType: 'single',\n      disabled: isItemDisabled(item),\n      checked: isItemSelected(item),\n      onChange: () => handleToggleItem(item),\n      ariaLabel: joinStrings(\n        ariaLabels?.selectionGroupLabel,\n        ariaLabels?.itemSelectionLabel?.({ selectedItems }, item)\n      ),\n    }),\n  };\n}\n\nfunction useMultiSelection<T>({\n  ariaLabels,\n  isItemDisabled = () => false,\n  items,\n  loading,\n  onSelectionChange,\n  selectedItems = [],\n  selectionType,\n  trackBy,\n  setLastUserAction,\n  totalItemsCount,\n}: SelectionOptions<T>): SelectionProps<T> {\n  // The name assigned to all controls to combine them in a single group.\n  const selectionControlName = useUniqueId();\n  const [shiftPressed, setShiftPressed] = useState(false);\n  const [lastClickedItem, setLastClickedItem] = useState<null | T>(null);\n\n  if (selectionType !== 'multi') {\n    return { isItemSelected: () => false };\n  }\n\n  // Selection state for individual items.\n  const selectedSet = new ItemSet(trackBy, selectedItems);\n  const isItemSelected = selectedSet.has.bind(selectedSet);\n\n  // Derived selection state for all-items checkbox.\n  let allItemsDisabled = true;\n  let allEnabledItemsSelected = true;\n  for (const item of items) {\n    allItemsDisabled = allItemsDisabled && isItemDisabled(item);\n    allEnabledItemsSelected = allEnabledItemsSelected && (isItemSelected(item) || isItemDisabled(item));\n  }\n  const allItemsCheckboxSelected = selectedItems.length > 0 && allEnabledItemsSelected;\n  const allItemsCheckboxIndeterminate = selectedItems.length > 0 && !allEnabledItemsSelected;\n\n  // Shift-selection helpers.\n  const itemIndexesMap = new Map<T, number>();\n  items.forEach((item, i) => itemIndexesMap.set(getTrackableValue(trackBy, item), i));\n  const getShiftSelectedItems = (item: T): T[] => {\n    const lastClickedItemIndex = lastClickedItem\n      ? itemIndexesMap.get(getTrackableValue(trackBy, lastClickedItem))\n      : undefined;\n    // We use lastClickedItemIndex to determine if filtering/sorting/pagination\n    // made previously selected item invisible, therefore we reset state for shift-select.\n    if (lastClickedItemIndex !== undefined) {\n      const currentItemIndex = itemIndexesMap.get(getTrackableValue(trackBy, item))!;\n      const start = Math.min(currentItemIndex, lastClickedItemIndex);\n      const end = Math.max(currentItemIndex, lastClickedItemIndex);\n      return items.slice(start, end + 1);\n    }\n    return [item];\n  };\n\n  // Select items that are not already selected or disabled.\n  const selectItems = (requestedItems: readonly T[]) => {\n    const newSelectedItems = [...selectedItems];\n    requestedItems.forEach(newItem => {\n      if (!isItemSelected(newItem) && !isItemDisabled(newItem)) {\n        newSelectedItems.push(newItem);\n      }\n    });\n    return newSelectedItems;\n  };\n\n  // Unselect items unless they are disabled.\n  const deselectItems = (requestedItems: readonly T[]) => {\n    const requestedItemsSet = new ItemSet(trackBy, requestedItems);\n    const newSelectedItems: Array<T> = [];\n    selectedItems.forEach(selectedItem => {\n      const shouldUnselect = requestedItemsSet.has(selectedItem);\n      if (!shouldUnselect || isItemDisabled(selectedItem)) {\n        newSelectedItems.push(selectedItem);\n      }\n    });\n    return newSelectedItems;\n  };\n\n  const handleToggleAll = () => {\n    const newSelectedItems = allEnabledItemsSelected ? deselectItems(items) : selectItems(items);\n    fireNonCancelableEvent(onSelectionChange, { selectedItems: newSelectedItems });\n    setLastUserAction?.('selection');\n  };\n\n  const handleToggleItem = (item: T) => {\n    if (!isItemDisabled(item)) {\n      const requestedItems = shiftPressed ? getShiftSelectedItems(item) : [item];\n      const selectedItems = isItemSelected(item) ? deselectItems(requestedItems) : selectItems(requestedItems);\n      fireNonCancelableEvent(onSelectionChange, { selectedItems });\n      setLastClickedItem(item);\n      setLastUserAction?.('selection');\n    }\n  };\n\n  return {\n    isItemSelected,\n    getSelectAllProps: () => ({\n      name: selectionControlName,\n      selectionType: 'multi',\n      disabled: allItemsDisabled || !!loading,\n      checked: allItemsCheckboxSelected,\n      indeterminate: allItemsCheckboxIndeterminate,\n      onChange: handleToggleAll,\n      ariaLabel: joinStrings(\n        ariaLabels?.selectionGroupLabel,\n        ariaLabels?.allItemsSelectionLabel?.({\n          selectedItems,\n          itemsCount: totalItemsCount,\n          selectedItemsCount: selectedItems.length,\n        })\n      ),\n      selectionGroupLabel: ariaLabels?.selectionGroupLabel,\n    }),\n    getItemSelectionProps: item => ({\n      name: selectionControlName,\n      selectionType: 'multi',\n      disabled: isItemDisabled(item),\n      checked: isItemSelected(item),\n      onChange: () => handleToggleItem(item),\n      onShiftToggle: value => setShiftPressed(value),\n      ariaLabel: joinStrings(\n        ariaLabels?.selectionGroupLabel,\n        ariaLabels?.itemSelectionLabel?.({ selectedItems }, item)\n      ),\n    }),\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport ScreenreaderOnly from '../../internal/components/screenreader-only';\nimport { TableTdElement, TableTdElementProps } from '../body-cell/td-element';\nimport { TableThElement, TableThElementProps } from '../header-cell/th-element';\nimport { Divider } from '../resizer';\nimport { ItemSelectionProps } from './interfaces';\nimport { SelectionControl, SelectionControlProps } from './selection-control';\n\nimport styles from '../styles.css.js';\n\ninterface TableHeaderSelectionCellProps extends Omit<TableThElementProps, 'children' | 'colIndex'> {\n  focusedComponent?: null | string;\n  singleSelectionHeaderAriaLabel?: string;\n  getSelectAllProps?: () => ItemSelectionProps;\n  onFocusMove: ((sourceElement: HTMLElement, fromIndex: number, direction: -1 | 1) => void) | undefined;\n}\n\ninterface TableBodySelectionCellProps\n  extends Omit<TableTdElementProps, 'children' | 'colIndex' | 'wrapLines' | 'isEditable' | 'isEditing'> {\n  selectionControlProps?: SelectionControlProps;\n}\n\nexport function TableHeaderSelectionCell({\n  focusedComponent,\n  singleSelectionHeaderAriaLabel,\n  getSelectAllProps,\n  onFocusMove,\n  ...props\n}: TableHeaderSelectionCellProps) {\n  const selectAllProps = getSelectAllProps ? getSelectAllProps() : undefined;\n  return (\n    <TableThElement\n      {...props}\n      isSelection={true}\n      colIndex={0}\n      focusedComponent={focusedComponent}\n      ariaLabel={selectAllProps?.selectionGroupLabel}\n      {...getAnalyticsMetadataAttribute({\n        action: selectAllProps?.checked ? 'deselectAll' : 'selectAll',\n      })}\n    >\n      {selectAllProps ? (\n        <SelectionControl\n          onFocusDown={event => {\n            onFocusMove!(event.target as HTMLElement, -1, +1);\n          }}\n          focusedComponent={focusedComponent}\n          {...selectAllProps}\n          {...(props.sticky ? { tabIndex: -1 } : {})}\n        />\n      ) : (\n        <ScreenreaderOnly>{singleSelectionHeaderAriaLabel}</ScreenreaderOnly>\n      )}\n      <Divider className={styles['resize-divider']} />\n    </TableThElement>\n  );\n}\n\nexport function TableBodySelectionCell({ selectionControlProps, ...props }: TableBodySelectionCellProps) {\n  return (\n    <TableTdElement {...props} isSelection={true} wrapLines={false} isEditable={false} isEditing={false} colIndex={0}>\n      {selectionControlProps ? (\n        <SelectionControl {...selectionControlProps} verticalAlign={props.verticalAlign} />\n      ) : null}\n    </TableTdElement>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useMergeRefs } from '@cloudscape-design/component-toolkit/internal';\nimport { useSingleTabStopNavigation } from '@cloudscape-design/component-toolkit/internal';\nimport { copyAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport { useVisualRefresh } from '../../internal/hooks/use-visual-mode';\nimport { ColumnWidthStyle } from '../column-widths-utils';\nimport { TableProps } from '../interfaces';\nimport { StickyColumnsModel, useStickyCellStyles } from '../sticky-columns';\nimport { getTableColHeaderRoleProps, TableRole } from '../table-role';\nimport { getStickyClassNames } from '../utils';\nimport { SortingStatus } from './utils';\n\nimport tableStyles from '../styles.css.js';\nimport styles from './styles.css.js';\n\nexport interface TableThElementProps {\n  resizableStyle?: ColumnWidthStyle;\n  sortingStatus?: SortingStatus;\n  sortingDisabled?: boolean;\n  focusedComponent?: null | string;\n  stuck?: boolean;\n  sticky?: boolean;\n  resizable?: boolean;\n  hidden?: boolean;\n  stripedRows?: boolean;\n  isSelection?: boolean;\n  colIndex: number;\n  columnId: PropertyKey;\n  stickyState: StickyColumnsModel;\n  cellRef?: React.RefCallback<HTMLElement> | null;\n  tableRole: TableRole;\n  children: React.ReactNode;\n  variant: TableProps.Variant;\n  tableVariant?: TableProps.Variant;\n  ariaLabel?: string;\n}\n\nexport function TableThElement({\n  resizableStyle,\n  sortingStatus,\n  sortingDisabled,\n  focusedComponent,\n  stuck,\n  sticky,\n  resizable,\n  hidden,\n  stripedRows,\n  isSelection,\n  colIndex,\n  columnId,\n  stickyState,\n  cellRef,\n  tableRole,\n  children,\n  variant,\n  ariaLabel,\n  tableVariant,\n  ...props\n}: TableThElementProps) {\n  const isVisualRefresh = useVisualRefresh();\n\n  const stickyStyles = useStickyCellStyles({\n    stickyColumns: stickyState,\n    columnId,\n    getClassName: props => getStickyClassNames(styles, props),\n  });\n\n  const cellRefObject = useRef<HTMLTableCellElement>(null);\n  const mergedRef = useMergeRefs(stickyStyles.ref, cellRef, cellRefObject);\n  const { tabIndex: cellTabIndex } = useSingleTabStopNavigation(cellRefObject);\n\n  return (\n    <th\n      data-focus-id={`header-${String(columnId)}`}\n      className={clsx(\n        styles['header-cell'],\n        styles[`header-cell-variant-${variant}`],\n        sticky && styles['header-cell-sticky'],\n        resizable && styles['header-cell-resizable'],\n        stuck && styles['header-cell-stuck'],\n        stripedRows && styles['has-striped-rows'],\n        isVisualRefresh && styles['is-visual-refresh'],\n        isSelection && clsx(tableStyles['selection-control'], tableStyles['selection-control-header']),\n        tableVariant && styles[`table-variant-${tableVariant}`],\n        {\n          [styles['header-cell-fake-focus']]: focusedComponent === `header-${String(columnId)}`,\n          [styles['header-cell-sortable']]: sortingStatus,\n          [styles['header-cell-sorted']]: sortingStatus === 'ascending' || sortingStatus === 'descending',\n          [styles['header-cell-disabled']]: sortingDisabled,\n          [styles['header-cell-ascending']]: sortingStatus === 'ascending',\n          [styles['header-cell-descending']]: sortingStatus === 'descending',\n          [styles['header-cell-hidden']]: hidden,\n        },\n        stickyStyles.className\n      )}\n      style={{ ...resizableStyle, ...stickyStyles.style }}\n      ref={mergedRef}\n      {...getTableColHeaderRoleProps({ tableRole, sortingStatus, colIndex })}\n      tabIndex={cellTabIndex === -1 ? undefined : cellTabIndex}\n      {...copyAnalyticsMetadataAttribute(props)}\n      {...(ariaLabel ? { 'aria-label': ariaLabel } : {})}\n    >\n      {children}\n    </th>\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"header-cell\": \"awsui_header-cell_1spae_wii4_149\",\n  \"header-cell-fake-focus\": \"awsui_header-cell-fake-focus_1spae_wii4_183\",\n  \"header-cell-sticky\": \"awsui_header-cell-sticky_1spae_wii4_204\",\n  \"header-cell-stuck\": \"awsui_header-cell-stuck_1spae_wii4_207\",\n  \"header-cell-variant-full-page\": \"awsui_header-cell-variant-full-page_1spae_wii4_207\",\n  \"header-cell-hidden\": \"awsui_header-cell-hidden_1spae_wii4_213\",\n  \"header-cell-variant-embedded\": \"awsui_header-cell-variant-embedded_1spae_wii4_216\",\n  \"is-visual-refresh\": \"awsui_is-visual-refresh_1spae_wii4_216\",\n  \"sticky-cell\": \"awsui_sticky-cell_1spae_wii4_216\",\n  \"header-cell-variant-borderless\": \"awsui_header-cell-variant-borderless_1spae_wii4_216\",\n  \"header-cell-sortable\": \"awsui_header-cell-sortable_1spae_wii4_219\",\n  \"table-variant-full-page\": \"awsui_table-variant-full-page_1spae_wii4_240\",\n  \"sticky-cell-pad-left\": \"awsui_sticky-cell-pad-left_1spae_wii4_243\",\n  \"has-selection\": \"awsui_has-selection_1spae_wii4_243\",\n  \"sticky-cell-last-inline-start\": \"awsui_sticky-cell-last-inline-start_1spae_wii4_246\",\n  \"resize-divider\": \"awsui_resize-divider_1spae_wii4_251\",\n  \"sticky-cell-last-inline-end\": \"awsui_sticky-cell-last-inline-end_1spae_wii4_258\",\n  \"sorting-icon\": \"awsui_sorting-icon_1spae_wii4_268\",\n  \"edit-icon\": \"awsui_edit-icon_1spae_wii4_276\",\n  \"header-cell-content\": \"awsui_header-cell-content_1spae_wii4_282\",\n  \"header-cell-content-expandable\": \"awsui_header-cell-content-expandable_1spae_wii4_288\",\n  \"header-cell-disabled\": \"awsui_header-cell-disabled_1spae_wii4_340\",\n  \"header-cell-sorted\": \"awsui_header-cell-sorted_1spae_wii4_340\",\n  \"header-cell-text\": \"awsui_header-cell-text_1spae_wii4_354\",\n  \"header-cell-text-wrap\": \"awsui_header-cell-text-wrap_1spae_wii4_358\",\n  \"header-cell-ascending\": \"awsui_header-cell-ascending_1spae_wii4_364\",\n  \"header-cell-descending\": \"awsui_header-cell-descending_1spae_wii4_365\",\n  \"has-striped-rows\": \"awsui_has-striped-rows_1spae_wii4_479\",\n  \"sticky-cell-pad-inline-start\": \"awsui_sticky-cell-pad-inline-start_1spae_wii4_479\",\n  \"header-cell-resizable\": \"awsui_header-cell-resizable_1spae_wii4_491\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useState } from 'react';\n\nimport { SelectionTree, useUniqueId } from '@cloudscape-design/component-toolkit/internal';\n\nimport { fireNonCancelableEvent } from '../../internal/events';\nimport { joinStrings } from '../../internal/utils/strings';\nimport { InternalExpandableRowsProps } from '../expandable-rows/expandable-rows-utils';\nimport { InternalSelectionType, TableProps } from '../interfaces';\nimport { getTrackableValue } from '../utils';\nimport { SelectionProps } from './interfaces';\n\ntype SelectionOptions<T> = Pick<\n  TableProps<T>,\n  'ariaLabels' | 'items' | 'trackBy' | 'getLoadingStatus' | 'selectedItems' | 'totalItemsCount'\n> & {\n  rootItems: readonly T[];\n  selectionType?: InternalSelectionType;\n  expandableRows: InternalExpandableRowsProps<T>;\n  setLastUserAction?: (name: string) => void;\n};\n\nexport function useGroupSelection<T>({\n  ariaLabels,\n  items,\n  rootItems,\n  selectedItems = [],\n  totalItemsCount,\n  trackBy,\n  expandableRows,\n  selectionType,\n  getLoadingStatus,\n  setLastUserAction,\n}: SelectionOptions<T>): SelectionProps<T> {\n  // The name assigned to all controls to combine them in a single group.\n  const selectionControlName = useUniqueId();\n  const [shiftPressed, setShiftPressed] = useState(false);\n  const [lastClickedItem, setLastClickedItem] = useState<null | T>(null);\n\n  if (selectionType !== 'group') {\n    return { isItemSelected: () => false };\n  }\n\n  const getParent = (item: T) => expandableRows.getExpandableItemProps(item).parent;\n  const getChildren = (item: T) => expandableRows.getExpandableItemProps(item).children;\n  const getSelectionStateProps = (item: T) => {\n    const { itemsCount, selectedItemsCount } = expandableRows.getExpandableItemProps(item);\n    return { itemsCount, selectedItemsCount };\n  };\n  const isComplete = (item: null | T) => !getLoadingStatus || getLoadingStatus(item) === 'finished';\n  const treeProps = { rootItems, trackBy, getChildren, isComplete };\n  const selectionTree = new SelectionTree(rootItems, treeProps, expandableRows.groupSelection);\n  const onChange = (groupSelection: TableProps.GroupSelectionState<T>) => {\n    fireNonCancelableEvent(expandableRows.onGroupSelectionChange, { groupSelection });\n    setLastUserAction?.('selection');\n  };\n\n  // Shift-selection helpers.\n  const itemIndexesMap = new Map<T, number>();\n  items.forEach((item, i) => itemIndexesMap.set(getTrackableValue(trackBy, item), i));\n  const getShiftSelectedItems = (item: T): T[] => {\n    const lastClickedItemIndex = lastClickedItem\n      ? itemIndexesMap.get(getTrackableValue(trackBy, lastClickedItem))\n      : undefined;\n    // We use lastClickedItemIndex to determine if filtering/sorting/pagination\n    // made previously selected item invisible, therefore we reset state for shift-select.\n    if (lastClickedItemIndex !== undefined) {\n      const currentItemIndex = itemIndexesMap.get(getTrackableValue(trackBy, item))!;\n      const start = Math.min(currentItemIndex, lastClickedItemIndex);\n      const end = Math.max(currentItemIndex, lastClickedItemIndex);\n      const requestedItems = items.slice(start, end + 1);\n      return lastClickedItemIndex < currentItemIndex ? requestedItems : requestedItems.reverse();\n    }\n    return [item];\n  };\n\n  const handleToggleAll = () => onChange(selectionTree.toggleAll().getState());\n\n  const handleToggleItem = (item: T) => {\n    setLastClickedItem(item);\n    const requestedItems = shiftPressed ? getShiftSelectedItems(item) : [item];\n    const requestedItemParents = requestedItems.reduce((set, item) => set.add(getParent(item)), new Set<null | T>());\n    // Shift-selection is only allowed on items with the same parent.\n    if (requestedItemParents.size === 1) {\n      onChange(selectionTree.toggleSome(requestedItems).getState());\n    }\n  };\n\n  const createLoaderToggleHandle = (item: null | T) => () =>\n    onChange(!item ? selectionTree.invertAll().getState() : selectionTree.invertOne(item).getState());\n\n  return {\n    isItemSelected: selectionTree.isItemSelected,\n    getSelectAllProps: () => ({\n      name: selectionControlName,\n      selectionType: 'multi',\n      disabled: false,\n      checked: selectionTree.isAllItemsSelected(),\n      indeterminate: selectionTree.isAllItemsIndeterminate(),\n      onChange: handleToggleAll,\n      ariaLabel: joinStrings(\n        ariaLabels?.selectionGroupLabel,\n        ariaLabels?.allItemsSelectionLabel?.({\n          selectedItems,\n          itemsCount: expandableRows.totalItemsCount ?? totalItemsCount,\n          selectedItemsCount: expandableRows.totalSelectedItemsCount ?? selectedItems.length,\n        })\n      ),\n    }),\n    getItemSelectionProps: item => ({\n      name: selectionControlName,\n      selectionType: 'multi',\n      disabled: false,\n      checked: selectionTree.isItemSelected(item),\n      indeterminate: selectionTree.isItemIndeterminate(item),\n      onChange: () => handleToggleItem(item),\n      onShiftToggle: value => setShiftPressed(value),\n      ariaLabel: joinStrings(\n        ariaLabels?.selectionGroupLabel,\n        ariaLabels?.itemSelectionLabel?.({ selectedItems, ...getSelectionStateProps(item) }, item)\n      ),\n    }),\n    getLoaderSelectionProps: item => ({\n      name: selectionControlName,\n      selectionType: 'multi',\n      disabled: false,\n      checked: item ? selectionTree.isItemSelected(item) : selectionTree.getState().inverted,\n      indeterminate: false,\n      onChange: createLoaderToggleHandle(item),\n      ariaLabel: joinStrings(\n        ariaLabels?.selectionGroupLabel,\n        ariaLabels?.itemLoaderSelectionLabel?.({ selectedItems }, item)\n      ),\n    }),\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useContext, useImperativeHandle, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { StickyHeaderContext } from '../container/use-sticky-header';\nimport { getVisualContextClassname } from '../internal/components/visual-context';\nimport { TableProps } from './interfaces';\nimport { getTableRoleProps, TableRole } from './table-role';\nimport Thead, { TheadProps } from './thead';\nimport { useStickyHeader } from './use-sticky-header';\n\nimport styles from './styles.css.js';\n\nexport interface StickyHeaderRef {\n  scrollToTop(): void;\n  scrollToRow(node: null | HTMLElement): void;\n  setFocus(focusId: null | string): void;\n}\n\ninterface StickyHeaderProps {\n  variant: TableProps.Variant;\n  theadProps: TheadProps;\n  wrapperRef: React.RefObject<HTMLDivElement>;\n  theadRef: React.RefObject<HTMLTableRowElement>;\n  secondaryWrapperRef: React.RefObject<HTMLDivElement>;\n  tableRef: React.RefObject<HTMLTableElement>;\n  onScroll?: React.UIEventHandler<HTMLDivElement>;\n  contentDensity?: 'comfortable' | 'compact';\n  tableHasHeader?: boolean;\n  tableRole: TableRole;\n}\n\nexport default forwardRef(StickyHeader);\n\nfunction StickyHeader(\n  {\n    variant,\n    theadProps,\n    wrapperRef,\n    theadRef,\n    secondaryWrapperRef,\n    onScroll,\n    tableRef,\n    tableHasHeader,\n    contentDensity,\n    tableRole,\n  }: StickyHeaderProps,\n  ref: React.Ref<StickyHeaderRef>\n) {\n  const secondaryTheadRef = useRef<HTMLTableRowElement>(null);\n  const secondaryTableRef = useRef<HTMLTableElement>(null);\n  const { isStuck } = useContext(StickyHeaderContext);\n\n  const [focusedComponent, setFocusedComponent] = useState<null | string>(null);\n  const { scrollToRow, scrollToTop } = useStickyHeader(\n    tableRef,\n    theadRef,\n    secondaryTheadRef,\n    secondaryTableRef,\n    wrapperRef\n  );\n\n  useImperativeHandle(ref, () => ({\n    scrollToTop,\n    scrollToRow,\n    setFocus: setFocusedComponent,\n  }));\n\n  return (\n    <div\n      className={clsx(styles['header-secondary'], styles[`variant-${variant}`], {\n        [styles['table-has-header']]: tableHasHeader,\n      })}\n      aria-hidden={true}\n      // Prevents receiving focus in Firefox. Focus on the overflowing table is sufficient\n      // to scroll the table horizontally\n      tabIndex={-1}\n      ref={secondaryWrapperRef}\n      onScroll={onScroll}\n    >\n      <table\n        className={clsx(\n          styles.table,\n          styles['table-layout-fixed'],\n          contentDensity === 'compact' && getVisualContextClassname('compact-table')\n        )}\n        ref={secondaryTableRef}\n        {...getTableRoleProps({ tableRole })}\n      >\n        <Thead\n          ref={secondaryTheadRef}\n          sticky={true}\n          stuck={isStuck}\n          focusedComponent={focusedComponent}\n          {...theadProps}\n        />\n      </table>\n    </div>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { findUpUntil } from '@cloudscape-design/component-toolkit/dom';\n\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../internal/events';\nimport { TableHeaderCell } from './header-cell';\nimport { InternalSelectionType, TableProps } from './interfaces';\nimport { focusMarkers, ItemSelectionProps } from './selection';\nimport { TableHeaderSelectionCell } from './selection/selection-cell';\nimport { StickyColumnsModel } from './sticky-columns';\nimport { getTableHeaderRowRoleProps, TableRole } from './table-role';\nimport { useColumnWidths } from './use-column-widths';\nimport { getColumnKey } from './utils';\n\nimport styles from './styles.css.js';\n\nexport interface TheadProps {\n  selectionType: undefined | InternalSelectionType;\n  columnDefinitions: ReadonlyArray<TableProps.ColumnDefinition<any>>;\n  sortingColumn: TableProps.SortingColumn<any> | undefined;\n  sortingDescending: boolean | undefined;\n  sortingDisabled: boolean | undefined;\n  variant: TableProps.Variant;\n  tableVariant?: TableProps.Variant;\n  wrapLines: boolean | undefined;\n  resizableColumns: boolean | undefined;\n  getSelectAllProps?: () => ItemSelectionProps;\n  onFocusMove: ((sourceElement: HTMLElement, fromIndex: number, direction: -1 | 1) => void) | undefined;\n  onResizeFinish: (newWidths: Map<PropertyKey, number>) => void;\n  onSortingChange: NonCancelableEventHandler<TableProps.SortingState<any>> | undefined;\n  sticky?: boolean;\n  hidden?: boolean;\n  stuck?: boolean;\n  singleSelectionHeaderAriaLabel?: string;\n  resizerRoleDescription?: string;\n  resizerTooltipText?: string;\n  stripedRows?: boolean;\n  stickyState: StickyColumnsModel;\n  selectionColumnId: PropertyKey;\n  focusedComponent?: null | string;\n  onFocusedComponentChange?: (focusId: null | string) => void;\n  tableRole: TableRole;\n  isExpandable?: boolean;\n  setLastUserAction: (name: string) => void;\n}\n\nconst Thead = React.forwardRef(\n  (\n    {\n      selectionType,\n      getSelectAllProps,\n      columnDefinitions,\n      sortingColumn,\n      sortingDisabled,\n      sortingDescending,\n      resizableColumns,\n      variant,\n      tableVariant,\n      wrapLines,\n      onFocusMove,\n      onSortingChange,\n      onResizeFinish,\n      singleSelectionHeaderAriaLabel,\n      stripedRows,\n      sticky = false,\n      hidden = false,\n      stuck = false,\n      stickyState,\n      selectionColumnId,\n      focusedComponent,\n      onFocusedComponentChange,\n      tableRole,\n      resizerRoleDescription,\n      resizerTooltipText,\n      isExpandable,\n      setLastUserAction,\n    }: TheadProps,\n    outerRef: React.Ref<HTMLTableRowElement>\n  ) => {\n    const { getColumnStyles, columnWidths, updateColumn, setCell } = useColumnWidths();\n\n    const commonCellProps = {\n      stuck,\n      sticky,\n      hidden,\n      stripedRows,\n      tableRole,\n      variant,\n      tableVariant,\n      stickyState,\n    };\n\n    return (\n      <thead className={clsx(!hidden && styles['thead-active'])}>\n        <tr\n          {...focusMarkers.all}\n          ref={outerRef}\n          aria-rowindex={1}\n          {...getTableHeaderRowRoleProps({ tableRole })}\n          onFocus={event => {\n            const focusControlElement = findUpUntil(event.target, element => !!element.getAttribute('data-focus-id'));\n            const focusId = focusControlElement?.getAttribute('data-focus-id') ?? null;\n            onFocusedComponentChange?.(focusId);\n          }}\n          onBlur={() => onFocusedComponentChange?.(null)}\n        >\n          {selectionType ? (\n            <TableHeaderSelectionCell\n              {...commonCellProps}\n              focusedComponent={focusedComponent}\n              columnId={selectionColumnId}\n              getSelectAllProps={getSelectAllProps}\n              onFocusMove={onFocusMove}\n              singleSelectionHeaderAriaLabel={singleSelectionHeaderAriaLabel}\n            />\n          ) : null}\n\n          {columnDefinitions.map((column, colIndex) => {\n            const columnId = getColumnKey(column, colIndex);\n            return (\n              <TableHeaderCell\n                {...commonCellProps}\n                key={columnId}\n                tabIndex={sticky ? -1 : 0}\n                focusedComponent={focusedComponent}\n                column={column}\n                activeSortingColumn={sortingColumn}\n                sortingDescending={sortingDescending}\n                sortingDisabled={sortingDisabled}\n                wrapLines={wrapLines}\n                colIndex={selectionType ? colIndex + 1 : colIndex}\n                columnId={columnId}\n                updateColumn={updateColumn}\n                onResizeFinish={() => onResizeFinish(columnWidths)}\n                resizableColumns={resizableColumns}\n                resizableStyle={getColumnStyles(sticky, columnId)}\n                onClick={detail => {\n                  setLastUserAction('sorting');\n                  fireNonCancelableEvent(onSortingChange, detail);\n                }}\n                isEditable={!!column.editConfig}\n                cellRef={node => setCell(sticky, columnId, node)}\n                tableRole={tableRole}\n                resizerRoleDescription={resizerRoleDescription}\n                resizerTooltipText={resizerTooltipText}\n                // Expandable option is only applicable to the first data column of the table.\n                // When present, the header content receives extra padding to match the first offset in the data cells.\n                isExpandable={colIndex === 0 && isExpandable}\n                hasDynamicContent={hidden && !resizableColumns && column.hasDynamicContent}\n              />\n            );\n          })}\n        </tr>\n      </thead>\n    );\n  }\n);\n\nexport default Thead;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useMergeRefs, useResizeObserver, useUniqueId } from '@cloudscape-design/component-toolkit/internal';\nimport { useSingleTabStopNavigation } from '@cloudscape-design/component-toolkit/internal';\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport { useInternalI18n } from '../../i18n/context';\nimport InternalIcon from '../../icon/internal';\nimport { KeyCode } from '../../internal/keycode';\nimport { GeneratedAnalyticsMetadataTableSort } from '../analytics-metadata/interfaces';\nimport { ColumnWidthStyle } from '../column-widths-utils';\nimport { TableProps } from '../interfaces';\nimport { Divider, Resizer } from '../resizer';\nimport { StickyColumnsModel } from '../sticky-columns';\nimport { TableRole } from '../table-role';\nimport { TableThElement } from './th-element';\nimport { getSortingIconName, getSortingStatus, isSorted } from './utils';\n\nimport analyticsSelectors from '../analytics-metadata/styles.css.js';\nimport styles from './styles.css.js';\n\nexport interface TableHeaderCellProps<ItemType> {\n  tabIndex: number;\n  column: TableProps.ColumnDefinition<ItemType>;\n  activeSortingColumn?: TableProps.SortingColumn<ItemType>;\n  sortingDescending?: boolean;\n  sortingDisabled?: boolean;\n  wrapLines?: boolean;\n  stuck?: boolean;\n  sticky?: boolean;\n  hidden?: boolean;\n  stripedRows?: boolean;\n  onClick(detail: TableProps.SortingState<any>): void;\n  onResizeFinish: () => void;\n  colIndex: number;\n  updateColumn: (columnId: PropertyKey, newWidth: number) => void;\n  resizableColumns?: boolean;\n  resizableStyle?: ColumnWidthStyle;\n  isEditable?: boolean;\n  columnId: PropertyKey;\n  stickyState: StickyColumnsModel;\n  cellRef: React.RefCallback<HTMLElement>;\n  focusedComponent?: null | string;\n  tableRole: TableRole;\n  resizerRoleDescription?: string;\n  resizerTooltipText?: string;\n  isExpandable?: boolean;\n  hasDynamicContent?: boolean;\n  variant: TableProps.Variant;\n  tableVariant?: TableProps.Variant;\n}\n\nexport function TableHeaderCell<ItemType>({\n  tabIndex,\n  column,\n  activeSortingColumn,\n  sortingDescending,\n  sortingDisabled,\n  wrapLines,\n  focusedComponent,\n  stuck,\n  sticky,\n  hidden,\n  stripedRows,\n  onClick,\n  colIndex,\n  updateColumn,\n  resizableColumns,\n  resizableStyle,\n  onResizeFinish,\n  isEditable,\n  columnId,\n  stickyState,\n  cellRef,\n  tableRole,\n  resizerRoleDescription,\n  resizerTooltipText,\n  isExpandable,\n  hasDynamicContent,\n  variant,\n  tableVariant,\n}: TableHeaderCellProps<ItemType>) {\n  const i18n = useInternalI18n('table');\n  const sortable = !!column.sortingComparator || !!column.sortingField;\n  const sorted = !!activeSortingColumn && isSorted(column, activeSortingColumn);\n  const sortingStatus = getSortingStatus(sortable, sorted, !!sortingDescending, !!sortingDisabled);\n  const handleClick = () =>\n    onClick({\n      sortingColumn: column,\n      isDescending: sorted ? !sortingDescending : false,\n    });\n\n  // Elements with role=\"button\" do not have the default behavior of <button>, where pressing\n  // Enter or Space will trigger a click event. Therefore we need to add this ourselves.\n  // The native <button> element cannot be used due to a misaligned implementation in Firefox:\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=843003\n  const handleKeyPress = ({ nativeEvent: e }: React.KeyboardEvent) => {\n    if (e.keyCode === KeyCode.enter || e.keyCode === KeyCode.space) {\n      e.preventDefault();\n      handleClick();\n    }\n  };\n\n  const headerId = useUniqueId('table-header-');\n\n  const clickableHeaderRef = useRef<HTMLDivElement>(null);\n  const { tabIndex: clickableHeaderTabIndex } = useSingleTabStopNavigation(clickableHeaderRef, { tabIndex });\n\n  const cellRefObject = useRef<HTMLElement>(null);\n  const cellRefCombined = useMergeRefs(cellRef, cellRefObject);\n\n  // Keep sticky and non-sticky headers in sync for dynamic cell\n  // content changes. This is only needed when:\n  // - Column has dynamic content\n  // - This is the non-sticky version of a sticky header (hidden === true)\n  // - Columns are not resizable\n  useResizeObserver(hasDynamicContent ? cellRefObject : () => null, entry => {\n    updateColumn(columnId, entry.borderBoxWidth);\n  });\n\n  return (\n    <TableThElement\n      resizableStyle={resizableStyle}\n      cellRef={cellRefCombined}\n      sortingStatus={sortingStatus}\n      sortingDisabled={sortingDisabled}\n      focusedComponent={focusedComponent}\n      stuck={stuck}\n      sticky={sticky}\n      resizable={resizableColumns}\n      hidden={hidden}\n      stripedRows={stripedRows}\n      colIndex={colIndex}\n      columnId={columnId}\n      stickyState={stickyState}\n      tableRole={tableRole}\n      variant={variant}\n      tableVariant={tableVariant}\n      {...(sortingDisabled\n        ? {}\n        : getAnalyticsMetadataAttribute({\n            action: 'sort',\n            detail: {\n              position: `${colIndex + 1}`,\n              columnId: column.id ? `${column.id}` : '',\n              label: `.${analyticsSelectors['header-cell-text']}`,\n              sortingDescending: `${!sortingDescending}`,\n            },\n          } as GeneratedAnalyticsMetadataTableSort))}\n    >\n      <div\n        ref={clickableHeaderRef}\n        data-focus-id={`sorting-control-${String(columnId)}`}\n        className={clsx(styles['header-cell-content'], {\n          [styles['header-cell-fake-focus']]: focusedComponent === `sorting-control-${String(columnId)}`,\n          [styles['header-cell-content-expandable']]: isExpandable,\n        })}\n        aria-label={\n          column.ariaLabel\n            ? column.ariaLabel({\n                sorted: sorted,\n                descending: sorted && !!sortingDescending,\n                disabled: !!sortingDisabled,\n              })\n            : undefined\n        }\n        {...(sortingStatus && !sortingDisabled\n          ? {\n              onKeyPress: handleKeyPress,\n              tabIndex: clickableHeaderTabIndex,\n              role: 'button',\n              onClick: handleClick,\n            }\n          : {})}\n      >\n        <div\n          className={clsx(\n            styles['header-cell-text'],\n            analyticsSelectors['header-cell-text'],\n            wrapLines && styles['header-cell-text-wrap']\n          )}\n          id={headerId}\n        >\n          {column.header}\n          {isEditable ? (\n            <span className={styles['edit-icon']}>\n              <InternalIcon\n                name=\"edit\"\n                ariaLabel={i18n('columnDefinitions.editConfig.editIconAriaLabel', column.editConfig?.editIconAriaLabel)}\n              />\n            </span>\n          ) : null}\n        </div>\n        {sortingStatus && (\n          <span className={styles['sorting-icon']}>\n            <InternalIcon name={getSortingIconName(sortingStatus)} />\n          </span>\n        )}\n      </div>\n      {resizableColumns ? (\n        <Resizer\n          tabIndex={tabIndex}\n          focusId={`resize-control-${String(columnId)}`}\n          showFocusRing={focusedComponent === `resize-control-${String(columnId)}`}\n          onWidthUpdate={newWidth => updateColumn(columnId, newWidth)}\n          onWidthUpdateCommit={onResizeFinish}\n          ariaLabelledby={headerId}\n          minWidth={typeof column.minWidth === 'string' ? parseInt(column.minWidth) : column.minWidth}\n          roleDescription={i18n('ariaLabels.resizerRoleDescription', resizerRoleDescription)}\n          // TODO: Replace with this when strings are available\n          // tooltipText={i18n('ariaLabels.resizerTooltipText', resizerTooltipText)}\n          tooltipText={resizerTooltipText}\n          isBorderless={variant === 'full-page' || variant === 'embedded' || variant === 'borderless'}\n        />\n      ) : (\n        <Divider className={styles['resize-divider']} />\n      )}\n    </TableThElement>\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"header-cell-text\": \"awsui_header-cell-text_dpuyq_1id1o_5\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { RefObject, useCallback, useLayoutEffect } from 'react';\n\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\n\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport stickyScrolling, { calculateScrollingOffset, scrollUpBy } from './sticky-scrolling';\n\nexport const useStickyHeader = (\n  tableRef: RefObject<HTMLElement>,\n  theadRef: RefObject<HTMLElement>,\n  secondaryTheadRef: RefObject<HTMLElement>,\n  secondaryTableRef: RefObject<HTMLElement>,\n  tableWrapperRef: RefObject<HTMLElement>\n) => {\n  const isMobile = useMobile();\n  // Sync the sizes of the column header copies in the sticky header with the originals\n  const syncColumnHeaderWidths = useCallback(() => {\n    if (\n      tableRef.current &&\n      theadRef.current &&\n      secondaryTheadRef.current &&\n      secondaryTableRef.current &&\n      tableWrapperRef.current\n    ) {\n      tableWrapperRef.current.style.marginBlockStart = `-${theadRef.current.getBoundingClientRect().height}px`;\n    }\n  }, [theadRef, secondaryTheadRef, secondaryTableRef, tableWrapperRef, tableRef]);\n  useLayoutEffect(() => {\n    syncColumnHeaderWidths();\n  });\n  useResizeObserver(theadRef, syncColumnHeaderWidths);\n  const scrollToTop = () => {\n    if (!isMobile && theadRef.current && secondaryTheadRef.current && tableWrapperRef.current) {\n      const scrollDist = calculateScrollingOffset(theadRef.current, secondaryTheadRef.current);\n      if (scrollDist > 0) {\n        scrollUpBy(scrollDist, tableWrapperRef.current);\n      }\n    }\n  };\n  const { scrollToItem } = stickyScrolling(tableWrapperRef, secondaryTheadRef);\n  const scrollToRow = (itemNode: HTMLElement | null) => {\n    if (!isMobile) {\n      scrollToItem(itemNode);\n    }\n  };\n  return { scrollToRow, scrollToTop };\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { getLogicalBoundingClientRect } from '@cloudscape-design/component-toolkit/internal';\n\nimport { getOverflowParents } from '../internal/utils/scrollable-containers';\n\n/**\n * @param containerRef ref to surrounding container with sticky element\n * @param stickyRef ref to sticky element scrolled inside of containerRef\n * @param containerOffset offset between header and container\n *                        originating borders or paddings\n */\nexport default function stickyScrolling(\n  containerRef: React.MutableRefObject<HTMLElement | null>,\n  stickyRef: React.MutableRefObject<HTMLElement | null>\n) {\n  const scrollToTop = () => {\n    if (!containerRef.current || !stickyRef.current) {\n      return;\n    }\n    const scrollingOffset = calculateScrollingOffset(containerRef.current, stickyRef.current);\n    if (scrollingOffset > 0) {\n      scrollUpBy(scrollingOffset, containerRef.current);\n    }\n  };\n  const scrollToItem = (item: HTMLElement | null) => {\n    if (!item || !containerRef.current || !stickyRef.current) {\n      return;\n    }\n    const stickyBottom = getLogicalBoundingClientRect(stickyRef.current).insetBlockEnd;\n    const scrollingOffset = stickyBottom - getLogicalBoundingClientRect(item).insetBlockStart;\n    if (scrollingOffset > 0) {\n      scrollUpBy(scrollingOffset, containerRef.current);\n    }\n  };\n  return {\n    scrollToTop,\n    scrollToItem,\n  };\n}\n\n/**\n * Calculates the scrolling offset between container and\n * sticky element with container offset caused by border\n * or padding\n * @param container\n * @param sticky element inside of container\n * @param containerOffset caused by borders or paddings\n */\nexport function calculateScrollingOffset(container: HTMLElement, sticky: HTMLElement) {\n  const stickyRect = getLogicalBoundingClientRect(sticky);\n  const containerRect = getLogicalBoundingClientRect(container);\n  return stickyRect.insetBlockStart - containerRect.insetBlockStart;\n}\n\n/**\n * Scrolls suitable parent of container up by amount of pixels\n * @param amount pixels to be scrolled up\n * @param container used to determine next parent element for scrolling\n */\nexport function scrollUpBy(amount: number, container: HTMLElement) {\n  const parent = getOverflowParents(container);\n  if (parent.length) {\n    // Take next overflow parent in stack\n    parent[0].scrollTop -= amount;\n  } else {\n    window.scrollTo({ top: window.pageYOffset - amount });\n  }\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useMergeRefs } from '@cloudscape-design/component-toolkit/internal';\n\nimport { useIntersectionObserver } from '../../internal/hooks/use-intersection-observer';\nimport { useVisualRefresh } from '../../internal/hooks/use-visual-mode';\nimport { browserScrollbarSize } from '../../internal/utils/browser-scrollbar-size';\nimport { useStickyScrollbar } from './use-sticky-scrollbar';\n\nimport styles from './styles.css.js';\n\ninterface StickyScrollbarProps {\n  wrapperRef: React.RefObject<HTMLDivElement>;\n  tableRef: React.RefObject<HTMLTableElement>;\n  onScroll?: React.UIEventHandler<HTMLDivElement>;\n  hasStickyColumns?: boolean;\n}\n\nexport default forwardRef(StickyScrollbar);\n\nfunction StickyScrollbar(\n  { wrapperRef, tableRef, onScroll, hasStickyColumns }: StickyScrollbarProps,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const isVisualRefresh = useVisualRefresh();\n  const scrollbarRef = React.useRef<HTMLDivElement>(null);\n  const scrollbarContentRef = React.useRef<HTMLDivElement>(null);\n  const mergedRef = useMergeRefs(ref, scrollbarRef);\n\n  /**\n   * If the height of the scrollbar is 0, we're likely on a platform that uses\n   * overlay scrollbars (e.g. Mac).\n   */\n  const offsetScrollbar = hasStickyColumns || browserScrollbarSize().height === 0;\n\n  useStickyScrollbar(scrollbarRef, scrollbarContentRef, tableRef, wrapperRef, offsetScrollbar);\n\n  const { ref: stickyDetectionRef, isIntersecting: isStickyDetectionVisible } = useIntersectionObserver();\n\n  return (\n    <>\n      <div\n        ref={mergedRef}\n        className={clsx(\n          styles['sticky-scrollbar'],\n          offsetScrollbar && styles['sticky-scrollbar-offset'],\n          isVisualRefresh && styles['is-visual-refresh']\n        )}\n        onScroll={onScroll}\n        data-stuck={!isStickyDetectionVisible}\n      >\n        <div ref={scrollbarContentRef} className={styles['sticky-scrollbar-content']} />\n      </div>\n      <div ref={stickyDetectionRef} style={{ position: 'absolute', right: 0, bottom: 0, left: 0, height: 1 }} />\n    </>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { RefObject, useEffect, useState } from 'react';\n\nimport { getLogicalBoundingClientRect } from '@cloudscape-design/component-toolkit/internal';\n\nimport globalVars from '../../internal/styles/global-vars';\nimport { browserScrollbarSize } from '../../internal/utils/browser-scrollbar-size';\nimport { getContainingBlock } from '../../internal/utils/dom';\nimport { getOverflowParents } from '../../internal/utils/scrollable-containers';\n\nimport styles from './styles.css.js';\n\nexport const updatePosition = (\n  tableEl: HTMLElement | null,\n  wrapperEl: HTMLElement | null,\n  scrollbarEl: HTMLElement | null,\n  scrollbarContentEl: HTMLElement | null,\n  inScrollableContainer: boolean\n) => {\n  if (!tableEl || !scrollbarEl || !wrapperEl) {\n    return;\n  }\n\n  const { inlineSize: tableInlineSize } = getLogicalBoundingClientRect(tableEl);\n  const { inlineSize: wrapperInlineSize } = getLogicalBoundingClientRect(wrapperEl);\n\n  // using 15 px as a height of transparent scrollbar on mac\n  const scrollbarHeight = browserScrollbarSize().height;\n  const areaIsScrollable = tableInlineSize > wrapperInlineSize;\n\n  if (!areaIsScrollable) {\n    scrollbarEl.classList.remove(styles['sticky-scrollbar-visible']);\n  } else {\n    // when scrollbar is not displayed scrollLeft property cannot be set by useScrollSync\n    // that's why syncing it separately\n    if (!scrollbarEl.classList.contains(styles['sticky-scrollbar-visible'])) {\n      requestAnimationFrame(() => {\n        scrollbarEl.scrollLeft = wrapperEl.scrollLeft;\n      });\n    }\n\n    scrollbarEl.classList.add(styles['sticky-scrollbar-visible']);\n    if (!scrollbarHeight) {\n      /* istanbul ignore next: covered by screenshot tests */\n      scrollbarEl.classList.add(styles['sticky-scrollbar-native-invisible']);\n    }\n  }\n\n  if (scrollbarHeight && scrollbarEl && scrollbarContentEl) {\n    scrollbarEl.style.blockSize = `${scrollbarHeight}px`;\n    scrollbarContentEl.style.blockSize = `${scrollbarHeight}px`;\n  }\n\n  if (tableEl && wrapperEl && scrollbarContentEl && scrollbarEl) {\n    const wrapperElRect = getLogicalBoundingClientRect(wrapperEl);\n    const tableElRect = getLogicalBoundingClientRect(tableEl);\n    scrollbarEl.style.inlineSize = `${wrapperElRect.inlineSize}px`;\n    scrollbarContentEl.style.inlineSize = `${tableElRect.inlineSize}px`;\n\n    // when using sticky scrollbars in containers\n    // we agreed to ignore dynamic bottom calculations for footer overlap\n    scrollbarEl.style.insetBlockEnd = inScrollableContainer\n      ? '0px'\n      : `var(${globalVars.stickyVerticalBottomOffset}, 0px)`;\n  }\n};\n\nexport function useStickyScrollbar(\n  scrollbarRef: RefObject<HTMLDivElement>,\n  scrollbarContentRef: RefObject<HTMLDivElement>,\n  tableRef: RefObject<HTMLTableElement>,\n  wrapperRef: RefObject<HTMLDivElement>,\n  offsetScrollbar: boolean\n) {\n  const [inScrollableContainer, setInScrollableContainer] = useState(false);\n\n  const wrapperEl = wrapperRef.current;\n  useEffect(() => {\n    if (wrapperEl) {\n      setInScrollableContainer(!!getContainingBlock(wrapperEl) || !!getOverflowParents(wrapperEl)[0]);\n    }\n  }, [wrapperEl]);\n\n  // Update scrollbar position wrapper or table size change.\n  useEffect(() => {\n    if (wrapperRef.current && tableRef.current && typeof ResizeObserver !== 'undefined') {\n      const observer = new ResizeObserver(() => {\n        if (scrollbarContentRef.current) {\n          updatePosition(\n            tableRef.current,\n            wrapperRef.current,\n            scrollbarRef.current,\n            scrollbarContentRef.current,\n            inScrollableContainer\n          );\n        }\n      });\n      // Scrollbar width must be in sync with wrapper width.\n      observer.observe(wrapperRef.current);\n      // Scrollbar content width must be in sync with table width.\n      observer.observe(tableRef.current);\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [scrollbarContentRef, scrollbarRef, tableRef, wrapperRef, inScrollableContainer, offsetScrollbar]);\n\n  // Update scrollbar position when window resizes (vertically).\n  useEffect(() => {\n    const resizeHandler = () => {\n      updatePosition(\n        tableRef.current,\n        wrapperRef.current,\n        scrollbarRef.current,\n        scrollbarContentRef.current,\n        inScrollableContainer\n      );\n    };\n    resizeHandler();\n    window.addEventListener('resize', resizeHandler);\n    return () => {\n      window.removeEventListener('resize', resizeHandler);\n    };\n  }, [tableRef, wrapperRef, scrollbarRef, scrollbarContentRef, inScrollableContainer]);\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"sticky-scrollbar\": \"awsui_sticky-scrollbar_faqt8_105xs_181\",\n  \"sticky-scrollbar-content\": \"awsui_sticky-scrollbar-content_faqt8_105xs_193\",\n  \"sticky-scrollbar-visible\": \"awsui_sticky-scrollbar-visible_faqt8_105xs_196\",\n  \"sticky-scrollbar-native-invisible\": \"awsui_sticky-scrollbar-native-invisible_faqt8_105xs_199\",\n  \"sticky-scrollbar-offset\": \"awsui_sticky-scrollbar-offset_faqt8_105xs_202\",\n  \"is-visual-refresh\": \"awsui_is-visual-refresh_faqt8_105xs_205\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useContext } from 'react';\nimport clsx from 'clsx';\n\nimport { useUniqueId } from '@cloudscape-design/component-toolkit/internal';\n\nimport { CollectionLabelContext } from '../internal/context/collection-label-context';\nimport { useContainerBreakpoints } from '../internal/hooks/container-queries';\n\nimport styles from './styles.css.js';\n\ninterface ToolsHeaderProps {\n  header: React.ReactNode;\n  filter?: React.ReactNode;\n  pagination?: React.ReactNode;\n  preferences?: React.ReactNode;\n  setLastUserAction?: (name: string) => void;\n}\n\nexport default function ToolsHeader({ header, filter, pagination, preferences, setLastUserAction }: ToolsHeaderProps) {\n  const [breakpoint, ref] = useContainerBreakpoints(['xs']);\n  const isHeaderString = typeof header === 'string';\n  const assignHeaderId = useContext(CollectionLabelContext).assignId;\n  const headingId = useUniqueId('heading');\n  if (assignHeaderId !== undefined && isHeaderString) {\n    assignHeaderId(headingId);\n  }\n  const isSmall = breakpoint === 'default';\n  const hasTools = filter || pagination || preferences;\n  return (\n    <>\n      {isHeaderString ? <span id={headingId}>{header}</span> : header}\n      {hasTools && (\n        <div ref={ref} className={clsx(styles.tools, isSmall && styles['tools-small'])}>\n          {filter && (\n            <div\n              className={styles['tools-filtering']}\n              onClickCapture={() => setLastUserAction?.('filter')}\n              onKeyDownCapture={() => setLastUserAction?.('filter')}\n            >\n              {filter}\n            </div>\n          )}\n          <div className={styles['tools-align-right']}>\n            {pagination && (\n              <div className={styles['tools-pagination']} onClickCapture={() => setLastUserAction?.('pagination')}>\n                {pagination}\n              </div>\n            )}\n            {preferences && (\n              <div className={styles['tools-preferences']} onClickCapture={() => setLastUserAction?.('preferences')}>\n                {preferences}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useCallback, useState } from 'react';\n\nimport { CancelableEventHandler, fireCancelableEvent } from '../internal/events';\nimport { TableProps } from './interfaces';\n\ninterface CellId {\n  row: string; // Item ID (from trackBy) or row index\n  col: string; // Column ID or column index\n}\n\ninterface CellEditingProps {\n  onCancel?: CancelableEventHandler;\n  onSubmit?: TableProps.SubmitEditFunction<any>;\n}\n\nexport function useCellEditing({ onCancel, onSubmit }: CellEditingProps) {\n  const [currentEditCell, setCurrentEditCell] = useState<null | CellId>(null);\n  const [lastSuccessfulEditCell, setLastSuccessfulEditCell] = useState<null | CellId>(null);\n  const [currentEditLoading, setCurrentEditLoading] = useState(false);\n\n  const startEdit = (cellId: CellId) => {\n    setLastSuccessfulEditCell(null);\n    setCurrentEditCell(cellId);\n  };\n\n  const cancelEdit = useCallback(() => setCurrentEditCell(null), []);\n\n  const completeEdit = (cellId: CellId, editCancelled: boolean) => {\n    const eventCancelled = fireCancelableEvent(onCancel, {});\n    if (!eventCancelled) {\n      setCurrentEditCell(null);\n      if (!editCancelled) {\n        setLastSuccessfulEditCell(cellId);\n      }\n    }\n  };\n\n  const checkEditing = ({ row, col }: CellId) => row === currentEditCell?.row && col === currentEditCell.col;\n\n  const checkLastSuccessfulEdit = ({ row, col }: CellId) =>\n    row === lastSuccessfulEditCell?.row && col === lastSuccessfulEditCell.col;\n\n  const submitEdit = onSubmit\n    ? async (...args: Parameters<typeof onSubmit>) => {\n        setCurrentEditLoading(true);\n        try {\n          await onSubmit(...args);\n        } finally {\n          setCurrentEditLoading(false);\n        }\n      }\n    : undefined;\n\n  return {\n    isLoading: currentEditLoading,\n    startEdit,\n    cancelEdit,\n    checkEditing,\n    checkLastSuccessfulEdit,\n    completeEdit,\n    submitEdit,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useEffect } from 'react';\n\nimport bodyCellStyles from './body-cell/styles.css.js';\n\nconst stickyCellSelector = `.${bodyCellStyles['sticky-cell']}`;\n\n// The scroll lock timeout value was determined empirically.\n// It is small enough to not interfere with sequential user events, and long enough\n// to ensure the browser-triggered scroll event occurs.\nconst scrollLockTimeout = 50;\n\n// The function provides a workaround for a Chrome issue causing unexpected scroll when clicking on interactive elements\n// inside sticky table cells.\n// When an interactive element (cell editor button, row selector, or a custom interactive button or link) is clicked, it receives\n// focus. The browser then tries to ensure the focused element is visible on screen, and it scrolls the element into view as needed.\n// In Chrome, this scrolling also occurs when clicking an interactive element inside a sticky cell, despite it being fully visible.\n// This causes an unneeded and unexpected scroll of the table wrapper towards the sticky element (on the left or on the right).\n//\n// Note: If moving focus to an interactive element using the keyboard, the automatic scroll still happens.\n// That is because the implemented workaround is not suitable for focusin events due to a difference in events order.\nexport function usePreventStickyClickScroll(wrapperRefObject: React.RefObject<HTMLDivElement>) {\n  useEffect(() => {\n    if (wrapperRefObject.current) {\n      const wrapperEl = wrapperRefObject.current;\n      const scrollLock = new ScrollLock();\n\n      // For click events inside sticky cells we capture the table wrapper scroll offset.\n      // This is used to reset the browser-enforced scrolling that is to follow.\n      // The scroll lock is automatically cleared after a short delay.\n      const onClick = (event: Event) => {\n        if (\n          event.target &&\n          event.target instanceof HTMLElement &&\n          (event.target.matches(stickyCellSelector) || event.target.closest(stickyCellSelector))\n        ) {\n          scrollLock.set(wrapperEl.scrollLeft);\n        }\n      };\n      wrapperEl.addEventListener('click', onClick);\n\n      // We cannot prevent the browser-issued scroll events from happening, and cannot cancel the default behavior.\n      // Instead, if we detect a scroll event that immediately follows a click inside a sticky cell, we negate the\n      // effect of it by resetting the wrapper scroll offset to its previous value.\n      const onScroll = () => {\n        if (scrollLock.active) {\n          wrapperEl.scrollLeft = scrollLock.scrollLeft;\n          scrollLock.clear();\n        }\n      };\n      wrapperEl.addEventListener('scroll', onScroll);\n\n      return () => {\n        wrapperEl.removeEventListener('click', onClick);\n        wrapperEl.removeEventListener('scroll', onScroll);\n      };\n    }\n  }, [wrapperRefObject]);\n}\n\nclass ScrollLock {\n  #timeoutId = setTimeout(() => {}, 0);\n  #scrollLeft = 0;\n  #active = false;\n\n  public set(scrollLeft: number) {\n    if (!this.#active) {\n      this.#active = true;\n      this.#scrollLeft = scrollLeft;\n      this.#timeoutId = setTimeout(() => (this.#active = false), scrollLockTimeout);\n    }\n  }\n\n  public clear() {\n    this.#active = false;\n    clearTimeout(this.#timeoutId);\n  }\n\n  public get active() {\n    return this.#active;\n  }\n\n  public get scrollLeft() {\n    return this.#scrollLeft;\n  }\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { findUpUntil } from '@cloudscape-design/component-toolkit/dom';\n\nimport { fireCancelableEvent, fireNonCancelableEvent } from '../internal/events/index';\nimport { TableProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport function useRowEvents<T>({ onRowClick, onRowContextMenu }: Pick<TableProps, 'onRowClick' | 'onRowContextMenu'>) {\n  const onRowClickHandler = (rowIndex: number, item: T, event: React.MouseEvent) => {\n    const tableCell = findUpUntil(event.target as HTMLElement, element => element.tagName.toLowerCase() === 'td');\n    if (!tableCell || !tableCell.classList.contains(styles['selection-control'])) {\n      const details: TableProps.OnRowClickDetail<T> = { rowIndex, item };\n      fireNonCancelableEvent(onRowClick, details);\n    }\n  };\n  const onRowContextMenuHandler = (rowIndex: number, item: T, event: React.MouseEvent) => {\n    const details: TableProps.OnRowContextMenuDetail<T> = {\n      rowIndex,\n      item,\n      clientX: event.clientX,\n      clientY: event.clientY,\n    };\n    fireCancelableEvent(onRowContextMenu, details, event);\n  };\n\n  return {\n    onRowClickHandler: onRowClick && onRowClickHandler,\n    onRowContextMenuHandler: onRowContextMenu && onRowContextMenuHandler,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { RefObject, useCallback, useEffect, useMemo } from 'react';\n\nimport { scrollElementIntoView } from '../internal/utils/scrollable-containers';\nimport { InternalSelectionType, TableProps } from './interfaces';\n\nfunction iterateTableCells<T extends HTMLElement>(\n  table: T,\n  func: (cell: HTMLTableCellElement, rowIndex: number, columnIndex: number) => void\n) {\n  table.querySelectorAll('tr').forEach((row: HTMLTableRowElement, rowIndex: number) => {\n    row.querySelectorAll('td').forEach((cell, cellIndex) => {\n      func(cell, rowIndex, cellIndex);\n    });\n  });\n}\n\ninterface TableFocusNavigationProps<T> {\n  enableKeyboardNavigation?: boolean;\n  selectionType: undefined | InternalSelectionType;\n  tableRoot: RefObject<HTMLTableElement>;\n  columnDefinitions: Readonly<T[]>;\n  numRows: number;\n}\n\n/**\n * This hook is used to navigate between table cells using the keyboard arrow keys.\n * All the functionality is implemented in the hook, so the table component does not\n * need to implement any keyboard event handlers.\n * @param enable - Toggle functionality of the hook\n * @param tableRoot - A ref to a table container. Ideally the root element of the table (<table>); tbody is also acceptable.\n * @param columnDefinitions - The column definitions for the table.\n * @param numRows - The number of rows in the table.\n */\nfunction useTableFocusNavigation<T extends { editConfig?: TableProps.EditConfig<any> }>({\n  enableKeyboardNavigation,\n  selectionType,\n  tableRoot,\n  columnDefinitions,\n  numRows,\n}: TableFocusNavigationProps<T>) {\n  const focusableColumns = useMemo(() => {\n    const cols = columnDefinitions.map(column => !!column.editConfig);\n    if (selectionType) {\n      cols.unshift(false);\n    }\n    return cols;\n  }, [columnDefinitions, selectionType]);\n\n  const maxColumnIndex = focusableColumns.length - 1;\n  const minColumnIndex = selectionType ? 1 : 0;\n\n  const focusCell = useCallback(\n    (rowIndex: number, columnIndex: number) => {\n      if (tableRoot?.current) {\n        iterateTableCells(tableRoot.current, (cell, rIndex, cIndex) => {\n          if (rIndex === rowIndex && cIndex === columnIndex) {\n            const editButton = cell.querySelector('button:last-child') as HTMLButtonElement | null;\n\n            if (editButton) {\n              editButton.focus?.();\n              scrollElementIntoView(editButton);\n            }\n          }\n        });\n      }\n    },\n    [tableRoot]\n  );\n\n  const shiftFocus = useCallback(\n    (vertical: -1 | 0 | 1, horizontal: -1 | 0 | 1) => {\n      const focusedCell = tableRoot.current?.querySelector<HTMLTableCellElement>('td:focus-within');\n      if (!focusedCell) {\n        return;\n      }\n\n      const columnIndex = focusedCell.cellIndex;\n      const rowIndex = (focusedCell.parentElement as HTMLTableRowElement).rowIndex;\n\n      let newRowIndex = rowIndex;\n      let newColumnIndex = columnIndex;\n\n      if (vertical !== 0) {\n        newRowIndex = Math.min(numRows, Math.max(rowIndex + vertical, 0));\n      }\n\n      if (horizontal !== 0) {\n        while (newColumnIndex <= maxColumnIndex && newColumnIndex >= minColumnIndex) {\n          newColumnIndex += horizontal;\n          if (focusableColumns[newColumnIndex]) {\n            break;\n          }\n        }\n      }\n\n      if ((rowIndex !== newRowIndex || columnIndex !== newColumnIndex) && tableRoot.current) {\n        focusCell(newRowIndex, newColumnIndex);\n      }\n    },\n    [focusCell, focusableColumns, maxColumnIndex, minColumnIndex, numRows, tableRoot]\n  );\n\n  const handleArrowKeyEvents = useCallback(\n    (event: KeyboardEvent) => {\n      const abort =\n        !!tableRoot.current?.querySelector('[data-inline-editing-active = \"true\"]') ||\n        !document.activeElement?.closest('[data-inline-editing-active]');\n\n      if (abort) {\n        return;\n      }\n      switch (event.key) {\n        case 'ArrowUp':\n          event.preventDefault();\n          shiftFocus(-1, 0);\n          break;\n        case 'ArrowDown':\n          event.preventDefault();\n          shiftFocus(1, 0);\n          break;\n        case 'ArrowLeft':\n          event.preventDefault();\n          shiftFocus(0, -1);\n          break;\n        case 'ArrowRight':\n          event.preventDefault();\n          shiftFocus(0, 1);\n          break;\n        // istanbul ignore next (default case = do nothing, not testable)\n        default:\n          return;\n      }\n    },\n    [shiftFocus, tableRoot]\n  );\n\n  useEffect(() => {\n    if (!tableRoot.current || enableKeyboardNavigation) {\n      return;\n    }\n\n    const tableElement = tableRoot.current;\n    tableRoot.current.addEventListener('keydown', handleArrowKeyEvents);\n\n    return () => tableElement && tableElement.removeEventListener('keydown', handleArrowKeyEvents);\n  }, [enableKeyboardNavigation, focusableColumns, handleArrowKeyEvents, tableRoot]);\n}\n\nexport default useTableFocusNavigation;\n"],
  "mappings": "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",
  "names": ["import_react", "import_react", "import_react", "import_react", "import_react", "import_react", "import_react", "import_react", "import_react", "import_react", "styles_css_default", "React", "styles_css_default", "import_react", "import_react", "_a", "_b", "_a", "import_react", "React", "styles_css_default", "styles_css_default", "styles_css_default", "React", "styles_css_default", "_a", "React", "styles_css_default", "internal_default", "import_react", "_a", "React", "styles_css_default", "internal_default", "React", "styles_css_default", "internal_default", "_a", "_b", "import_react", "React", "styles_css_default", "internal_default", "import_react", "styles_css_default", "React", "styles_css_default", "internal_default", "import_react", "React", "import_react", "import_react", "import_react", "column", "columnWidths", "React", "styles_css_default", "styles_css_default", "React", "styles_css_default", "inlineSize", "document", "_a", "import_react", "import_react", "styles_css_default", "React", "styles_css_default", "internal_default", "styles_css_default", "React", "internal_default", "styles_css_default", "styles_css_default", "import_react", "selectedItems", "import_react", "import_react", "styles_css_default", "props", "styles_css_default", "React", "React", "styles_css_default", "import_react", "item", "import_react", "import_react", "import_react", "styles_css_default", "React", "styles_css_default", "React", "selectionColumnId", "styles_css_default", "import_react", "React", "styles_css_default", "import_react", "import_react", "styles_css_default", "styles_css_default", "React", "styles_css_default", "import_react", "React", "styles_css_default", "import_react", "import_react", "styles_css_default", "styles_css_default", "import_react", "React", "_c", "_b", "_a", "styles_css_default", "internal_default", "analyticsMetadata", "React", "_a", "internal_default"]
}

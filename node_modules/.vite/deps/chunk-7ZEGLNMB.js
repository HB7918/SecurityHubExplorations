import {
  ContainerHeaderContextProvider,
  StickyHeaderContext,
  useStickyHeader
} from "./chunk-FERE3O2K.js";
import {
  useMobile
} from "./chunk-WMIISYZ2.js";
import {
  InternalBox
} from "./chunk-DDLYRCNV.js";
import {
  BuiltInErrorBoundary
} from "./chunk-SEHBNKMU.js";
import {
  useModalContext
} from "./chunk-P5S5N54A.js";
import {
  FunnelSubStepContext,
  nodeBelongs,
  useFunnel,
  useFunnelStep,
  useFunnelSubStep
} from "./chunk-5MCAYQBG.js";
import {
  getSubStepNameSelector,
  getSubStepSelector
} from "./chunk-YSEWQXSB.js";
import {
  getAnalyticsLabelAttribute
} from "./chunk-K3E5QKFE.js";
import {
  SYSTEM,
  clsx_m_default,
  getBaseProps,
  useMergeRefs,
  useUniqueId,
  useVisualRefresh
} from "./chunk-WYPZEXZR.js";
import {
  require_react
} from "./chunk-4HAMFFQC.js";
import {
  __toESM
} from "./chunk-EQCVQC35.js";

// node_modules/@cloudscape-design/components/internal/analytics/components/analytics-funnel.js
var import_react = __toESM(require_react());
var AnalyticsFunnelSubStep = ({ children, subStepIdentifier, subStepErrorContext }) => {
  const subStepId = useUniqueId("substep");
  const subStepSelector = getSubStepSelector(subStepId);
  const subStepNameSelector = getSubStepNameSelector(subStepId);
  const subStepRef = (0, import_react.useRef)(null);
  const { subStepCount, onStepChange } = useFunnelStep();
  const mousePressed = (0, import_react.useRef)(false);
  const isFocusedSubStep = (0, import_react.useRef)(false);
  const focusCleanupFunction = (0, import_react.useRef)(void 0);
  const { funnelState, funnelInteractionId } = useFunnel();
  const { stepNumber, stepNameSelector } = useFunnelStep();
  const newContext = {
    subStepIdentifier,
    subStepErrorContext,
    subStepSelector,
    subStepNameSelector,
    subStepId,
    subStepRef,
    mousePressed,
    isFocusedSubStep,
    focusCleanupFunction,
    isNestedSubStep: false
  };
  const inheritedContext = { ...(0, import_react.useContext)(FunnelSubStepContext), isNestedSubStep: true };
  const isNested = Boolean(inheritedContext.subStepId);
  (0, import_react.useEffect)(() => {
    if (!isNested) {
      subStepCount.current++;
      onStepChange();
      return () => {
        subStepCount.current--;
        onStepChange();
      };
    }
  }, [isNested, subStepCount, onStepChange]);
  const context = isNested ? inheritedContext : newContext;
  (0, import_react.useEffect)(() => {
    if (isNested || !subStepRef.current) {
      return;
    }
    const onMouseDown = () => mousePressed.current = true;
    const onMouseUp = async () => {
      var _a;
      mousePressed.current = false;
      if (!isFocusedSubStep.current) {
        return;
      }
      await new Promise((r) => setTimeout(r, 1));
      if (!subStepRef.current || !document.activeElement || !nodeBelongs(subStepRef.current, document.activeElement)) {
        isFocusedSubStep.current = false;
        (_a = focusCleanupFunction.current) === null || _a === void 0 ? void 0 : _a.call(focusCleanupFunction);
      }
    };
    const controller = new AbortController();
    window.addEventListener("mousedown", onMouseDown, { signal: controller.signal });
    window.addEventListener("mouseup", onMouseUp, { signal: controller.signal });
    return () => {
      controller.abort();
    };
  }, [
    funnelInteractionId,
    funnelState,
    stepNameSelector,
    stepNumber,
    subStepNameSelector,
    subStepSelector,
    focusCleanupFunction,
    isNested,
    subStepRef
  ]);
  return import_react.default.createElement(FunnelSubStepContext.Provider, { value: context }, typeof children === "function" ? children(context) : children);
};

// node_modules/@cloudscape-design/components/container/internal.js
var import_react2 = __toESM(require_react());

// node_modules/@cloudscape-design/components/container/style.js
function getRootStyles(style) {
  var _a, _b, _c, _d, _e;
  if (SYSTEM !== "core") {
    return {};
  }
  return {
    background: (_a = style === null || style === void 0 ? void 0 : style.root) === null || _a === void 0 ? void 0 : _a.background,
    borderColor: (_b = style === null || style === void 0 ? void 0 : style.root) === null || _b === void 0 ? void 0 : _b.borderColor,
    borderRadius: (_c = style === null || style === void 0 ? void 0 : style.root) === null || _c === void 0 ? void 0 : _c.borderRadius,
    borderWidth: (_d = style === null || style === void 0 ? void 0 : style.root) === null || _d === void 0 ? void 0 : _d.borderWidth,
    boxShadow: (_e = style === null || style === void 0 ? void 0 : style.root) === null || _e === void 0 ? void 0 : _e.boxShadow
  };
}
function getContentStyles(style) {
  var _a, _b;
  if (SYSTEM !== "core") {
    return {};
  }
  return {
    paddingBlock: (_a = style === null || style === void 0 ? void 0 : style.content) === null || _a === void 0 ? void 0 : _a.paddingBlock,
    paddingInline: (_b = style === null || style === void 0 ? void 0 : style.content) === null || _b === void 0 ? void 0 : _b.paddingInline
  };
}
function getHeaderStyles(style) {
  var _a, _b, _c, _d;
  if (SYSTEM !== "core") {
    return {};
  }
  return {
    ...((_a = style === null || style === void 0 ? void 0 : style.root) === null || _a === void 0 ? void 0 : _a.background) && { background: "transparent" },
    // Fix for AWSUI-61442
    borderRadius: (_b = style === null || style === void 0 ? void 0 : style.root) === null || _b === void 0 ? void 0 : _b.borderRadius,
    paddingBlock: (_c = style === null || style === void 0 ? void 0 : style.header) === null || _c === void 0 ? void 0 : _c.paddingBlock,
    paddingInline: (_d = style === null || style === void 0 ? void 0 : style.header) === null || _d === void 0 ? void 0 : _d.paddingInline
  };
}
function getFooterStyles(style) {
  var _a, _b, _c, _d, _e, _f, _g, _h;
  if (SYSTEM !== "core") {
    return {};
  }
  return {
    borderColor: (_b = (_a = style === null || style === void 0 ? void 0 : style.footer) === null || _a === void 0 ? void 0 : _a.divider) === null || _b === void 0 ? void 0 : _b.borderColor,
    borderWidth: (_d = (_c = style === null || style === void 0 ? void 0 : style.footer) === null || _c === void 0 ? void 0 : _c.divider) === null || _d === void 0 ? void 0 : _d.borderWidth,
    paddingBlock: (_f = (_e = style === null || style === void 0 ? void 0 : style.footer) === null || _e === void 0 ? void 0 : _e.root) === null || _f === void 0 ? void 0 : _f.paddingBlock,
    paddingInline: (_h = (_g = style === null || style === void 0 ? void 0 : style.footer) === null || _g === void 0 ? void 0 : _g.root) === null || _h === void 0 ? void 0 : _h.paddingInline
  };
}
function getMediaStyles(mediaPosition, style) {
  var _a;
  if (SYSTEM !== "core") {
    return {};
  }
  return {
    borderRadius: (_a = style === null || style === void 0 ? void 0 : style.root) === null || _a === void 0 ? void 0 : _a.borderRadius,
    ...mediaPosition === "top" && { borderEndStartRadius: "0px", borderEndEndRadius: "0px" },
    ...mediaPosition === "side" && { borderStartEndRadius: "0px", borderEndEndRadius: "0px" }
  };
}

// node_modules/@cloudscape-design/components/container/analytics-metadata/styles.css.js
import "/Users/hbaisani/Hub Explorations/node_modules/@cloudscape-design/components/container/analytics-metadata/styles.scoped.css";
var styles_css_default = {
  "header": "awsui_header_164jl_1ns0c_5"
};

// node_modules/@cloudscape-design/components/container/styles.css.js
import "/Users/hbaisani/Hub Explorations/node_modules/@cloudscape-design/components/container/styles.scoped.css";
var styles_css_default2 = {
  "root": "awsui_root_14iqq_1vhb3_189",
  "fit-height": "awsui_fit-height_14iqq_1vhb3_222",
  "with-side-media": "awsui_with-side-media_14iqq_1vhb3_227",
  "variant-default": "awsui_variant-default_14iqq_1vhb3_230",
  "variant-stacked": "awsui_variant-stacked_14iqq_1vhb3_230",
  "refresh": "awsui_refresh_14iqq_1vhb3_238",
  "sticky-enabled": "awsui_sticky-enabled_14iqq_1vhb3_288",
  "with-stuck-sticky-header-at-bottom": "awsui_with-stuck-sticky-header-at-bottom_14iqq_1vhb3_294",
  "with-top-media": "awsui_with-top-media_14iqq_1vhb3_304",
  "content-wrapper": "awsui_content-wrapper_14iqq_1vhb3_309",
  "content-wrapper-fit-height": "awsui_content-wrapper-fit-height_14iqq_1vhb3_314",
  "media": "awsui_media_14iqq_1vhb3_321",
  "media-top": "awsui_media-top_14iqq_1vhb3_339",
  "media-side": "awsui_media-side_14iqq_1vhb3_344",
  "header": "awsui_header_14iqq_1vhb3_350",
  "header-full-page": "awsui_header-full-page_14iqq_1vhb3_355",
  "header-variant-embedded": "awsui_header-variant-embedded_14iqq_1vhb3_358",
  "header-sticky-enabled": "awsui_header-sticky-enabled_14iqq_1vhb3_358",
  "header-with-media": "awsui_header-with-media_14iqq_1vhb3_361",
  "header-sticky-disabled": "awsui_header-sticky-disabled_14iqq_1vhb3_367",
  "header-stuck": "awsui_header-stuck_14iqq_1vhb3_377",
  "header-variant-cards": "awsui_header-variant-cards_14iqq_1vhb3_387",
  "header-dynamic-height": "awsui_header-dynamic-height_14iqq_1vhb3_390",
  "with-paddings": "awsui_with-paddings_14iqq_1vhb3_396",
  "with-hidden-content": "awsui_with-hidden-content_14iqq_1vhb3_405",
  "header-variant-full-page": "awsui_header-variant-full-page_14iqq_1vhb3_463",
  "header-cover": "awsui_header-cover_14iqq_1vhb3_466",
  "content": "awsui_content_14iqq_1vhb3_309",
  "content-fit-height": "awsui_content-fit-height_14iqq_1vhb3_494",
  "content-inner": "awsui_content-inner_14iqq_1vhb3_500",
  "with-header": "awsui_with-header_14iqq_1vhb3_507",
  "footer": "awsui_footer_14iqq_1vhb3_511",
  "with-divider": "awsui_with-divider_14iqq_1vhb3_515"
};

// node_modules/@cloudscape-design/components/container/test-classes/styles.css.js
import "/Users/hbaisani/Hub Explorations/node_modules/@cloudscape-design/components/container/test-classes/styles.scoped.css";
var styles_css_default3 = {
  "content-inner": "awsui_content-inner_1mwlm_oyjaq_5"
};

// node_modules/@cloudscape-design/components/container/internal.js
function InternalContainerAsSubstep(props) {
  const { subStepRef, funnelSubStepProps } = useFunnelSubStep();
  const modalContext = useModalContext();
  return import_react2.default.createElement(InternalContainer, { ...props, __subStepRef: (modalContext === null || modalContext === void 0 ? void 0 : modalContext.isInModal) ? { current: null } : subStepRef, __funnelSubStepProps: (modalContext === null || modalContext === void 0 ? void 0 : modalContext.isInModal) ? {} : funnelSubStepProps });
}
function InternalContainer({ header, footer, children, variant = "default", disableHeaderPaddings = false, disableContentPaddings = false, disableFooterPaddings = false, fitHeight, media, style, __stickyOffset, __mobileStickyOffset, __stickyHeader = false, __internalRootRef, __disableFooterDivider = false, __hiddenContent = false, __headerRef, __fullPage = false, __disableStickyMobile = true, __funnelSubStepProps, __subStepRef, __contentKey, ...restProps }) {
  var _a;
  const isMobile = useMobile();
  const isRefresh = useVisualRefresh();
  const baseProps = getBaseProps(restProps);
  const rootRef = (0, import_react2.useRef)(null);
  const headerRef = (0, import_react2.useRef)(null);
  const { isSticky, isStuck, isStuckAtBottom, stickyStyles } = useStickyHeader(rootRef, headerRef, __stickyHeader, __stickyOffset, __mobileStickyOffset, __disableStickyMobile, __fullPage && isRefresh && !isMobile);
  const contentId = useUniqueId();
  const hasDynamicHeight = isRefresh && variant === "full-page";
  const mergedRef = useMergeRefs(rootRef, __internalRootRef);
  const headerMergedRef = useMergeRefs(headerRef, __headerRef);
  const shouldHaveStickyStyles = isSticky && !isMobile;
  const hasMedia = !!(media === null || media === void 0 ? void 0 : media.content);
  const mediaPosition = (_a = media === null || media === void 0 ? void 0 : media.position) !== null && _a !== void 0 ? _a : "top";
  return import_react2.default.createElement(
    "div",
    { ...baseProps, ...__funnelSubStepProps, className: clsx_m_default(baseProps.className, styles_css_default2.root, styles_css_default2[`variant-${variant}`], fitHeight && styles_css_default2["fit-height"], hasMedia && (mediaPosition === "side" ? styles_css_default2["with-side-media"] : styles_css_default2["with-top-media"]), shouldHaveStickyStyles && [styles_css_default2["sticky-enabled"]], shouldHaveStickyStyles && isStuck && isStuckAtBottom && [styles_css_default2["with-stuck-sticky-header-at-bottom"]], isRefresh && styles_css_default2.refresh), ref: mergedRef, ...getAnalyticsLabelAttribute(`.${styles_css_default.header} h1, .${styles_css_default.header} h2, .${styles_css_default.header} h3`), style: getRootStyles(style) },
    hasMedia && import_react2.default.createElement("div", { className: clsx_m_default(styles_css_default2[`media-${mediaPosition === "side" ? "side" : "top"}`], styles_css_default2.media), style: mediaPosition === "top" ? { ...getMediaStyles(mediaPosition, style), height: (media === null || media === void 0 ? void 0 : media.height) || "" } : { ...getMediaStyles(mediaPosition, style), width: (media === null || media === void 0 ? void 0 : media.width) || "" } }, media.content),
    import_react2.default.createElement(
      "div",
      { id: contentId, ref: __subStepRef, key: __contentKey, className: clsx_m_default(styles_css_default2["content-wrapper"], fitHeight && styles_css_default2["content-wrapper-fit-height"]) },
      import_react2.default.createElement(
        BuiltInErrorBoundary,
        { wrapper: (content) => import_react2.default.createElement(InternalBox, { padding: "m" }, content) },
        header && import_react2.default.createElement(
          ContainerHeaderContextProvider,
          null,
          import_react2.default.createElement(
            StickyHeaderContext.Provider,
            { value: { isStuck, isStuckAtBottom } },
            import_react2.default.createElement(
              "div",
              { className: clsx_m_default(isRefresh && styles_css_default2.refresh, styles_css_default2.header, styles_css_default.header, styles_css_default2[`header-variant-${variant}`], {
                [styles_css_default2["header-sticky-disabled"]]: __stickyHeader && !isSticky,
                [styles_css_default2["header-sticky-enabled"]]: isSticky,
                [styles_css_default2["header-dynamic-height"]]: hasDynamicHeight,
                [styles_css_default2["header-stuck"]]: isStuck,
                [styles_css_default2["with-paddings"]]: !disableHeaderPaddings,
                [styles_css_default2["with-hidden-content"]]: !children || __hiddenContent,
                [styles_css_default2["header-with-media"]]: hasMedia,
                [styles_css_default2["header-full-page"]]: __fullPage && isRefresh
              }), ref: headerMergedRef, style: {
                ...stickyStyles.style,
                ...getHeaderStyles(style)
              } },
              isStuck && !isMobile && isRefresh && __fullPage && import_react2.default.createElement("div", { className: styles_css_default2["header-cover"] }),
              header
            )
          )
        ),
        import_react2.default.createElement(
          "div",
          { className: clsx_m_default(styles_css_default2.content, fitHeight && styles_css_default2["content-fit-height"]) },
          import_react2.default.createElement(
            "div",
            { className: clsx_m_default(styles_css_default2["content-inner"], styles_css_default3["content-inner"], {
              [styles_css_default2["with-paddings"]]: !disableContentPaddings,
              [styles_css_default2["with-header"]]: !!header
            }), style: getContentStyles(style) },
            import_react2.default.createElement(BuiltInErrorBoundary, { wrapper: (content) => import_react2.default.createElement(InternalBox, { padding: disableContentPaddings ? "m" : void 0 }, content) }, children)
          )
        ),
        footer && import_react2.default.createElement("div", { className: clsx_m_default(styles_css_default2.footer, {
          [styles_css_default2["with-divider"]]: !__disableFooterDivider,
          [styles_css_default2["with-paddings"]]: !disableFooterPaddings
        }), style: getFooterStyles(style) }, footer)
      )
    )
  );
}

export {
  AnalyticsFunnelSubStep,
  InternalContainerAsSubstep,
  InternalContainer
};
//# sourceMappingURL=chunk-7ZEGLNMB.js.map

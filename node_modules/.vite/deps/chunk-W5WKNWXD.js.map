{
  "version": 3,
  "sources": ["../../src/app-layout/utils/feature-flags.ts", "../../src/app-layout/visual-refresh-toolbar/contexts.ts", "../../src/internal/widgets/index.tsx"],
  "sourcesContent": ["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useContext } from 'react';\n\nimport { getGlobalFlag } from '@cloudscape-design/component-toolkit/internal';\n\nimport { useVisualRefresh } from '../../internal/hooks/use-visual-mode';\nimport { AppLayoutToolbarPublicContext } from '../visual-refresh-toolbar/contexts';\n\n//   useAppLayoutFlagEnabled is set to true only in consoles. It controls if AppLayout theme is toolbar\nexport const useAppLayoutFlagEnabled = () => {\n  const isRefresh = useVisualRefresh();\n  return isRefresh && (getGlobalFlag('appLayoutWidget') || getGlobalFlag('appLayoutToolbar'));\n};\n\n// AppLayoutToolbar component will have 2 modes:\n//   - for those who use AppLayout component with toolbar. they expect to have all existing features, including deduplication\n//   - for non-console usage. in this case we don't need \"hidden\" features to be enabled, now it's only deduplication\n// the hooks I want to name will exist only internally to control this behavior\nexport const useAppLayoutToolbarDesignEnabled = () => {\n  const isToolbarPrivate = useAppLayoutFlagEnabled();\n  const isToolbarPublic = useContext(AppLayoutToolbarPublicContext) ?? false;\n\n  return isToolbarPublic || isToolbarPrivate;\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { awsuiPluginsInternal } from '../../internal/plugins/api';\n\ninterface BreadcrumbsSlotContextType {\n  isInToolbar: boolean;\n}\n\nexport const BreadcrumbsSlotContext =\n  awsuiPluginsInternal.sharedReactContexts.createContext<BreadcrumbsSlotContextType>(React, 'BreadcrumbsSlotContext');\n\nexport const AppLayoutVisibilityContext = awsuiPluginsInternal.sharedReactContexts.createContext<boolean>(\n  React,\n  'AppLayoutVisibilityContext'\n);\n\nexport const AppLayoutToolbarPublicContext = awsuiPluginsInternal.sharedReactContexts.createContext<boolean>(\n  React,\n  'AppLayoutToolbarPublicContext'\n);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { getGlobalFlag } from '@cloudscape-design/component-toolkit/internal';\n\nimport { useVisualRefresh } from '../hooks/use-visual-mode';\n\n// Built-in React.FunctionComponent has always present `children` property which is not desired\nexport type FunctionComponent<Props extends object> = (props: Props) => JSX.Element | null;\nexport type PropsType<Component extends FunctionComponent<any>> =\n  Component extends FunctionComponent<infer Props> ? Props : never;\n\nexport function createWidgetizedComponent<Component extends FunctionComponent<any>>(\n  Implementation: Component,\n  Skeleton?: React.ForwardRefExoticComponent<PropsType<Component> & React.RefAttributes<HTMLElement>>\n) {\n  return (Loader?: Component): Component => {\n    return (props => {\n      const isRefresh = useVisualRefresh();\n      if (isRefresh && getGlobalFlag('appLayoutWidget') && Loader) {\n        return <Loader Skeleton={Skeleton} {...(props as any)} />;\n      }\n\n      return <Implementation {...(props as any)} />;\n    }) as Component;\n  };\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;AAEA,IAAAA,gBAA2B;;;ACA3B,mBAAkB;AAQX,IAAM,yBACX,qBAAqB,oBAAoB,cAA0C,aAAAC,SAAO,wBAAwB;AAE7G,IAAM,6BAA6B,qBAAqB,oBAAoB,cACjF,aAAAA,SACA,4BAA4B;AAGvB,IAAM,gCAAgC,qBAAqB,oBAAoB,cACpF,aAAAA,SACA,+BAA+B;;;ADV1B,IAAM,0BAA0B,MAAK;AAC1C,QAAM,YAAY,iBAAgB;AAClC,SAAO,cAAc,cAAc,iBAAiB,KAAK,cAAc,kBAAkB;AAC3F;AAMO,IAAM,mCAAmC,MAAK;;AACnD,QAAM,mBAAmB,wBAAuB;AAChD,QAAM,mBAAkB,SAAA,0BAAW,6BAA6B,OAAC,QAAA,OAAA,SAAA,KAAI;AAErE,SAAO,mBAAmB;AAC5B;;;AEtBA,IAAAC,gBAAkB;AAWZ,SAAU,0BACd,gBACA,UAAmG;AAEnG,SAAO,CAAC,WAAiC;AACvC,WAAQ,WAAQ;AACd,YAAM,YAAY,iBAAgB;AAClC,UAAI,aAAa,cAAc,iBAAiB,KAAK,QAAQ;AAC3D,eAAO,cAAAC,QAAA,cAAC,QAAM,EAAC,UAAkB,GAAO,MAAa,CAAA;MACvD;AAEA,aAAO,cAAAA,QAAA,cAAC,gBAAc,EAAA,GAAM,MAAa,CAAA;IAC3C;EACF;AACF;",
  "names": ["import_react", "React", "import_react", "React"]
}

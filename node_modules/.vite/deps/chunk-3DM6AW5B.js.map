{
  "version": 3,
  "sources": ["../../@cloudscape-design/components/internal/components/button-trigger/analytics-metadata/styles.css.js", "../../src/select/internal.tsx", "../../src/internal/components/dropdown-footer/index.tsx", "../../src/internal/components/dropdown-status/index.tsx", "../../@cloudscape-design/components/internal/components/dropdown-status/styles.css.js", "../../@cloudscape-design/components/internal/components/dropdown-footer/styles.css.js", "../../src/internal/components/options-list/utils/test-indexes.ts", "../../src/internal/components/option/utils/filter-options.ts", "../../src/internal/components/option/utils/flatten-options.ts", "../../src/internal/components/option/utils/prepare-options.ts", "../../src/select/parts/filter.tsx", "../../@cloudscape-design/components/select/parts/styles.css.js", "../../src/select/parts/plain-list.tsx", "../../src/select/utils/render-options.tsx", "../../src/internal/components/option/utils/unflatten-options.ts", "../../src/select/parts/item.tsx", "../../src/internal/components/option/index.tsx", "../../src/internal/components/option/option-parts.tsx", "../../src/internal/components/option/highlight-match.tsx", "../../@cloudscape-design/components/internal/components/option/styles.css.js", "../../@cloudscape-design/components/internal/components/option/analytics-metadata/styles.css.js", "../../src/internal/components/selectable-item/index.tsx", "../../@cloudscape-design/components/internal/components/selectable-item/analytics-metadata/styles.css.js", "../../src/internal/components/selectable-item/analytics-metadata/utils.ts", "../../@cloudscape-design/components/internal/components/selectable-item/styles.css.js", "../../src/select/parts/multiselect-item.tsx", "../../src/select/parts/option-group.tsx", "../../src/select/utils/get-item-props.ts", "../../src/select/utils/scroll-to-index.ts", "../../src/select/parts/common.ts", "../../src/select/parts/trigger.tsx", "../../src/internal/components/button-trigger/index.tsx", "../../@cloudscape-design/components/internal/components/button-trigger/styles.css.js", "../../src/token/internal.tsx", "../../src/token/dismiss-button.tsx", "../../@cloudscape-design/components/token-group/styles.css.js", "../../@cloudscape-design/components/token/styles.css.js", "../../@cloudscape-design/components/token/test-classes/styles.css.js", "../../@cloudscape-design/components/token/analytics-metadata/styles.css.js", "../../src/select/parts/virtual-list.tsx", "../../src/internal/hooks/use-virtual/index.ts", "../../@cloudscape-design/components/internal/vendor/react-virtual.js", "../../src/internal/hooks/use-virtual/sticky-range-extractor.ts", "../../src/select/utils/check-option-value-field.ts", "../../src/select/utils/use-announcement.ts", "../../src/internal/components/option/option-announcer.ts", "../../src/select/utils/use-load-items.ts", "../../src/select/utils/use-native-search.ts", "../../src/select/utils/use-select.ts", "../../src/internal/components/options-list/utils/use-highlight-option.ts", "../../src/internal/components/options-list/utils/use-ids.ts", "../../src/internal/components/options-list/utils/use-keyboard.ts", "../../src/select/utils/connect-options.ts", "../../@cloudscape-design/components/select/styles.css.js"],
  "sourcesContent": ["\n    import './styles.scoped.css';\n    export default {\n  \"button-trigger\": \"awsui_button-trigger_l32fn_xo3sj_5\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { useMergeRefs, useUniqueId, warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { useInternalI18n } from '../i18n/context.js';\nimport { getBaseProps } from '../internal/base-component';\nimport { getBreakpointValue } from '../internal/breakpoints';\nimport Dropdown from '../internal/components/dropdown';\nimport DropdownFooter from '../internal/components/dropdown-footer';\nimport { useDropdownStatus } from '../internal/components/dropdown-status';\nimport { OptionGroup } from '../internal/components/option/interfaces.js';\nimport { prepareOptions } from '../internal/components/option/utils/prepare-options.js';\nimport { useFormFieldContext } from '../internal/context/form-field-context';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport checkControlled from '../internal/hooks/check-controlled';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { SomeRequired } from '../internal/types';\nimport { joinStrings } from '../internal/utils/strings/join-strings.js';\nimport { SelectProps } from './interfaces';\nimport Filter from './parts/filter';\nimport PlainList, { SelectListProps } from './parts/plain-list';\nimport Trigger from './parts/trigger';\nimport VirtualList from './parts/virtual-list';\nimport { checkOptionValueField } from './utils/check-option-value-field';\nimport { useAnnouncement } from './utils/use-announcement';\nimport { useLoadItems } from './utils/use-load-items';\nimport { useNativeSearch } from './utils/use-native-search';\nimport { useSelect } from './utils/use-select';\n\nimport styles from './styles.css.js';\n\nexport interface InternalSelectProps extends SomeRequired<SelectProps, 'options'>, InternalBaseComponentProps {\n  __inFilteringToken?: 'root' | 'nested';\n}\n\nconst InternalSelect = React.forwardRef(\n  (\n    {\n      options,\n      filteringType = 'none',\n      filteringPlaceholder,\n      filteringAriaLabel,\n      filteringClearAriaLabel,\n      filteringResultsText,\n      inlineLabelText,\n      ariaRequired,\n      placeholder,\n      disabled,\n      readOnly,\n      ariaLabel,\n      statusType = 'finished',\n      empty,\n      loadingText,\n      finishedText,\n      errorText,\n      noMatch,\n      triggerVariant = 'label',\n      renderHighlightedAriaLive,\n      selectedOption,\n      onBlur,\n      onFocus,\n      onLoadItems,\n      onChange,\n      virtualScroll,\n      expandToViewport,\n      autoFocus,\n      __inFilteringToken,\n      __internalRootRef,\n      renderOption,\n      ...restProps\n    }: InternalSelectProps,\n    externalRef: React.Ref<SelectProps.Ref>\n  ) => {\n    const baseProps = getBaseProps(restProps);\n    const formFieldContext = useFormFieldContext(restProps);\n\n    const i18n = useInternalI18n('select');\n    const errorIconAriaLabel = i18n('errorIconAriaLabel', restProps.errorIconAriaLabel);\n    const selectedAriaLabel = i18n('selectedAriaLabel', restProps.selectedAriaLabel);\n    const recoveryText = i18n('recoveryText', restProps.recoveryText);\n\n    if (restProps.recoveryText && !onLoadItems) {\n      warnOnce('Select', '`onLoadItems` must be provided for `recoveryText` to be displayed.');\n    }\n\n    const { handleLoadMore, handleRecoveryClick, fireLoadItems } = useLoadItems({\n      onLoadItems,\n      options,\n      statusType,\n    });\n\n    checkControlled('Select', 'selectedOption', selectedOption, 'onChange', onChange);\n\n    checkOptionValueField('Select', 'options', options);\n\n    const [filteringValue, setFilteringValue] = useState('');\n\n    const { filteredOptions, parentMap, totalCount, matchesCount } = prepareOptions(\n      options,\n      filteringType,\n      filteringValue\n    );\n\n    const rootRef = useRef<HTMLDivElement>(null);\n    const triggerRef = useRef<HTMLButtonElement>(null);\n\n    const selfControlId = useUniqueId('trigger');\n    const controlId = formFieldContext.controlId ?? selfControlId;\n\n    const scrollToIndex = useRef<SelectListProps.SelectListRef>(null);\n    const {\n      isOpen,\n      highlightType,\n      highlightedOption,\n      highlightedIndex,\n      getTriggerProps,\n      getDropdownProps,\n      getFilterProps,\n      getMenuProps,\n      getOptionProps,\n      highlightOption,\n      selectOption,\n      announceSelected,\n      focusActiveRef,\n    } = useSelect({\n      selectedOptions: selectedOption ? [selectedOption] : [],\n      updateSelectedOption: option => fireNonCancelableEvent(onChange, { selectedOption: option }),\n      options: filteredOptions,\n      filteringType,\n      onBlur,\n      onFocus,\n      externalRef,\n      fireLoadItems,\n      setFilteringValue,\n      statusType,\n    });\n\n    const handleNativeSearch = useNativeSearch({\n      isEnabled: filteringType === 'none' && !readOnly,\n      options: filteredOptions,\n      highlightOption: !isOpen ? selectOption : highlightOption,\n      highlightedOption: !isOpen ? selectedOption : highlightedOption?.option,\n    });\n\n    const selectAriaLabelId = useUniqueId('select-arialabel-');\n    const footerId = useUniqueId('footer');\n\n    useEffect(() => {\n      scrollToIndex.current?.(highlightedIndex);\n    }, [highlightedIndex]);\n\n    const filter = (\n      <Filter\n        clearAriaLabel={filteringClearAriaLabel}\n        filteringType={filteringType}\n        placeholder={filteringPlaceholder}\n        ariaLabel={filteringAriaLabel}\n        ariaRequired={ariaRequired}\n        value={filteringValue}\n        {...getFilterProps()}\n      />\n    );\n\n    const trigger = (\n      <Trigger\n        renderOption={renderOption}\n        ref={triggerRef}\n        placeholder={placeholder}\n        disabled={disabled}\n        readOnly={readOnly}\n        triggerVariant={triggerVariant}\n        triggerProps={getTriggerProps(disabled, autoFocus)}\n        selectedOption={selectedOption}\n        isOpen={isOpen}\n        inFilteringToken={__inFilteringToken}\n        inlineLabelText={inlineLabelText}\n        {...formFieldContext}\n        controlId={controlId}\n        ariaLabelledby={joinStrings(formFieldContext.ariaLabelledby, selectAriaLabelId)}\n      />\n    );\n\n    const isEmpty = !options || options.length === 0;\n    const isNoMatch = filteredOptions && filteredOptions.length === 0;\n    const isFiltered =\n      filteringType !== 'none' && filteringValue.length > 0 && filteredOptions && filteredOptions.length > 0;\n    const filteredText = isFiltered ? filteringResultsText?.(matchesCount, totalCount) : undefined;\n\n    const dropdownStatus = useDropdownStatus({\n      statusType,\n      empty,\n      loadingText,\n      finishedText,\n      errorText,\n      recoveryText,\n      isEmpty,\n      isNoMatch,\n      noMatch,\n      filteringResultsText: filteredText,\n      errorIconAriaLabel,\n      onRecoveryClick: () => {\n        handleRecoveryClick();\n        focusActiveRef();\n      },\n      hasRecoveryCallback: !!onLoadItems,\n    });\n\n    const menuProps = {\n      ...getMenuProps(),\n      onLoadMore: handleLoadMore,\n      ariaLabelledby: joinStrings(selectAriaLabelId, controlId),\n      ariaDescribedby: dropdownStatus.content ? footerId : undefined,\n    };\n\n    const announcement = useAnnouncement({\n      announceSelected,\n      highlightedOption,\n      getParent: option => parentMap.get(option)?.option as undefined | OptionGroup,\n      selectedAriaLabel,\n      renderHighlightedAriaLive,\n    });\n\n    const ListComponent = virtualScroll ? VirtualList : PlainList;\n\n    const handleMouseDown = (event: React.MouseEvent) => {\n      const target = event.target as HTMLElement;\n\n      if (target !== document.activeElement) {\n        // prevent currently focused element from losing it\n        event.preventDefault();\n      }\n    };\n\n    const mergedRef = useMergeRefs(rootRef, __internalRootRef);\n\n    const dropdownProps = getDropdownProps();\n\n    const hasOptions = useRef(options.length > 0);\n    hasOptions.current = hasOptions.current || options.length > 0;\n\n    return (\n      <div\n        {...baseProps}\n        ref={mergedRef}\n        className={clsx(styles.root, baseProps.className)}\n        onKeyDown={handleNativeSearch}\n      >\n        <Dropdown\n          {...dropdownProps}\n          ariaLabelledby={dropdownProps.ariaRole ? joinStrings(selectAriaLabelId, controlId) : undefined}\n          ariaDescribedby={dropdownProps.ariaRole ? (dropdownStatus.content ? footerId : undefined) : undefined}\n          open={isOpen}\n          stretchTriggerHeight={!!__inFilteringToken}\n          minWidth={expandToViewport ? undefined : 'trigger'}\n          maxWidth={getBreakpointValue('xxs')} // AWSUI-19898\n          trigger={trigger}\n          header={filter}\n          onMouseDown={handleMouseDown}\n          footer={\n            dropdownStatus.isSticky ? (\n              <DropdownFooter content={isOpen ? dropdownStatus.content : null} id={footerId} />\n            ) : null\n          }\n          expandToViewport={expandToViewport}\n          // Forces dropdown position recalculation when new options are loaded\n          contentKey={hasOptions.current.toString()}\n          content={\n            <ListComponent\n              listBottom={\n                !dropdownStatus.isSticky ? (\n                  <DropdownFooter content={isOpen ? dropdownStatus.content : null} id={footerId} />\n                ) : null\n              }\n              renderOption={renderOption}\n              menuProps={menuProps}\n              getOptionProps={getOptionProps}\n              filteredOptions={filteredOptions}\n              filteringValue={filteringValue}\n              ref={scrollToIndex}\n              hasDropdownStatus={dropdownStatus.content !== null}\n              screenReaderContent={announcement}\n              highlightType={highlightType}\n            />\n          }\n        />\n        <div hidden={true} id={selectAriaLabelId}>\n          {ariaLabel || inlineLabelText}\n        </div>\n      </div>\n    );\n  }\n);\n\nexport default InternalSelect;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport InternalLiveRegion from '../../../live-region/internal.js';\nimport DropdownStatus from '../dropdown-status/index.js';\n\nimport styles from './styles.css.js';\n\ninterface DropdownFooter {\n  content?: React.ReactNode | null;\n  hasItems?: boolean;\n  id?: string;\n}\n\nconst DropdownFooter: React.FC<DropdownFooter> = ({ content, id, hasItems = true }: DropdownFooter) => (\n  <div className={clsx(styles.root, { [styles.hidden]: content === null, [styles['no-items']]: !hasItems })}>\n    {content && (\n      <InternalLiveRegion id={id}>\n        <DropdownStatus>{content}</DropdownStatus>\n      </InternalLiveRegion>\n    )}\n  </div>\n);\n\nexport default DropdownFooter;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport InternalLink from '../../../link/internal';\nimport InternalStatusIndicator from '../../../status-indicator/internal';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../events';\nimport { usePrevious } from '../../hooks/use-previous';\nimport { DropdownStatusProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport { DropdownStatusProps };\n\nexport interface DropdownStatusPropsExtended extends DropdownStatusProps {\n  isEmpty?: boolean;\n  isNoMatch?: boolean;\n  noMatch?: React.ReactNode;\n  filteringResultsText?: string;\n  /**\n   * Called when the user clicks the recovery button placed at the\n   * bottom of the dropdown list in the error state. Use this to\n   * retry a failed request or provide another option for the user\n   * to recover from the error.\n   */\n  onRecoveryClick?: NonCancelableEventHandler;\n  /**\n   * Determines if retry button should be rendered\n   * in case recoveryText was automatically provided by i18n.\n   */\n  hasRecoveryCallback?: boolean;\n}\n\nfunction DropdownStatus({ children }: { children: React.ReactNode }) {\n  return <div className={styles.root}>{children}</div>;\n}\n\ntype UseDropdownStatus = ({\n  statusType,\n  empty,\n  loadingText,\n  finishedText,\n  filteringResultsText,\n  errorText,\n  recoveryText,\n  isEmpty,\n  isNoMatch,\n  noMatch,\n  hasRecoveryCallback,\n  onRecoveryClick,\n}: DropdownStatusPropsExtended) => DropdownStatusResult;\n\nexport interface DropdownStatusResult {\n  isSticky: boolean;\n  content: React.ReactNode | null;\n  hasRecoveryButton: boolean;\n}\n\nexport const useDropdownStatus: UseDropdownStatus = ({\n  statusType,\n  empty,\n  loadingText,\n  finishedText,\n  filteringResultsText,\n  errorText,\n  recoveryText,\n  isEmpty,\n  isNoMatch,\n  noMatch,\n  onRecoveryClick,\n  hasRecoveryCallback = false,\n  errorIconAriaLabel,\n}): DropdownStatusResult => {\n  const previousStatusType = usePrevious(statusType);\n  const statusResult: DropdownStatusResult = { isSticky: true, content: null, hasRecoveryButton: false };\n\n  if (statusType === 'loading') {\n    statusResult.content = <InternalStatusIndicator type={'loading'}>{loadingText}</InternalStatusIndicator>;\n  } else if (statusType === 'error') {\n    statusResult.hasRecoveryButton = !!recoveryText && hasRecoveryCallback;\n    statusResult.content = (\n      <span>\n        <InternalStatusIndicator\n          type=\"error\"\n          __display=\"inline\"\n          __animate={previousStatusType !== 'error'}\n          iconAriaLabel={errorIconAriaLabel}\n        >\n          {errorText}\n        </InternalStatusIndicator>{' '}\n        {statusResult.hasRecoveryButton && (\n          <InternalLink\n            onFollow={() => fireNonCancelableEvent(onRecoveryClick)}\n            variant=\"recovery\"\n            className={styles.recovery}\n          >\n            {recoveryText}\n          </InternalLink>\n        )}\n      </span>\n    );\n  } else if (isEmpty && empty) {\n    statusResult.content = empty;\n  } else if (isNoMatch && noMatch) {\n    statusResult.content = noMatch;\n  } else if (filteringResultsText) {\n    statusResult.content = filteringResultsText;\n  } else if (statusType === 'finished' && finishedText) {\n    statusResult.content = finishedText;\n    statusResult.isSticky = false;\n  }\n\n  return statusResult;\n};\n\nexport default DropdownStatus;\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_vrgzu_11c7p_145\",\n  \"recovery\": \"awsui_recovery_vrgzu_11c7p_180\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1afi9_1n6s2_145\",\n  \"hidden\": \"awsui_hidden_1afi9_1n6s2_176\",\n  \"no-items\": \"awsui_no-items_1afi9_1n6s2_179\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\ninterface ListItem {\n  type?: string;\n}\ninterface TestIndexes {\n  throughIndex?: number;\n  groupIndex?: number;\n  inGroupIndex?: number;\n}\nconst testIndexMap = new WeakMap<ListItem, TestIndexes>();\n//retrieves the test indexes of the option for the findOption and findOptionInGroup test-utils\nexport const getTestOptionIndexes = <T extends ListItem>(item: T) => testIndexMap.get(item);\nexport const generateTestIndexes = <T extends ListItem, Group extends object>(\n  filteredItems: ReadonlyArray<T>,\n  getParentGroup: (item: T) => Group | undefined\n) => {\n  let throughIndex = 1;\n  let groupIndex = 0;\n  let inGroupIndex = 1;\n  let currentGroup: ListItem | null = null;\n  filteredItems.forEach(item => {\n    const isGroup = item.type === 'parent';\n    const group = isGroup ? item : getParentGroup(item);\n    if (group && group !== currentGroup) {\n      currentGroup = group;\n      groupIndex += 1;\n      inGroupIndex = 1;\n    }\n    if (isGroup) {\n      testIndexMap.set(item, { groupIndex });\n    } else if (group && item.type === 'child') {\n      testIndexMap.set(item, {\n        throughIndex: throughIndex++,\n        groupIndex,\n        inGroupIndex: inGroupIndex++,\n      });\n    } else if (item.type === 'child' || !item.type) {\n      testIndexMap.set(item, { throughIndex: throughIndex++ });\n    }\n  });\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption, OptionDefinition, OptionGroup } from '../interfaces';\n\ntype SearchableField = 'value' | 'label' | 'description' | 'labelTag';\ntype SearchableTagField = 'tags' | 'filteringTags';\n\nconst searchableFields: SearchableField[] = ['value', 'label', 'description', 'labelTag'];\n\nexport const matchesString = (value: string | undefined, searchText: string, strictMatching: boolean): boolean => {\n  if (!value) {\n    return false;\n  }\n  const index = value.toLowerCase().indexOf(searchText);\n  return strictMatching ? index === 0 : index > -1;\n};\n\nconst matchesSingleOption = (dropdownOption: DropdownOption, text: string, strictMatching: boolean): boolean => {\n  const searchText = text.toLowerCase();\n\n  const option: OptionDefinition = dropdownOption.option;\n  const searchStrFields = (attr: SearchableField) => matchesString(option[attr], searchText, strictMatching);\n  const searchTagsFields = (attr: SearchableTagField) =>\n    option[attr]?.some(value => matchesString(value, searchText, strictMatching));\n\n  const searchableTagFields: SearchableTagField[] = ['tags'];\n  if (!strictMatching) {\n    searchableTagFields.push('filteringTags');\n  }\n\n  return searchableFields.some(searchStrFields) || searchableTagFields.some(searchTagsFields);\n};\n\nexport const filterOptions = (\n  options: ReadonlyArray<DropdownOption>,\n  searchText: string,\n  strictMatching = false\n): ReadonlyArray<DropdownOption> => {\n  if (searchText === '') {\n    return options;\n  }\n\n  let currentGroup: DropdownOption | null = null;\n  let parentMatched = false;\n  return options.reduce<DropdownOption[]>((acc, option) => {\n    if (option.type === 'parent') {\n      parentMatched = false;\n      currentGroup = option;\n      if (matchesSingleOption(option, searchText, strictMatching)) {\n        parentMatched = true;\n        acc.push(currentGroup);\n      }\n      return acc;\n    }\n    if (option.type !== 'child') {\n      currentGroup = null;\n      parentMatched = false;\n    }\n    if (parentMatched) {\n      acc.push(option);\n    } else if (matchesSingleOption(option, searchText, strictMatching)) {\n      if (currentGroup) {\n        acc.push(currentGroup);\n        currentGroup = null;\n      }\n      acc.push(option);\n    }\n    return acc;\n  }, []);\n};\n\nexport const isInteractive = (option?: DropdownOption) => !!option && !option.disabled && option.type !== 'parent';\n\nexport const isGroupInteractive = (option?: DropdownOption) => !!option && !option.disabled;\n\nexport const isGroup = (option?: OptionDefinition | OptionGroup): option is OptionGroup =>\n  !!option && 'options' in option && !!option.options;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption, OptionDefinition, OptionGroup } from '../interfaces';\nimport { isGroup } from './filter-options';\n\nexport const flattenOptions = (options: ReadonlyArray<OptionDefinition | OptionGroup>) => {\n  const parentMap = new Map<DropdownOption, DropdownOption>();\n\n  const flatOptions = options.reduce<DropdownOption[]>((acc, option) => {\n    if (isGroup(option)) {\n      const { options, ...rest } = option;\n      const parentDropdownOption: DropdownOption = { type: 'parent', option };\n      const allOptionsDisabled = options.every(option => option.disabled);\n      if (option.disabled || allOptionsDisabled) {\n        parentDropdownOption.disabled = true;\n      }\n      acc.push(parentDropdownOption);\n      options.forEach(child => {\n        const childDropdownOption: DropdownOption = { type: 'child', option: child };\n        if (rest.disabled || child.disabled) {\n          childDropdownOption.disabled = true;\n        }\n        acc.push(childDropdownOption);\n        parentMap.set(childDropdownOption, parentDropdownOption);\n      });\n    } else {\n      const dropdownOption: DropdownOption = { option };\n      if (option.disabled) {\n        dropdownOption.disabled = true;\n      }\n      acc.push(dropdownOption);\n    }\n\n    return acc;\n  }, []);\n\n  return {\n    flatOptions,\n    parentMap,\n  };\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { SelectProps } from '../../../../select/interfaces';\nimport { generateTestIndexes } from '../../options-list/utils/test-indexes';\nimport { filterOptions } from './filter-options';\nimport { flattenOptions } from './flatten-options';\n\nexport function prepareOptions(\n  options: SelectProps.Options,\n  filteringType: SelectProps.FilteringType,\n  filteringText: string\n) {\n  const { flatOptions, parentMap } = flattenOptions(options);\n  const filteredOptions = filteringType !== 'auto' ? flatOptions : filterOptions(flatOptions, filteringText);\n  generateTestIndexes(filteredOptions, parentMap.get.bind(parentMap));\n  return {\n    flatOptions,\n    filteredOptions,\n    parentMap,\n    totalCount: flatOptions.length,\n    matchesCount: filteredOptions.length,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport InternalInput, { InternalInputProps } from '../../input/internal';\nimport { SelectProps } from '../interfaces';\n\nimport styles from './styles.css.js';\n\nexport interface FilterProps extends InternalInputProps {\n  ref?: React.Ref<HTMLInputElement>;\n  filteringType: SelectProps.FilteringType;\n}\n\nconst Filter = React.forwardRef(({ filteringType, ...filterProps }: FilterProps, ref: React.Ref<HTMLInputElement>) => {\n  if (filteringType === 'none') {\n    return null;\n  }\n\n  return (\n    <InternalInput\n      ref={ref}\n      type=\"visualSearch\"\n      className={styles.filter}\n      autoComplete={false}\n      disableBrowserAutocorrect={true}\n      invalid={false}\n      __noBorderRadius={true}\n      {...filterProps}\n      nativeInputAttributes={{\n        'aria-expanded': true,\n        'aria-haspopup': 'listbox',\n        role: 'combobox',\n        autoCorrect: 'off',\n        autoCapitalize: 'off',\n        ...filterProps.nativeInputAttributes,\n      }}\n      __skipNativeAttributesWarnings={true}\n    />\n  );\n});\n\nexport default Filter;\n", "\n    import './styles.scoped.css';\n    export default {\n  \"placeholder\": \"awsui_placeholder_dwuol_r15lx_145\",\n  \"item\": \"awsui_item_dwuol_r15lx_150\",\n  \"checkbox\": \"awsui_checkbox_dwuol_r15lx_154\",\n  \"option-group\": \"awsui_option-group_dwuol_r15lx_163\",\n  \"filter\": \"awsui_filter_dwuol_r15lx_167\",\n  \"trigger\": \"awsui_trigger_dwuol_r15lx_172\",\n  \"layout-strut\": \"awsui_layout-strut_dwuol_r15lx_178\",\n  \"list-bottom\": \"awsui_list-bottom_dwuol_r15lx_184\",\n  \"selected-icon\": \"awsui_selected-icon_dwuol_r15lx_188\",\n  \"show-label-tag\": \"awsui_show-label-tag_dwuol_r15lx_193\",\n  \"inline-token-trigger\": \"awsui_inline-token-trigger_dwuol_r15lx_197\",\n  \"inline-token-list\": \"awsui_inline-token-list_dwuol_r15lx_204\",\n  \"inline-token-hidden-placeholder\": \"awsui_inline-token-hidden-placeholder_dwuol_r15lx_218\",\n  \"inline-token-counter\": \"awsui_inline-token-counter_dwuol_r15lx_224\",\n  \"inline-label-trigger-wrapper\": \"awsui_inline-label-trigger-wrapper_dwuol_r15lx_228\",\n  \"inline-label-wrapper\": \"awsui_inline-label-wrapper_dwuol_r15lx_232\",\n  \"inline-label\": \"awsui_inline-label_dwuol_r15lx_228\",\n  \"inline-label-disabled\": \"awsui_inline-label-disabled_dwuol_r15lx_257\",\n  \"inline-label-inline-tokens\": \"awsui_inline-label-inline-tokens_dwuol_r15lx_261\",\n  \"disabled-reason-tooltip\": \"awsui_disabled-reason-tooltip_dwuol_r15lx_266\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useImperativeHandle, useRef, useState } from 'react';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport { useMergeRefs, useUniqueId } from '@cloudscape-design/component-toolkit/internal';\n\nimport { DropdownOption } from '../../internal/components/option/interfaces';\nimport OptionsList from '../../internal/components/options-list';\nimport { HighlightType } from '../../internal/components/options-list/utils/use-highlight-option';\nimport { MultiselectProps } from '../../multiselect/interfaces';\nimport { SelectProps } from '../interfaces';\nimport { renderOptions } from '../utils/render-options';\nimport scrollToIndex from '../utils/scroll-to-index';\nimport { GetOptionProps, MenuProps } from '../utils/use-select';\nimport { fallbackItemHeight } from './common';\n\nimport styles from './styles.css.js';\n\nexport interface SelectListProps {\n  menuProps: MenuProps;\n  getOptionProps: GetOptionProps;\n  filteredOptions: ReadonlyArray<DropdownOption>;\n  filteringValue: string;\n  highlightType: HighlightType;\n  checkboxes?: boolean;\n  hasDropdownStatus?: boolean;\n  listBottom?: React.ReactNode;\n  useInteractiveGroups?: boolean;\n  screenReaderContent?: string;\n  firstOptionSticky?: boolean;\n  isMultiSelect?: boolean;\n  renderOption?: SelectProps.SelectOptionItemRenderer | MultiselectProps.MultiselectOptionItemRenderer;\n}\n\nexport namespace SelectListProps {\n  export type SelectListRef = (index: number) => void;\n}\n\nconst PlainList = (\n  {\n    menuProps,\n    getOptionProps,\n    filteredOptions,\n    filteringValue,\n    highlightType,\n    checkboxes,\n    hasDropdownStatus,\n    listBottom,\n    useInteractiveGroups,\n    screenReaderContent,\n    firstOptionSticky,\n    isMultiSelect,\n    renderOption,\n  }: SelectListProps,\n  ref: React.Ref<SelectListProps.SelectListRef>\n) => {\n  const idPrefix = useUniqueId('select-list-');\n  const stickyOptionRef = useRef<HTMLDivElement>(null);\n  const [stickyOptionBlockSize, setStickyOptionBlockSize] = useState(firstOptionSticky ? fallbackItemHeight : 0);\n\n  const [width, menuMeasureRef] = useContainerQuery(rect => {\n    if (stickyOptionRef.current) {\n      // Cannot use container query on the sticky option individually because it is not rendered until the dropdown is open.\n      // Not expecting the sticky option to change size without the dropdown also changing size.\n\n      // The effects of using the sticky option block size to set the menu scroll padding are covered by integration tests.\n      // istanbul ignore next\n      setStickyOptionBlockSize(stickyOptionRef.current.clientHeight);\n    }\n    return { inner: rect.contentBoxWidth, outer: rect.borderBoxWidth };\n  });\n\n  const menuRef = menuProps.ref;\n\n  const mergedRef = useMergeRefs(menuMeasureRef, menuRef);\n\n  useImperativeHandle(\n    ref,\n    () => (index: number) => {\n      const isSticky = firstOptionSticky && index === 0;\n      if (highlightType.moveFocus && menuRef.current && !isSticky) {\n        scrollToIndex({ index, menuEl: menuRef.current });\n      }\n    },\n    [firstOptionSticky, highlightType.moveFocus, menuRef]\n  );\n\n  const withScrollbar = !!width && width.inner < width.outer;\n\n  return (\n    <OptionsList\n      {...menuProps}\n      ref={mergedRef}\n      stickyItemBlockSize={stickyOptionBlockSize}\n      isMultiSelect={isMultiSelect}\n    >\n      {renderOptions({\n        renderOption,\n        options: filteredOptions,\n        getOptionProps,\n        filteringValue,\n        idPrefix,\n        highlightType,\n        checkboxes,\n        hasDropdownStatus,\n        useInteractiveGroups,\n        screenReaderContent,\n        firstOptionSticky,\n        stickyOptionRef,\n        withScrollbar,\n      })}\n      {listBottom ? (\n        <div role=\"option\" className={styles['list-bottom']}>\n          {listBottom}\n        </div>\n      ) : null}\n    </OptionsList>\n  );\n};\n\nexport default forwardRef(PlainList);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { DropdownOption } from '../../internal/components/option/interfaces';\nimport { NestedDropdownOption, unflattenOptions } from '../../internal/components/option/utils/unflatten-options';\nimport { HighlightType } from '../../internal/components/options-list/utils/use-highlight-option';\nimport { VirtualItem } from '../../internal/vendor/react-virtual';\nimport { MultiselectProps } from '../../multiselect/interfaces';\nimport { SelectProps } from '../interfaces';\nimport Item, { ItemParentProps } from '../parts/item';\nimport MultiselectItem, { MultiselectItemParentProps } from '../parts/multiselect-item';\nimport OptionGroup from '../parts/option-group';\nimport { getItemProps } from './get-item-props';\n\ninterface RenderOptionProps {\n  options: ReadonlyArray<DropdownOption>;\n  getOptionProps: any;\n  filteringValue: string;\n  highlightType: HighlightType;\n  idPrefix: string;\n  checkboxes?: boolean;\n  hasDropdownStatus?: boolean;\n  virtualItems?: VirtualItem[];\n  useInteractiveGroups?: boolean;\n  screenReaderContent?: string;\n  ariaSetsize?: number;\n  withScrollbar: boolean;\n  firstOptionSticky?: boolean;\n  stickyOptionRef?: React.Ref<HTMLDivElement>;\n  renderOption?: SelectProps.SelectOptionItemRenderer | MultiselectProps.MultiselectOptionItemRenderer;\n}\n\nexport const renderOptions = ({\n  options,\n  getOptionProps,\n  filteringValue,\n  highlightType,\n  idPrefix,\n  checkboxes = false,\n  hasDropdownStatus,\n  virtualItems,\n  useInteractiveGroups,\n  screenReaderContent,\n  ariaSetsize,\n  withScrollbar,\n  firstOptionSticky,\n  stickyOptionRef,\n  renderOption,\n}: RenderOptionProps) => {\n  const getNestedItemProps = ({ index, option }: NestedDropdownOption) => {\n    const virtualItem = virtualItems && virtualItems[index];\n    const globalIndex = virtualItem ? virtualItem.index : index;\n    return getItemProps({\n      option,\n      index: globalIndex,\n      getOptionProps,\n      filteringValue: option.type === 'select-all' ? '' : filteringValue,\n      checkboxes,\n    });\n  };\n\n  const renderListItem = (props: any, index: number, parentProps?: ItemParentProps | MultiselectItemParentProps) => {\n    const virtualItem = virtualItems && virtualItems[index];\n    const globalIndex = virtualItem ? virtualItem.index : index;\n\n    const isLastItem = index === options.length - 1;\n    const padBottom = !hasDropdownStatus && isLastItem;\n    const ListItem = useInteractiveGroups ? MultiselectItem : Item;\n    const isSticky = firstOptionSticky && globalIndex === 0;\n\n    return (\n      <ListItem\n        index={index}\n        virtualIndex={virtualItem ? virtualItem.index : undefined}\n        key={globalIndex}\n        {...props}\n        virtualPosition={virtualItem?.start}\n        ref={isSticky && stickyOptionRef ? stickyOptionRef : virtualItem && virtualItem.measureRef}\n        padBottom={padBottom}\n        screenReaderContent={screenReaderContent}\n        ariaPosinset={globalIndex + 1}\n        ariaSetsize={ariaSetsize}\n        highlightType={highlightType.type}\n        withScrollbar={withScrollbar}\n        sticky={isSticky}\n        renderOption={renderOption}\n        parentProps={parentProps}\n      />\n    );\n  };\n\n  const unflattenedOptions = unflattenOptions(options);\n  return unflattenedOptions.map(nestedDropdownOption => {\n    const index = nestedDropdownOption.index;\n    const props = getNestedItemProps(nestedDropdownOption);\n\n    if (nestedDropdownOption.type === 'parent') {\n      const { children } = nestedDropdownOption;\n      const optionId = props.id ?? `${idPrefix}-option-${index}`;\n      return (\n        <OptionGroup\n          key={`group-${index}`}\n          virtual={virtualItems?.[index] !== undefined}\n          ariaLabelledby={optionId}\n          ariaDisabled={props['aria-disabled']}\n        >\n          {renderListItem(props, index)}\n          {children.map(child => (\n            <React.Fragment key={child.index}>\n              {renderListItem(getNestedItemProps(child), child.index, {\n                option: nestedDropdownOption.option,\n                disabled: nestedDropdownOption.option.disabled ?? false,\n                index: index,\n                virtualIndex: virtualItems?.[index]?.index ?? undefined,\n                highlighted: props.highlighted ?? false,\n                selected: props.selected ?? false,\n                indeterminate: props.indeterminate ?? false,\n              })}\n            </React.Fragment>\n          ))}\n        </OptionGroup>\n      );\n    }\n\n    return renderListItem(props, index);\n  });\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { DropdownOption } from '../interfaces';\n\ninterface ParentDropdownOption {\n  type: 'parent';\n  index: number;\n  option: DropdownOption;\n  children: ChildDropdownOption[];\n}\n\ninterface ChildDropdownOption {\n  type: 'child';\n  index: number;\n  option: DropdownOption;\n}\n\nexport type NestedDropdownOption = ParentDropdownOption | ChildDropdownOption;\n\nexport function unflattenOptions(options: ReadonlyArray<DropdownOption>): NestedDropdownOption[] {\n  const nestedOptions: NestedDropdownOption[] = [];\n  let currentParent: ParentDropdownOption | undefined;\n\n  options.forEach((option, index) => {\n    if (option.type === 'parent') {\n      const wrapped: ParentDropdownOption = { type: 'parent', option, index, children: [] };\n      currentParent = wrapped;\n      nestedOptions.push(wrapped);\n    } else if (option.type === 'child') {\n      (currentParent?.children ?? nestedOptions).push({ type: 'child', option, index });\n    } else {\n      currentParent = undefined;\n      nestedOptions.push({ type: 'child', option, index });\n    }\n  });\n\n  return nestedOptions;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { useMergeRefs } from '@cloudscape-design/component-toolkit/internal';\n\nimport InternalIcon from '../../icon/internal.js';\nimport { getBaseProps } from '../../internal/base-component';\nimport CheckboxIcon from '../../internal/components/checkbox-icon';\nimport Option from '../../internal/components/option';\nimport { DropdownOption, OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport { HighlightType } from '../../internal/components/options-list/utils/use-highlight-option.js';\nimport SelectableItem from '../../internal/components/selectable-item';\nimport useHiddenDescription from '../../internal/hooks/use-hidden-description';\nimport Tooltip from '../../tooltip/internal.js';\nimport { SelectProps } from '../interfaces.js';\n\nimport styles from './styles.css.js';\n\nexport interface ItemProps<T = SelectProps.SelectOptionItemRenderer> {\n  index: number;\n  virtualIndex?: number;\n  option: DropdownOption;\n  highlighted?: boolean;\n  selected?: boolean;\n  filteringValue?: string;\n  hasCheckbox?: boolean;\n  virtualPosition?: number;\n  padBottom?: boolean;\n  isNextSelected?: boolean;\n  isPreviousSelected?: boolean;\n  screenReaderContent?: string;\n  ariaPosinset?: number;\n  ariaSetsize?: number;\n  highlightType?: HighlightType['type'];\n  withScrollbar?: boolean;\n  sticky?: boolean;\n  renderOption?: T;\n  parentProps?: ItemParentProps;\n}\n\nexport interface ItemParentProps {\n  index: number;\n  virtualIndex?: number;\n  option: DropdownOption;\n  disabled: boolean;\n}\nconst toSelectOptionGroupItem = (props: ItemParentProps): SelectProps.SelectOptionGroupItem => {\n  return {\n    type: 'group',\n    index: props.virtualIndex ?? props.index,\n    option: props.option.option as OptionGroup,\n    disabled: props.disabled,\n  };\n};\n\nconst toSelectOptionItem = (props: {\n  index: number;\n  virtualIndex?: number;\n  option: DropdownOption;\n  disabled: boolean;\n  selected: boolean;\n  highlighted: boolean;\n  parentProps?: ItemParentProps;\n}): SelectProps.SelectOptionItem => {\n  return {\n    type: 'item',\n    index: props.virtualIndex ?? props.index,\n    option: props.option.option as OptionDefinition,\n    selected: props.selected,\n    highlighted: props.highlighted,\n    disabled: props.disabled,\n    parent: props.parentProps\n      ? toSelectOptionGroupItem({\n          index: props.parentProps?.index,\n          virtualIndex: props.parentProps?.virtualIndex,\n          option: props.parentProps?.option,\n          disabled: props.disabled,\n        })\n      : null,\n  };\n};\n\nconst Item = (\n  {\n    index,\n    virtualIndex,\n    option,\n    highlighted,\n    selected,\n    filteringValue,\n    hasCheckbox,\n    virtualPosition,\n    padBottom,\n    isNextSelected,\n    isPreviousSelected,\n    screenReaderContent,\n    ariaPosinset,\n    ariaSetsize,\n    highlightType,\n    withScrollbar,\n    sticky,\n    renderOption,\n    parentProps,\n    ...restProps\n  }: ItemProps,\n  ref: React.Ref<HTMLDivElement>\n) => {\n  const baseProps = getBaseProps(restProps);\n\n  const isParent = option.type === 'parent';\n  const isChild = option.type === 'child';\n  const wrappedOption: OptionDefinition = option.option;\n  const disabled = option.disabled || wrappedOption.disabled;\n  const disabledReason = disabled && wrappedOption.disabledReason ? wrappedOption.disabledReason : '';\n  const isDisabledWithReason = !!disabledReason;\n  const internalRef = useRef<HTMLDivElement>(null);\n\n  const { descriptionEl, descriptionId } = useHiddenDescription(disabledReason);\n\n  const [canShowTooltip, setCanShowTooltip] = useState(true);\n  useEffect(() => setCanShowTooltip(true), [highlighted]);\n\n  const getSelectItemProps = (option: DropdownOption): SelectProps.SelectItem => {\n    if (option.type === 'parent') {\n      return toSelectOptionGroupItem({\n        option: option,\n        index: index,\n        virtualIndex: virtualIndex,\n        disabled: !!disabled,\n      });\n    } else {\n      return toSelectOptionItem({\n        option: option,\n        index: index,\n        virtualIndex: virtualIndex,\n        disabled: !!disabled,\n        highlighted: !!highlighted,\n        selected: !!selected,\n        parentProps: parentProps,\n      });\n    }\n  };\n\n  const renderOptionWrapper = (option: DropdownOption) => {\n    if (!renderOption) {\n      return null;\n    }\n\n    return renderOption({ item: getSelectItemProps(option), filterText: filteringValue });\n  };\n  const renderResult = renderOptionWrapper(option);\n\n  return (\n    <SelectableItem\n      disableContentStyling={!!renderResult}\n      ariaSelected={Boolean(selected)}\n      selected={selected}\n      isNextSelected={isNextSelected}\n      isPreviousSelected={isPreviousSelected}\n      highlighted={highlighted}\n      disabled={option.disabled}\n      isParent={isParent}\n      isChild={isChild}\n      ref={useMergeRefs(ref, internalRef)}\n      virtualPosition={virtualPosition}\n      padBottom={padBottom}\n      screenReaderContent={screenReaderContent}\n      ariaPosinset={ariaPosinset}\n      ariaSetsize={ariaSetsize}\n      highlightType={highlightType}\n      ariaDescribedby={isDisabledWithReason ? descriptionId : ''}\n      value={option.option.value}\n      withScrollbar={withScrollbar}\n      sticky={sticky}\n      {...baseProps}\n    >\n      <div className={clsx(styles.item, !isParent && wrappedOption.labelTag && styles['show-label-tag'])}>\n        {!renderResult && hasCheckbox && !isParent && (\n          <div className={styles.checkbox}>\n            <CheckboxIcon checked={selected || false} disabled={option.disabled} />\n          </div>\n        )}\n        <Option\n          customContent={renderResult}\n          option={{ ...wrappedOption, disabled }}\n          highlightedOption={highlighted}\n          selectedOption={selected}\n          highlightText={filteringValue}\n          isGroupOption={isParent}\n        />\n        {!renderResult && !hasCheckbox && !isParent && selected && (\n          <div className={styles['selected-icon']}>\n            <InternalIcon name=\"check\" />\n          </div>\n        )}\n        {!renderResult && isDisabledWithReason && (\n          <>\n            {descriptionEl}\n            {highlighted && canShowTooltip && (\n              <Tooltip\n                className={styles['disabled-reason-tooltip']}\n                getTrack={() => internalRef.current}\n                content={disabledReason!}\n                position=\"right\"\n                onEscape={() => setCanShowTooltip(false)}\n              />\n            )}\n          </>\n        )}\n      </div>\n    </SelectableItem>\n  );\n};\n\nexport default React.memo(React.forwardRef(Item));\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { getBaseProps } from '../../base-component';\nimport { isDevelopment } from '../../is-development';\nimport { OptionProps } from './interfaces';\nimport { Description, FilteringTags, Label, LabelTag, OptionIcon, Tags } from './option-parts';\n\nimport analyticsSelectors from './analytics-metadata/styles.css.js';\nimport styles from './styles.css.js';\n\nexport { OptionProps };\n\nfunction validateStringValue(value: string | undefined, propertyName: string) {\n  if (typeof value !== 'undefined' && typeof value !== 'string') {\n    warnOnce(\n      'DropdownOption',\n      `This component only supports string values, but \"option.${propertyName}\" has ${typeof value} type. The component may work incorrectly.`\n    );\n  }\n}\n\nconst Option = ({\n  option,\n  highlightText,\n  triggerVariant = false,\n  isGroupOption = false,\n  highlightedOption = false,\n  selectedOption = false,\n  disableTitleTooltip = false,\n  labelContainerRef,\n  labelRef,\n  labelId,\n  customContent,\n  ...restProps\n}: OptionProps) => {\n  if (!option) {\n    return null;\n  }\n  if (customContent) {\n    return (\n      <div data-value={option.value} className={clsx(styles.option)}>\n        <div className={clsx(styles['custom-content'])}>{customContent}</div>\n      </div>\n    );\n  }\n\n  const { disabled } = option;\n  const baseProps = getBaseProps(restProps);\n  const SpanOrDivTag = option.labelContent ? 'div' : 'span';\n\n  if (isDevelopment) {\n    validateStringValue(option.label, 'label');\n    validateStringValue(option.description, 'description');\n    validateStringValue(option.labelTag, 'labelTag');\n    option.tags?.forEach((tag, index) => {\n      validateStringValue(tag, `tags[${index}]`);\n    });\n    option.filteringTags?.forEach((tag, index) => {\n      validateStringValue(tag, `filteringTags[${index}]`);\n    });\n  }\n  const className = clsx(\n    styles.option,\n    disabled && styles.disabled,\n    isGroupOption && styles.parent,\n    highlightedOption && styles.highlighted,\n    baseProps.className\n  );\n\n  const icon = option.__customIcon || (\n    <OptionIcon\n      name={option.iconName}\n      url={option.iconUrl}\n      svg={option.iconSvg}\n      alt={option.iconAlt}\n      ariaLabel={option.iconAriaLabel}\n      size=\"normal\"\n    />\n  );\n\n  return (\n    <SpanOrDivTag\n      {...baseProps}\n      data-value={option.value}\n      className={className}\n      lang={option.lang}\n      title={!disableTitleTooltip ? (option.label ?? option.value) : undefined}\n    >\n      {icon}\n      <SpanOrDivTag className={styles.content}>\n        <SpanOrDivTag className={styles['label-content']}>\n          {option.labelContent ? (\n            <SpanOrDivTag className={clsx(styles.label, analyticsSelectors.label)}>{option.labelContent}</SpanOrDivTag>\n          ) : (\n            <Label\n              labelContainerRef={labelContainerRef}\n              labelRef={labelRef}\n              labelId={labelId}\n              label={option.label ?? option.value}\n              prefix={option.__labelPrefix}\n              highlightText={highlightText}\n              triggerVariant={triggerVariant}\n            />\n          )}\n          <LabelTag labelTag={option.labelTag} highlightText={highlightText} triggerVariant={triggerVariant} />\n        </SpanOrDivTag>\n        <Description\n          description={option.description}\n          highlightedOption={highlightedOption}\n          selectedOption={selectedOption}\n          highlightText={highlightText}\n          triggerVariant={triggerVariant}\n        />\n        <Tags\n          tags={option.tags}\n          highlightedOption={highlightedOption}\n          selectedOption={selectedOption}\n          highlightText={highlightText}\n          triggerVariant={triggerVariant}\n        />\n        <FilteringTags\n          filteringTags={option.filteringTags}\n          highlightedOption={highlightedOption}\n          selectedOption={selectedOption}\n          highlightText={highlightText}\n          triggerVariant={triggerVariant}\n        />\n      </SpanOrDivTag>\n    </SpanOrDivTag>\n  );\n};\n\nexport default Option;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { IconProps } from '../../../icon/interfaces';\nimport InternalIcon from '../../../icon/internal';\nimport HighlightMatch from './highlight-match';\n\nimport analyticsSelectors from './analytics-metadata/styles.css.js';\nimport styles from './styles.css.js';\n\ninterface LabelProps {\n  labelContainerRef?: React.RefObject<HTMLSpanElement>;\n  labelRef?: React.RefObject<HTMLSpanElement>;\n  labelId?: string;\n  label?: string;\n  prefix?: string;\n  highlightText?: string;\n  triggerVariant: boolean;\n}\nexport const Label = ({\n  labelContainerRef,\n  labelRef,\n  labelId,\n  label,\n  prefix,\n  highlightText,\n  triggerVariant,\n}: LabelProps) => {\n  return (\n    <span\n      id={labelId}\n      ref={labelContainerRef}\n      className={clsx(styles.label, analyticsSelectors.label, triggerVariant && styles['trigger-variant'])}\n    >\n      {prefix && (\n        <span className={clsx(styles['label-prefix'], triggerVariant && styles['trigger-variant'])}>{prefix} </span>\n      )}\n      <HighlightMatch labelRef={labelRef} str={label} highlightText={highlightText} />\n    </span>\n  );\n};\n\ninterface LabelTagProps {\n  labelTag?: string;\n  highlightText?: string;\n  triggerVariant: boolean;\n}\nexport const LabelTag = ({ labelTag, highlightText, triggerVariant }: LabelTagProps) =>\n  labelTag ? (\n    <span className={clsx(styles['label-tag'], triggerVariant && styles['trigger-variant'])}>\n      <HighlightMatch str={labelTag} highlightText={highlightText} />\n    </span>\n  ) : null;\n\ninterface DescriptionProps {\n  description?: string;\n  highlightedOption: boolean;\n  highlightText?: string;\n  selectedOption: boolean;\n  triggerVariant: boolean;\n}\nexport const Description = ({\n  description,\n  highlightedOption,\n  highlightText,\n  selectedOption,\n  triggerVariant,\n}: DescriptionProps) =>\n  description ? (\n    <span\n      className={clsx(styles.description, {\n        [styles['trigger-variant']]: triggerVariant,\n        [styles.highlighted]: highlightedOption,\n        [styles.selected]: selectedOption,\n      })}\n    >\n      <HighlightMatch str={description} highlightText={highlightText} />\n    </span>\n  ) : null;\n\ninterface TagsProps {\n  tags?: ReadonlyArray<string>;\n  highlightedOption: boolean;\n  highlightText?: string;\n  selectedOption: boolean;\n  triggerVariant: boolean;\n}\nexport const Tags = ({ tags, highlightedOption, highlightText, selectedOption, triggerVariant }: TagsProps) =>\n  tags ? (\n    <span\n      className={clsx(styles.tags, {\n        [styles.highlighted]: highlightedOption,\n        [styles.selected]: selectedOption,\n      })}\n    >\n      {tags.map((tag, idx) => (\n        <span key={idx} className={clsx(styles.tag, triggerVariant && styles['trigger-variant'])}>\n          <HighlightMatch str={tag} highlightText={highlightText} />\n        </span>\n      ))}\n    </span>\n  ) : null;\n\ninterface FilteringTagProps {\n  filteringTags?: ReadonlyArray<string>;\n  highlightedOption: boolean;\n  highlightText?: string;\n  selectedOption: boolean;\n  triggerVariant: boolean;\n}\nexport const FilteringTags = ({\n  filteringTags,\n  highlightedOption,\n  highlightText,\n  selectedOption,\n  triggerVariant,\n}: FilteringTagProps) => {\n  if (!highlightText || !filteringTags) {\n    return null;\n  }\n\n  const searchElement = highlightText.toLowerCase();\n\n  return (\n    <span\n      className={clsx(styles.tags, {\n        [styles.highlighted]: highlightedOption,\n        [styles.selected]: selectedOption,\n      })}\n    >\n      {filteringTags.map((filteringTag, key) => {\n        const match = filteringTag.toLowerCase().indexOf(searchElement) !== -1;\n        if (match) {\n          return (\n            <span className={clsx(styles.tag, triggerVariant && styles['trigger-variant'])} key={key}>\n              <HighlightMatch str={filteringTag} highlightText={highlightText} />\n            </span>\n          );\n        }\n        return null;\n      })}\n    </span>\n  );\n};\n\nexport const OptionIcon = (props: IconProps) => {\n  if (!props.name && !props.url && !props.svg) {\n    return null;\n  }\n\n  return (\n    <span className={styles.icon}>\n      <InternalIcon {...props} />\n    </span>\n  );\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport styles from './styles.css.js';\n\nconst splitOnFiltering = (str: string, highlightText: string) => {\n  // We match by creating a regex using user-provided strings, so we skip\n  // highlighting if the generated regex would be too memory intensive.\n  if (highlightText.length > 10_000) {\n    return { noMatches: [str], matches: null };\n  }\n\n  // Filtering needs to be case insensitive\n  const filteringPattern = highlightText.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, '\\\\$&');\n  const regexp = new RegExp(filteringPattern, 'gi');\n  const noMatches = str.split(regexp);\n  const matches = str.match(regexp);\n\n  return { noMatches, matches };\n};\n\ninterface HighlightMatchProps {\n  str?: string;\n  highlightText?: string;\n  labelRef?: React.RefObject<HTMLElement>;\n}\n\nfunction Highlight({ str, labelRef }: HighlightMatchProps) {\n  return (\n    <mark ref={labelRef} className={styles['filtering-match-highlight']}>\n      {str}\n    </mark>\n  );\n}\n\nexport default function HighlightMatch({ str, highlightText, labelRef }: HighlightMatchProps) {\n  if (!str || !highlightText) {\n    return <span ref={labelRef}>{str}</span>;\n  }\n\n  if (str === highlightText) {\n    return <Highlight labelRef={labelRef} str={str} />;\n  }\n\n  const { noMatches, matches } = splitOnFiltering(str, highlightText);\n\n  const highlighted: (string | JSX.Element)[] = [];\n\n  noMatches.forEach((noMatch, idx) => {\n    highlighted.push(<span key={`noMatch-${idx}`}>{noMatch}</span>);\n\n    if (matches && idx < matches.length) {\n      highlighted.push(<Highlight key={`match-${idx}`} str={matches[idx]} />);\n    }\n  });\n\n  return <span ref={labelRef}>{highlighted}</span>;\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"option\": \"awsui_option_1p2cx_cbqrk_153\",\n  \"disabled\": \"awsui_disabled_1p2cx_cbqrk_190\",\n  \"parent\": \"awsui_parent_1p2cx_cbqrk_193\",\n  \"highlighted\": \"awsui_highlighted_1p2cx_cbqrk_196\",\n  \"content\": \"awsui_content_1p2cx_cbqrk_200\",\n  \"label-content\": \"awsui_label-content_1p2cx_cbqrk_207\",\n  \"label\": \"awsui_label_1p2cx_cbqrk_207\",\n  \"tag\": \"awsui_tag_1p2cx_cbqrk_214\",\n  \"label-tag\": \"awsui_label-tag_1p2cx_cbqrk_215\",\n  \"label-prefix\": \"awsui_label-prefix_1p2cx_cbqrk_225\",\n  \"tags\": \"awsui_tags_1p2cx_cbqrk_238\",\n  \"description\": \"awsui_description_1p2cx_cbqrk_239\",\n  \"selected\": \"awsui_selected_1p2cx_cbqrk_250\",\n  \"icon\": \"awsui_icon_1p2cx_cbqrk_264\",\n  \"filtering-match-highlight\": \"awsui_filtering-match-highlight_1p2cx_cbqrk_271\",\n  \"trigger-variant\": \"awsui_trigger-variant_1p2cx_cbqrk_286\",\n  \"custom-content\": \"awsui_custom-content_1p2cx_cbqrk_292\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"label\": \"awsui_label_1q5vz_ocied_5\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useLayoutEffect, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport { useVisualRefresh } from '../../../internal/hooks/use-visual-mode';\nimport { getBaseProps } from '../../base-component';\nimport { getAnalyticsSelectActionMetadata } from './analytics-metadata/utils';\nimport { SelectableItemProps } from './interfaces';\n\nimport analyticsSelectors from './analytics-metadata/styles.css.js';\nimport styles from './styles.css.js';\n\nexport { SelectableItemProps };\n\nconst SelectableItem = (\n  {\n    children: content,\n    ariaSelected,\n    ariaChecked,\n    selected,\n    highlighted,\n    disabled,\n    hasBackground,\n    isParent,\n    isChild,\n    isSelectAll,\n    virtualPosition,\n    padBottom,\n    disableContentStyling,\n    isNextSelected,\n    isPreviousSelected,\n    useInteractiveGroups,\n    screenReaderContent,\n    ariaPosinset,\n    ariaSetsize,\n    highlightType,\n    value,\n    sticky,\n    afterHeader,\n    withScrollbar,\n    ...restProps\n  }: SelectableItemProps,\n  ref: React.Ref<HTMLDivElement>\n) => {\n  const isVisualRefresh = useVisualRefresh();\n  const { className, ...rest } = getBaseProps(restProps);\n  const classNames = clsx(className, styles['selectable-item'], {\n    [styles.selected]: selected,\n    [styles.highlighted]: highlighted,\n    [styles['has-background']]: hasBackground,\n    [styles.parent]: isParent,\n    [analyticsSelectors.parent]: isParent,\n    [styles.child]: isChild,\n    [styles['select-all']]: isSelectAll,\n    [styles['is-keyboard']]: highlightType === 'keyboard',\n    [styles.disabled]: disabled,\n    [styles.virtual]: virtualPosition !== undefined && !sticky,\n    [styles['pad-bottom']]: padBottom,\n    [styles['next-item-selected']]: isNextSelected,\n    [styles['previous-item-selected']]: isPreviousSelected,\n    [styles.interactiveGroups]: useInteractiveGroups,\n    [styles.sticky]: sticky,\n    [styles['after-header']]: !!afterHeader,\n    [styles['with-scrollbar']]: withScrollbar,\n    [styles['visual-refresh']]: isVisualRefresh,\n  });\n\n  const contentClassNames = clsx(styles['option-content'], analyticsSelectors['option-content'], {\n    [styles['selectable-item-content']]: !disableContentStyling,\n  });\n\n  const contentRef = useRef<HTMLDivElement>(null);\n  const screenReaderContentRef = useRef<HTMLDivElement>(null);\n\n  useLayoutEffect(() => {\n    // the state of aria-hidden and announcement is not set back because NVDA+Firefox would announce\n    // the item which lost highlight\n    // set aria-hidden true when there is announcement content, so that screen reader still announce\n    // meaningful content when navigate with screen reader cursor\n    // imperatively update to avoid announcement made multiple times when content updates\n    if (highlighted && screenReaderContent) {\n      if (contentRef.current) {\n        contentRef.current.setAttribute('aria-hidden', 'true');\n      }\n      if (screenReaderContentRef.current) {\n        screenReaderContentRef.current.textContent = screenReaderContent;\n      }\n    }\n  }, [highlighted, screenReaderContent, contentRef, screenReaderContentRef]);\n\n  const style =\n    virtualPosition !== undefined\n      ? {\n          transform: `translateY(${virtualPosition}px)`,\n        }\n      : undefined;\n\n  const a11yProperties: Record<string, string | number | boolean | undefined> = {};\n\n  if (isParent && ariaChecked === undefined) {\n    a11yProperties.role = 'presentation';\n  } else {\n    a11yProperties.role = 'option';\n    a11yProperties['aria-disabled'] = disabled;\n\n    if (ariaSelected !== undefined) {\n      a11yProperties['aria-selected'] = ariaSelected;\n    }\n\n    // Safari+VO needs aria-checked for multi-selection. Otherwise it only announces selected option even though another option is highlighted.\n    if (ariaChecked !== undefined) {\n      a11yProperties['aria-checked'] = ariaChecked;\n    }\n\n    if (ariaPosinset && ariaSetsize) {\n      a11yProperties['aria-posinset'] = ariaPosinset;\n      a11yProperties['aria-setsize'] = ariaSetsize;\n    }\n\n    if (restProps.ariaDescribedby) {\n      a11yProperties['aria-describedby'] = restProps.ariaDescribedby;\n    }\n  }\n\n  return (\n    <div\n      className={classNames}\n      style={style}\n      {...a11yProperties}\n      {...rest}\n      {...(isParent || disabled\n        ? {}\n        : getAnalyticsMetadataAttribute(getAnalyticsSelectActionMetadata({ isChild, value, ...restProps })))}\n    >\n      <div className={contentClassNames} ref={contentRef}>\n        {content}\n      </div>\n      <div className={styles['measure-strut']} ref={ref} />\n      <div className={styles['screenreader-content']} ref={screenReaderContentRef}></div>\n    </div>\n  );\n};\n\nexport default React.forwardRef(SelectableItem);\n", "\n    import './styles.scoped.css';\n    export default {\n  \"parent\": \"awsui_parent_2dmmi_qu62t_5\",\n  \"option-content\": \"awsui_option-content_2dmmi_qu62t_6\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { ItemDataAttributes, SelectableItemProps } from '../interfaces';\nimport { GeneratedAnalyticsMetadataSelectableItemSelect } from './interfaces';\n\nimport optionAnalyticsSelectors from './../../option/analytics-metadata/styles.css.js';\nimport analyticsSelectors from './styles.css.js';\n\nexport const getAnalyticsSelectActionMetadata = ({\n  isChild,\n  value,\n  ...restProps\n}: Partial<SelectableItemProps>): GeneratedAnalyticsMetadataSelectableItemSelect => {\n  const dataAttributes = restProps as ItemDataAttributes;\n\n  const analyticsMetadata: GeneratedAnalyticsMetadataSelectableItemSelect = {\n    action: 'select',\n    detail: {\n      label: {\n        selector: [`.${optionAnalyticsSelectors.label}`, `.${analyticsSelectors['option-content']}`],\n      },\n    },\n  };\n\n  let position = undefined;\n  if (\n    (isChild && dataAttributes['data-group-index'] && dataAttributes['data-in-group-index']) ||\n    dataAttributes['data-child-index']\n  ) {\n    position = `${dataAttributes['data-group-index']},${dataAttributes['data-in-group-index'] || dataAttributes['data-child-index']}`;\n  } else if (dataAttributes['data-test-index']) {\n    position = `${dataAttributes['data-test-index']}`;\n  }\n  if (position) {\n    analyticsMetadata.detail.position = position;\n  }\n  if (value) {\n    analyticsMetadata.detail.value = value;\n  }\n  if (isChild) {\n    analyticsMetadata.detail.groupLabel = {\n      root: 'body',\n      selector: `.${analyticsSelectors.parent}[data-group-index=\"${dataAttributes['data-group-index']}\"] .${analyticsSelectors['option-content']}`,\n    };\n  }\n  return analyticsMetadata;\n};\n", "\n    import './styles.scoped.css';\n    export default {\n  \"selectable-item\": \"awsui_selectable-item_15o6u_11e6r_145\",\n  \"parent\": \"awsui_parent_15o6u_11e6r_164\",\n  \"interactiveGroups\": \"awsui_interactiveGroups_15o6u_11e6r_164\",\n  \"highlighted\": \"awsui_highlighted_15o6u_11e6r_164\",\n  \"selected\": \"awsui_selected_15o6u_11e6r_164\",\n  \"selectable-item-content\": \"awsui_selectable-item-content_15o6u_11e6r_167\",\n  \"pad-bottom\": \"awsui_pad-bottom_15o6u_11e6r_171\",\n  \"virtual\": \"awsui_virtual_15o6u_11e6r_178\",\n  \"has-background\": \"awsui_has-background_15o6u_11e6r_181\",\n  \"child\": \"awsui_child_15o6u_11e6r_184\",\n  \"disabled\": \"awsui_disabled_15o6u_11e6r_190\",\n  \"is-keyboard\": \"awsui_is-keyboard_15o6u_11e6r_205\",\n  \"visual-refresh\": \"awsui_visual-refresh_15o6u_11e6r_215\",\n  \"next-item-selected\": \"awsui_next-item-selected_15o6u_11e6r_229\",\n  \"previous-item-selected\": \"awsui_previous-item-selected_15o6u_11e6r_239\",\n  \"sticky\": \"awsui_sticky_15o6u_11e6r_271\",\n  \"with-scrollbar\": \"awsui_with-scrollbar_15o6u_11e6r_290\",\n  \"after-header\": \"awsui_after-header_15o6u_11e6r_293\",\n  \"measure-strut\": \"awsui_measure-strut_15o6u_11e6r_322\",\n  \"screenreader-content\": \"awsui_screenreader-content_15o6u_11e6r_334\",\n  \"option-content\": \"awsui_option-content_15o6u_11e6r_340\",\n  \"select-all\": \"awsui_select-all_15o6u_11e6r_344\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport { useMergeRefs } from '@cloudscape-design/component-toolkit/internal';\n\nimport { getBaseProps } from '../../internal/base-component';\nimport CheckboxIcon from '../../internal/components/checkbox-icon';\nimport Option from '../../internal/components/option';\nimport { DropdownOption, OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport SelectableItem from '../../internal/components/selectable-item';\nimport useHiddenDescription from '../../internal/hooks/use-hidden-description';\nimport { MultiselectProps } from '../../multiselect/interfaces';\nimport Tooltip from '../../tooltip/internal.js';\nimport { ItemParentProps, ItemProps } from './item';\n\nimport styles from './styles.css.js';\ninterface MultiselectItemProps extends ItemProps<MultiselectProps.MultiselectOptionItemRenderer> {\n  indeterminate?: boolean;\n  parentProps?: MultiselectItemParentProps;\n}\n\nexport interface MultiselectItemParentProps extends ItemParentProps {\n  indeterminate: boolean;\n  highlighted: boolean;\n  selected: boolean;\n}\nconst toMultiselectOptionGroupItem = (\n  props: MultiselectItemParentProps\n): MultiselectProps.MultiselectOptionGroupItem => {\n  return {\n    type: 'group',\n    index: props.virtualIndex ?? props.index,\n    option: props.option.option as OptionGroup,\n    indeterminate: props.indeterminate ?? false,\n    selected: props.selected,\n    highlighted: props.highlighted,\n    disabled: props.disabled,\n  };\n};\nconst toMultiselectOptionItem = (props: {\n  index: number;\n  virtualIndex?: number;\n  option: DropdownOption;\n  disabled: boolean;\n  selected: boolean;\n  highlighted: boolean;\n  parentProps?: MultiselectItemParentProps;\n}): MultiselectProps.MultiselectOptionItem => {\n  return {\n    type: 'item',\n    index: props.virtualIndex ?? props.index,\n    option: props.option.option as OptionDefinition,\n    selected: props.selected,\n    highlighted: props.highlighted,\n    disabled: props.disabled,\n    parent: props.parentProps\n      ? toMultiselectOptionGroupItem({\n          index: props.parentProps?.index,\n          virtualIndex: props.parentProps?.virtualIndex,\n          option: props.parentProps?.option,\n          disabled: props.disabled,\n          highlighted: props.parentProps?.highlighted ?? false,\n          indeterminate: props.parentProps?.indeterminate ?? false,\n          selected: props.parentProps?.selected ?? false,\n        })\n      : null,\n  };\n};\n\nconst MultiSelectItem = (\n  {\n    index,\n    virtualIndex,\n    option,\n    highlighted,\n    selected,\n    filteringValue,\n    hasCheckbox,\n    virtualPosition,\n    padBottom,\n    isNextSelected,\n    isPreviousSelected,\n    indeterminate,\n    screenReaderContent,\n    ariaPosinset,\n    ariaSetsize,\n    highlightType,\n    withScrollbar,\n    sticky,\n    renderOption,\n    parentProps,\n    ...restProps\n  }: MultiselectItemProps,\n  ref: React.Ref<HTMLDivElement>\n) => {\n  const baseProps = getBaseProps(restProps);\n\n  const isParent = option.type === 'parent';\n  const isChild = option.type === 'child';\n  const isSelectAll = option.type === 'select-all';\n  const wrappedOption: OptionDefinition = option.option;\n  const disabled = option.disabled || wrappedOption.disabled;\n  const disabledReason =\n    disabled && (option.disabledReason || wrappedOption.disabledReason)\n      ? option.disabledReason || wrappedOption.disabledReason\n      : '';\n  const isDisabledWithReason = !!disabledReason;\n  const internalRef = useRef<HTMLDivElement>(null);\n  const className = styles.item;\n\n  const { descriptionId, descriptionEl } = useHiddenDescription(disabledReason);\n\n  const [canShowTooltip, setCanShowTooltip] = useState(true);\n  useEffect(() => setCanShowTooltip(true), [highlighted]);\n\n  const getMultiselectItemProps = (option: DropdownOption): MultiselectProps.MultiselectItem => {\n    if (option.type === 'parent') {\n      return toMultiselectOptionGroupItem({\n        option: option,\n        index: index,\n        virtualIndex: virtualIndex,\n        disabled: !!disabled,\n        highlighted: !!highlighted,\n        selected: !!selected,\n        indeterminate: indeterminate ?? false,\n      });\n    } else if (option.type === 'select-all') {\n      return {\n        type: 'select-all',\n        option: option.option as OptionDefinition,\n        indeterminate: indeterminate ?? false,\n        selected: !!selected,\n        highlighted: !!highlighted,\n      };\n    } else {\n      return toMultiselectOptionItem({\n        option: option,\n        index: index,\n        virtualIndex: virtualIndex,\n        disabled: !!disabled,\n        highlighted: !!highlighted,\n        selected: !!selected,\n        parentProps: parentProps,\n      });\n    }\n  };\n\n  const renderOptionWrapper = (option: DropdownOption) => {\n    if (!renderOption) {\n      return null;\n    }\n\n    return renderOption({ item: getMultiselectItemProps(option), filterText: filteringValue });\n  };\n\n  const renderResult = renderOptionWrapper(option);\n\n  return (\n    <SelectableItem\n      disableContentStyling={!!renderResult}\n      ariaSelected={isParent && indeterminate ? undefined : Boolean(selected)}\n      ariaChecked={isParent && indeterminate ? 'mixed' : Boolean(selected)}\n      selected={selected}\n      isNextSelected={isNextSelected}\n      isPreviousSelected={isPreviousSelected}\n      highlighted={highlighted}\n      disabled={disabled}\n      isParent={isParent}\n      isChild={isChild}\n      isSelectAll={isSelectAll}\n      highlightType={highlightType}\n      ref={useMergeRefs(ref, internalRef)}\n      virtualPosition={virtualPosition}\n      padBottom={padBottom}\n      useInteractiveGroups={true}\n      screenReaderContent={screenReaderContent}\n      ariaPosinset={ariaPosinset}\n      ariaSetsize={ariaSetsize}\n      ariaDescribedby={isDisabledWithReason ? descriptionId : ''}\n      value={option.option.value}\n      afterHeader={option.afterHeader}\n      withScrollbar={withScrollbar}\n      sticky={sticky}\n      {...baseProps}\n    >\n      <div className={className}>\n        {!renderResult && hasCheckbox && (\n          <div className={styles.checkbox}>\n            <CheckboxIcon\n              checked={selected}\n              indeterminate={(isParent || isSelectAll) && indeterminate}\n              disabled={disabled}\n            />\n          </div>\n        )}\n        <Option\n          customContent={renderResult}\n          option={{ ...wrappedOption, disabled }}\n          highlightedOption={highlighted}\n          selectedOption={selected}\n          highlightText={filteringValue}\n          isGroupOption={isParent}\n        />\n      </div>\n      {!renderResult && isDisabledWithReason && (\n        <>\n          {descriptionEl}\n          {highlighted && canShowTooltip && (\n            <Tooltip\n              className={styles['disabled-reason-tooltip']}\n              getTrack={() => internalRef.current}\n              content={disabledReason!}\n              position=\"right\"\n              onEscape={() => setCanShowTooltip(false)}\n            />\n          )}\n        </>\n      )}\n    </SelectableItem>\n  );\n};\n\nexport default React.memo(React.forwardRef(MultiSelectItem));\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport styles from './styles.css.js';\n\ninterface OptionGroupProps {\n  children: React.ReactNode;\n  virtual: boolean;\n  ariaLabelledby: string;\n  ariaDisabled?: boolean;\n}\n\nexport default function OptionGroup({ children, virtual, ariaLabelledby, ariaDisabled }: OptionGroupProps) {\n  return (\n    <div\n      role=\"group\"\n      className={clsx(styles['option-group'], virtual && styles.virtual)}\n      aria-labelledby={ariaLabelledby}\n      aria-disabled={ariaDisabled}\n    >\n      {children}\n    </div>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption } from '../../internal/components/option/interfaces';\nimport { getTestOptionIndexes } from '../../internal/components/options-list/utils/test-indexes';\n\ninterface ItemProps {\n  option: DropdownOption;\n  index: number;\n  getOptionProps: any;\n  filteringValue: string;\n  checkboxes: boolean;\n}\n\nexport const getItemProps = ({ option, index, getOptionProps, filteringValue, checkboxes = false }: ItemProps) => {\n  const optionProps = getOptionProps(option, index);\n  optionProps.filteringValue = filteringValue;\n  const { inGroupIndex, groupIndex, throughIndex } = getTestOptionIndexes(option) || {};\n  return {\n    ...optionProps,\n    hasCheckbox: checkboxes,\n    ['data-group-index']: groupIndex,\n    ['data-child-index']: inGroupIndex,\n    ['data-test-index']: throughIndex,\n  };\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport default function ({ index, menuEl }: { index: number; menuEl: HTMLElement }) {\n  const item = menuEl.querySelector<HTMLElement>(`[data-mouse-target=\"${index}\"]`);\n\n  if (item) {\n    // In edge case dropdown can be very small, scrolling can cause side effect AWSUI-60318\n    if (menuEl.clientHeight !== undefined && menuEl.clientHeight > 15) {\n      // We only want the menu element to scroll, as scrolling any further parent elements can\n      // cause the screen to jump, resulting in a select item being \"clicked\" while opening the select.\n      // Therefore, we scroll manually rather than using `scrollIntoView`.\n      const menuRect = menuEl.getBoundingClientRect();\n      const itemRect = item.getBoundingClientRect();\n      const offset = parseInt(menuEl.style.scrollPaddingBlockStart) || 0;\n      if (itemRect.top < menuRect.top + offset || itemRect.height > menuRect.height - offset) {\n        menuEl.scrollBy({ top: itemRect.top - menuRect.top - offset });\n      } else if (itemRect.bottom > menuRect.bottom) {\n        menuEl.scrollBy({ top: itemRect.bottom - menuRect.bottom });\n      }\n    }\n  }\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport const fallbackItemHeight = 31;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { useMergeRefs, useUniqueId } from '@cloudscape-design/component-toolkit/internal';\n\nimport ButtonTrigger from '../../internal/components/button-trigger';\nimport Option from '../../internal/components/option';\nimport { OptionDefinition } from '../../internal/components/option/interfaces';\nimport { FormFieldValidationControlProps } from '../../internal/context/form-field-context';\nimport { useVisualRefresh } from '../../internal/hooks/use-visual-mode';\nimport { joinStrings } from '../../internal/utils/strings';\nimport { MultiselectProps } from '../../multiselect/interfaces';\nimport InternalToken from '../../token/internal';\nimport { SelectProps } from '../interfaces';\nimport { SelectTriggerProps } from '../utils/use-select';\n\nimport styles from './styles.css.js';\n\nexport interface TriggerProps extends FormFieldValidationControlProps {\n  placeholder: string | undefined;\n  disabled: boolean | undefined;\n  readOnly?: boolean;\n  triggerProps: SelectTriggerProps;\n  selectedOption: OptionDefinition | null;\n  inlineLabelText?: string;\n  isOpen?: boolean;\n  triggerVariant?: SelectProps.TriggerVariant | MultiselectProps.TriggerVariant;\n  inFilteringToken?: 'root' | 'nested';\n  selectedOptions?: ReadonlyArray<OptionDefinition>;\n  renderOption?: SelectProps.SelectOptionItemRenderer;\n}\n\nconst Trigger = React.forwardRef(\n  (\n    {\n      ariaLabelledby,\n      ariaDescribedby,\n      controlId,\n      invalid,\n      inlineLabelText,\n      warning,\n      triggerProps,\n      selectedOption,\n      selectedOptions,\n      triggerVariant,\n      inFilteringToken,\n      isOpen,\n      placeholder,\n      disabled,\n      readOnly,\n      renderOption,\n    }: TriggerProps,\n    ref: React.Ref<HTMLButtonElement>\n  ) => {\n    const isVisualRefresh = useVisualRefresh();\n    const generatedId = useUniqueId();\n    const id = controlId ?? generatedId;\n    const triggerContentId = useUniqueId('trigger-content-');\n\n    let ariaLabelledbyIds = joinStrings(ariaLabelledby, triggerContentId);\n\n    let triggerContent = null;\n    let hasCustomContent = false;\n    if (triggerVariant === 'tokens') {\n      if (selectedOptions?.length) {\n        triggerContent = (\n          <span\n            className={clsx(\n              styles['inline-token-trigger'],\n              disabled && styles['inline-token-trigger--disabled'],\n              isVisualRefresh && styles['visual-refresh']\n            )}\n          >\n            <span className={styles['inline-token-list']}>\n              {selectedOptions.map(({ label }, i) => (\n                <InternalToken key={i} label={label} variant=\"inline\" disabled={disabled} />\n              ))}\n            </span>\n            <span className={styles['inline-token-counter']} id={triggerContentId}>\n              <span className={styles['inline-token-hidden-placeholder']}>{placeholder}</span>\n              <span>({selectedOptions.length})</span>\n            </span>\n          </span>\n        );\n        ariaLabelledbyIds = ariaLabelledby;\n      } else {\n        triggerContent = (\n          <span aria-disabled=\"true\" className={clsx(styles.placeholder, styles.trigger)} id={triggerContentId}>\n            {placeholder}\n          </span>\n        );\n      }\n    } else if (!selectedOption) {\n      triggerContent = (\n        <span aria-disabled=\"true\" className={clsx(styles.placeholder, styles.trigger)} id={triggerContentId}>\n          {placeholder}\n        </span>\n      );\n    } else if (triggerVariant === 'option') {\n      const triggerCustomContent = renderOption?.({\n        filterText: undefined,\n        item: {\n          type: 'trigger',\n          option: selectedOption,\n        },\n      });\n      if (triggerCustomContent) {\n        hasCustomContent = true;\n        triggerContent = (\n          <Option\n            customContent={triggerCustomContent}\n            id={triggerContentId}\n            option={{ ...selectedOption, disabled }}\n            triggerVariant={true}\n          />\n        );\n      } else {\n        triggerContent = (\n          <Option id={triggerContentId} option={{ ...selectedOption, disabled }} triggerVariant={true} />\n        );\n      }\n    } else {\n      triggerContent = (\n        <span id={triggerContentId} className={styles.trigger}>\n          {selectedOption.label || selectedOption.value}\n        </span>\n      );\n    }\n\n    const mergedRef = useMergeRefs(triggerProps.ref, ref);\n    const triggerButton = (\n      <ButtonTrigger\n        {...triggerProps}\n        id={id}\n        ref={mergedRef}\n        pressed={!!isOpen}\n        disabled={disabled}\n        readOnly={readOnly}\n        invalid={invalid}\n        warning={warning && !invalid}\n        inFilteringToken={inFilteringToken}\n        inlineTokens={triggerVariant === 'tokens'}\n        hasCustomContent={hasCustomContent}\n        ariaDescribedby={ariaDescribedby}\n        ariaLabelledby={ariaLabelledbyIds}\n      >\n        {triggerContent}\n      </ButtonTrigger>\n    );\n    return (\n      <>\n        {inlineLabelText ? (\n          <div className={styles['inline-label-wrapper']}>\n            <label\n              htmlFor={controlId}\n              className={clsx(\n                styles['inline-label'],\n                disabled && styles['inline-label-disabled'],\n                triggerVariant === 'tokens' && styles['inline-label-inline-tokens']\n              )}\n            >\n              {inlineLabelText}\n            </label>\n            <div className={styles['inline-label-trigger-wrapper']}>{triggerButton}</div>\n          </div>\n        ) : (\n          <>{triggerButton}</>\n        )}\n      </>\n    );\n  }\n);\n\nexport default Trigger;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { ButtonHTMLAttributes } from 'react';\nimport clsx from 'clsx';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport InternalIcon from '../../../icon/internal';\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport { BaseKeyDetail, CancelableEventHandler, fireCancelableEvent, fireKeyboardEvent } from '../../events';\nimport {\n  GeneratedAnalyticsMetadataButtonTriggerCollapse,\n  GeneratedAnalyticsMetadataButtonTriggerExpand,\n} from './analytics-metadata/interfaces';\n\nimport analyticsSelectors from './analytics-metadata/styles.css.js';\nimport styles from './styles.css.js';\n\nexport interface ButtonTriggerProps extends BaseComponentProps {\n  children?: React.ReactNode;\n  pressed?: boolean;\n  hideCaret?: boolean;\n  disabled?: boolean;\n  readOnly?: boolean;\n  invalid?: boolean;\n  warning?: boolean;\n  inFilteringToken?: 'root' | 'nested';\n  inlineTokens?: boolean;\n  ariaHasPopup?: 'true' | 'listbox' | 'dialog';\n  ariaControls?: string;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n  ariaDescribedby?: string;\n  onKeyDown?: CancelableEventHandler<BaseKeyDetail>;\n  onKeyUp?: CancelableEventHandler<BaseKeyDetail>;\n  onMouseDown?: CancelableEventHandler;\n  onClick?: CancelableEventHandler;\n  onFocus?: CancelableEventHandler;\n  onBlur?: CancelableEventHandler<{ relatedTarget: Node | null }>;\n  hasCustomContent?: boolean;\n  autoFocus?: boolean;\n}\n\nconst ButtonTrigger = (\n  {\n    children,\n    pressed,\n    hideCaret = false,\n    disabled = false,\n    readOnly = false,\n    invalid = false,\n    warning = false,\n    inlineTokens,\n    inFilteringToken,\n    ariaHasPopup,\n    ariaLabel,\n    ariaLabelledby,\n    ariaDescribedby,\n    ariaControls,\n    onKeyDown,\n    onKeyUp,\n    onMouseDown,\n    onClick,\n    onFocus,\n    onBlur,\n    hasCustomContent = false,\n    autoFocus,\n    ...restProps\n  }: ButtonTriggerProps,\n  ref: React.Ref<HTMLButtonElement>\n) => {\n  const baseProps = getBaseProps(restProps);\n  let attributes: ButtonHTMLAttributes<HTMLButtonElement> = {\n    ...baseProps,\n    type: 'button',\n    className: clsx(\n      styles['button-trigger'],\n      analyticsSelectors['button-trigger'],\n      baseProps.className,\n      pressed && styles.pressed,\n      disabled && styles.disabled,\n      invalid && styles.invalid,\n      warning && !invalid && styles.warning,\n      !hideCaret && styles['has-caret'],\n      readOnly && styles.readonly,\n      inFilteringToken && styles['in-filtering-token'],\n      inFilteringToken && styles[`in-filtering-token-${inFilteringToken}`],\n      inlineTokens && styles['inline-tokens'],\n      !!hasCustomContent && styles['custom-option']\n    ),\n    disabled: disabled,\n    'aria-expanded': pressed,\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledby,\n    'aria-describedby': ariaDescribedby,\n    'aria-haspopup': ariaHasPopup ?? 'listbox',\n    'aria-controls': ariaControls,\n    'aria-disabled': readOnly && !disabled ? 'true' : undefined,\n    autoFocus,\n  };\n\n  if (!readOnly) {\n    attributes = {\n      ...attributes,\n      onKeyDown: onKeyDown && (event => fireKeyboardEvent(onKeyDown, event)),\n      onKeyUp: onKeyUp && (event => fireKeyboardEvent(onKeyUp, event)),\n      onMouseDown: onMouseDown && (event => fireCancelableEvent(onMouseDown, {}, event)),\n      onClick: onClick && (event => fireCancelableEvent(onClick, {}, event)),\n      onFocus: onFocus && (event => fireCancelableEvent(onFocus, {}, event)),\n      onBlur: onBlur && (event => fireCancelableEvent(onBlur, { relatedTarget: event.relatedTarget }, event)),\n    };\n  }\n\n  if (invalid) {\n    attributes['aria-invalid'] = invalid;\n  }\n\n  const analyticsMetadata:\n    | GeneratedAnalyticsMetadataButtonTriggerExpand\n    | GeneratedAnalyticsMetadataButtonTriggerCollapse = {\n    action: !pressed ? 'expand' : 'collapse',\n    detail: {\n      label: { root: 'self' },\n    },\n  };\n\n  return (\n    <button\n      ref={ref}\n      {...attributes}\n      {...(disabled || readOnly ? {} : getAnalyticsMetadataAttribute(analyticsMetadata))}\n    >\n      {children}\n      {!hideCaret && (\n        <span className={styles.arrow}>\n          <InternalIcon name=\"caret-down-filled\" variant={disabled || readOnly ? 'disabled' : 'normal'} />\n        </span>\n      )}\n    </button>\n  );\n};\n\nexport namespace ButtonTriggerProps {\n  export interface Ref {\n    focus(): void;\n  }\n}\n\nexport default React.forwardRef(ButtonTrigger);\n", "\n    import './styles.scoped.css';\n    export default {\n  \"button-trigger\": \"awsui_button-trigger_18eso_el76d_161\",\n  \"arrow\": \"awsui_arrow_18eso_el76d_161\",\n  \"in-filtering-token-root\": \"awsui_in-filtering-token-root_18eso_el76d_221\",\n  \"in-filtering-token-nested\": \"awsui_in-filtering-token-nested_18eso_el76d_221\",\n  \"has-caret\": \"awsui_has-caret_18eso_el76d_257\",\n  \"placeholder\": \"awsui_placeholder_18eso_el76d_260\",\n  \"pressed\": \"awsui_pressed_18eso_el76d_273\",\n  \"disabled\": \"awsui_disabled_18eso_el76d_276\",\n  \"in-filtering-token\": \"awsui_in-filtering-token_18eso_el76d_221\",\n  \"readonly\": \"awsui_readonly_18eso_el76d_297\",\n  \"invalid\": \"awsui_invalid_18eso_el76d_319\",\n  \"warning\": \"awsui_warning_18eso_el76d_328\",\n  \"custom-option\": \"awsui_custom-option_18eso_el76d_337\",\n  \"inline-tokens\": \"awsui_inline-tokens_18eso_el76d_342\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { useResizeObserver, useUniqueId, warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { getBaseProps } from '../internal/base-component';\nimport Option from '../internal/components/option';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport LiveRegion from '../live-region/internal';\nimport Tooltip from '../tooltip/internal.js';\nimport DismissButton from './dismiss-button';\nimport { TokenProps } from './interfaces';\n\nimport legacyTestingStyles from '../token-group/styles.css.js';\nimport analyticsSelectors from './analytics-metadata/styles.css.js';\nimport styles from './styles.css.js';\nimport testUtilStyles from './test-classes/styles.css.js';\n\ntype InternalTokenProps = TokenProps &\n  InternalBaseComponentProps & {\n    role?: string;\n    disableInnerPadding?: boolean;\n  };\n\nfunction InternalToken({\n  // External\n  label,\n  ariaLabel,\n  labelTag,\n  description,\n  variant = 'normal',\n  disabled,\n  readOnly,\n  icon,\n  tags,\n  dismissLabel,\n  onDismiss,\n  tooltipContent,\n\n  // Internal\n  role,\n  disableInnerPadding,\n\n  // Base\n  __internalRootRef,\n  ...restProps\n}: InternalTokenProps) {\n  const baseProps = getBaseProps(restProps);\n  const labelContainerRef = useRef<HTMLSpanElement>(null);\n  const labelRef = useRef<HTMLSpanElement>(null);\n  const [showTooltip, setShowTooltip] = useState(false);\n  const [isEllipsisActive, setIsEllipsisActive] = useState(false);\n  const isInline = variant === 'inline';\n  const ariaLabelledbyId = useUniqueId();\n\n  const isLabelOverflowing = () => {\n    const labelContent = labelRef.current;\n    const labelContainer = labelContainerRef.current;\n\n    if (labelContent && labelContainer) {\n      return labelContent.offsetWidth > labelContainer.offsetWidth;\n    }\n  };\n\n  useResizeObserver(labelContainerRef, () => {\n    if (isInline) {\n      setIsEllipsisActive(isLabelOverflowing() ?? false);\n    }\n  });\n\n  const buildOptionDefinition = () => {\n    const isLabelStringOrNumber = typeof label === 'string' || typeof label === 'number';\n    const labelObject = isLabelStringOrNumber ? { label: String(label) } : { labelContent: label };\n\n    if (isInline) {\n      if (!isLabelStringOrNumber) {\n        warnOnce('Label', `Only plain text (strings or numbers) are supported when variant=\"inline\".`);\n      }\n\n      return {\n        ...labelObject,\n        disabled,\n        __customIcon: icon && <span className={clsx(styles.icon, styles['icon-inline'])}>{icon}</span>,\n      };\n    } else {\n      return {\n        ...labelObject,\n        disabled,\n        labelTag,\n        description,\n        tags,\n        __customIcon: icon && <span className={styles.icon}>{icon}</span>,\n      };\n    }\n  };\n\n  return (\n    <div\n      {...baseProps}\n      ref={__internalRootRef}\n      className={clsx(\n        styles.root,\n        legacyTestingStyles.token,\n        testUtilStyles.root,\n        !isInline ? styles['token-normal'] : styles['token-inline'],\n        analyticsSelectors.token,\n        baseProps.className\n      )}\n      aria-label={ariaLabel}\n      aria-labelledby={!ariaLabel ? ariaLabelledbyId : undefined}\n      aria-disabled={!!disabled}\n      role={role ?? 'group'}\n      onFocus={() => {\n        setShowTooltip(true);\n      }}\n      onBlur={() => {\n        setShowTooltip(false);\n      }}\n      onMouseEnter={() => {\n        setShowTooltip(true);\n      }}\n      onMouseLeave={() => {\n        setShowTooltip(false);\n      }}\n      tabIndex={!!tooltipContent && isInline && isEllipsisActive ? 0 : undefined}\n    >\n      <div\n        className={clsx(\n          !isInline ? styles['token-box'] : styles['token-box-inline'],\n          disabled && styles['token-box-disabled'],\n          readOnly && styles['token-box-readonly'],\n          !isInline && !onDismiss && styles['token-box-without-dismiss'],\n          disableInnerPadding && styles['disable-padding']\n        )}\n      >\n        <Option\n          className={clsx(isInline && styles['token-option-inline'])}\n          triggerVariant={isInline}\n          option={buildOptionDefinition()}\n          disableTitleTooltip={!!tooltipContent}\n          labelContainerRef={labelContainerRef}\n          labelRef={labelRef}\n          labelId={ariaLabelledbyId}\n        />\n        {onDismiss && (\n          <DismissButton\n            disabled={disabled}\n            dismissLabel={dismissLabel}\n            onDismiss={onDismiss}\n            readOnly={readOnly}\n            inline={isInline}\n          />\n        )}\n      </div>\n      {!!tooltipContent && isInline && isEllipsisActive && showTooltip && (\n        <Tooltip\n          data-testid=\"token-tooltip\"\n          getTrack={() => labelContainerRef.current}\n          content={\n            <LiveRegion>\n              <span data-testid=\"tooltip-live-region-content\">{tooltipContent}</span>\n            </LiveRegion>\n          }\n          onEscape={() => {\n            setShowTooltip(false);\n          }}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default InternalToken;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, Ref } from 'react';\nimport clsx from 'clsx';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport InternalIcon from '../icon/internal';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../internal/events';\nimport { GeneratedAnalyticsMetadataTokenDismiss } from './analytics-metadata/interfaces';\n\nimport legacyTestingStyles from '../token-group/styles.css.js';\nimport styles from './styles.css.js';\nimport testUtilStyles from './test-classes/styles.css.js';\n\ninterface DismissButtonProps {\n  disabled?: boolean;\n  readOnly?: boolean;\n  onDismiss?: NonCancelableEventHandler;\n  dismissLabel?: string;\n  inline?: boolean;\n}\n\nexport default forwardRef(DismissButton);\n\nfunction DismissButton(\n  { disabled, dismissLabel, onDismiss, readOnly, inline }: DismissButtonProps,\n  ref: Ref<HTMLButtonElement>\n) {\n  const analyticsMetadata: GeneratedAnalyticsMetadataTokenDismiss = {\n    action: 'dismiss',\n    detail: {\n      label: { root: 'self' },\n    },\n  };\n  return (\n    <button\n      ref={ref}\n      type=\"button\"\n      className={clsx(\n        styles['dismiss-button'],\n        legacyTestingStyles['dismiss-button'],\n        testUtilStyles['dismiss-button'],\n        inline && styles['dismiss-button-inline']\n      )}\n      aria-disabled={disabled || readOnly ? true : undefined}\n      onClick={() => {\n        if (disabled || readOnly || !onDismiss) {\n          return;\n        }\n\n        fireNonCancelableEvent(onDismiss);\n      }}\n      aria-label={dismissLabel}\n      {...(disabled || readOnly ? {} : getAnalyticsMetadataAttribute(analyticsMetadata))}\n    >\n      <InternalIcon name=\"close\" />\n    </button>\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"dismiss-button\": \"awsui_dismiss-button_dm8gx_1wq3k_145\",\n  \"token\": \"awsui_token_dm8gx_1wq3k_146\",\n  \"root\": \"awsui_root_dm8gx_1wq3k_150\",\n  \"has-items\": \"awsui_has-items_dm8gx_1wq3k_181\",\n  \"no-padding\": \"awsui_no-padding_dm8gx_1wq3k_181\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1i2wg_18qq8_161\",\n  \"dismiss-button\": \"awsui_dismiss-button_1i2wg_18qq8_193\",\n  \"dismiss-button-inline\": \"awsui_dismiss-button-inline_1i2wg_18qq8_233\",\n  \"icon\": \"awsui_icon_1i2wg_18qq8_240\",\n  \"icon-inline\": \"awsui_icon-inline_1i2wg_18qq8_246\",\n  \"token-normal\": \"awsui_token-normal_1i2wg_18qq8_251\",\n  \"token-inline\": \"awsui_token-inline_1i2wg_18qq8_258\",\n  \"token-option-inline\": \"awsui_token-option-inline_1i2wg_18qq8_284\",\n  \"token-box\": \"awsui_token-box_1i2wg_18qq8_288\",\n  \"token-box-without-dismiss\": \"awsui_token-box-without-dismiss_1i2wg_18qq8_307\",\n  \"token-box-inline\": \"awsui_token-box-inline_1i2wg_18qq8_311\",\n  \"disable-padding\": \"awsui_disable-padding_1i2wg_18qq8_331\",\n  \"token-box-readonly\": \"awsui_token-box-readonly_1i2wg_18qq8_338\",\n  \"token-box-disabled\": \"awsui_token-box-disabled_1i2wg_18qq8_339\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1epxo_12cv0_5\",\n  \"dismiss-button\": \"awsui_dismiss-button_1epxo_12cv0_6\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"token\": \"awsui_token_v05f6_c8hk2_5\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useCallback, useImperativeHandle, useRef } from 'react';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport { useMergeRefs, useUniqueId } from '@cloudscape-design/component-toolkit/internal';\n\nimport OptionsList from '../../internal/components/options-list';\nimport { useVirtual } from '../../internal/hooks/use-virtual';\nimport { renderOptions } from '../utils/render-options';\nimport customScrollToIndex from '../utils/scroll-to-index';\nimport { fallbackItemHeight } from './common';\nimport { SelectListProps } from './plain-list';\n\nimport styles from './styles.css.js';\n\nconst VirtualList = (props: SelectListProps, ref: React.Ref<SelectListProps.SelectListRef>) => {\n  return props.menuProps.open ? <VirtualListOpen {...props} ref={ref} /> : <VirtualListClosed {...props} ref={ref} />;\n};\n\nconst VirtualListOpen = forwardRef(\n  (\n    {\n      menuProps,\n      getOptionProps,\n      filteredOptions,\n      filteringValue,\n      highlightType,\n      checkboxes,\n      hasDropdownStatus,\n      listBottom,\n      useInteractiveGroups,\n      screenReaderContent,\n      firstOptionSticky,\n      isMultiSelect,\n      renderOption,\n    }: SelectListProps,\n    ref: React.Ref<SelectListProps.SelectListRef>\n  ) => {\n    // update component, when it gets wider or narrower to reposition items\n    const [width, menuMeasureRef] = useContainerQuery(\n      rect => ({ inner: rect.contentBoxWidth, outer: rect.borderBoxWidth }),\n      []\n    );\n    const menuRefObject = useRef(null);\n    const menuRef = useMergeRefs(menuMeasureRef, menuRefObject, menuProps.ref);\n    const previousHighlightedIndex = useRef<number>();\n    const { virtualItems, totalSize, scrollToIndex } = useVirtual({\n      items: filteredOptions,\n      parentRef: menuRefObject,\n      // estimateSize is a dependency of measurements memo. We update it to force full recalculation\n      // when the height of any option could have changed:\n      // 1: because the component got resized (width property got updated)\n      // 2: because the option changed its content (filteringValue property controls the highlight and the visibility of hidden tags)\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      estimateSize: useCallback(() => fallbackItemHeight, [width?.inner, filteringValue]),\n      firstItemSticky: firstOptionSticky,\n    });\n\n    useImperativeHandle(\n      ref,\n      () => (index: number) => {\n        if (highlightType.moveFocus) {\n          const movingUp = previousHighlightedIndex.current !== undefined && index < previousHighlightedIndex.current;\n          if (firstOptionSticky && movingUp && index !== 0 && menuRefObject.current) {\n            // React-Virtual v2 does not offer a proper way to handle sticky elements when scrolling,\n            // so until we upgrade to v3, use our own scroll implementation\n            // to prevent newly highlighted element from being covered by the sticky element\n            // when moving the highlight upwards in the list.\n\n            // Scrolling behavior is covered by integration tests.\n            // istanbul ignore next\n            customScrollToIndex({\n              index,\n              menuEl: menuRefObject?.current,\n            });\n          } else {\n            // Fix for AWSUI-61506. Defer scroll to next frame to ensure\n            // virtual items are measured after re-render. When called from\n            // parent's useEffect, measurements may not be ready yet.\n            requestAnimationFrame(() => scrollToIndex(index));\n          }\n        }\n        previousHighlightedIndex.current = index;\n      },\n      [firstOptionSticky, highlightType.moveFocus, scrollToIndex]\n    );\n\n    const stickySize = firstOptionSticky ? virtualItems[0].size : 0;\n    const withScrollbar = !!width && width.inner < width.outer;\n\n    const idPrefix = useUniqueId('select-list-');\n    const finalOptions = renderOptions({\n      options: virtualItems.map(({ index }) => filteredOptions[index]),\n      renderOption,\n      getOptionProps,\n      filteringValue,\n      highlightType,\n      idPrefix,\n      checkboxes,\n      hasDropdownStatus,\n      virtualItems,\n      useInteractiveGroups,\n      screenReaderContent,\n      firstOptionSticky,\n      withScrollbar,\n    });\n\n    return (\n      <OptionsList {...menuProps} stickyItemBlockSize={stickySize} ref={menuRef} isMultiSelect={isMultiSelect}>\n        {finalOptions}\n        <div aria-hidden=\"true\" key=\"total-size\" className={styles['layout-strut']} style={{ height: totalSize }} />\n        {listBottom ? (\n          <div role=\"option\" className={styles['list-bottom']}>\n            {listBottom}\n          </div>\n        ) : null}\n      </OptionsList>\n    );\n  }\n);\n\nconst VirtualListClosed = forwardRef(\n  ({ menuProps, listBottom, isMultiSelect }: SelectListProps, ref: React.Ref<SelectListProps.SelectListRef>) => {\n    useImperativeHandle(ref, () => () => {}, []);\n    return (\n      <OptionsList {...menuProps} ref={menuProps.ref} isMultiSelect={isMultiSelect}>\n        {listBottom ? (\n          <div role=\"option\" className={styles['list-bottom']}>\n            {listBottom}\n          </div>\n        ) : null}\n      </OptionsList>\n    );\n  }\n);\n\nexport default forwardRef(VirtualList);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useMemo, useRef } from 'react';\n\nimport { useVirtual as useVirtualDefault, VirtualItem } from '../../vendor/react-virtual';\nimport stickyRangeExtractor from './sticky-range-extractor';\n\n// Maximum allowed synchronous (nested) item mounts before forcing a bail-out.\n// Mirrors Reacts internal safeguard for nested updates: React throws\n// \"Maximum update depth exceeded\" once >50 sync updates occur within a single commit.\n// See: https://github.com/facebook/react/commit/d8c90fa48d3addefe4b805ec56a3c65e4ee39127\nconst MAX_ITEM_MOUNTS = 50 - 1;\n\ninterface UseVirtualProps<Item> {\n  items: readonly Item[];\n  parentRef: React.RefObject<HTMLElement>;\n  estimateSize: () => number;\n  firstItemSticky?: boolean;\n}\n\ninterface RowVirtualizer {\n  virtualItems: VirtualItem[];\n  totalSize: number;\n  scrollToIndex: (index: number) => void;\n}\n\n/**\n * The useVirtual from react-virtual@2 might produce an infinite update loop caused by setting\n * measured item sizes in the render cycle (as part of the measureRef assignment):\n *      The sum of all measured item sizes is returned as totalSize which is then set on the list container.\n *      Enforcing new container height might result in an items size change e.g. when the content wraps.\n *\n * The infinite update cycle causes React \"Maximum update depth exceeded\" error and can be additionally confirmed\n * by logging the totalSize which should then bounce between two values.\n *\n * The number of item refs assignments is limited to MAX_ITEM_MOUNTS unless items or indices change.\n * That is based on the assumption the item height stays constant after its first render.\n */\nexport function useVirtual<Item extends object>({\n  items,\n  parentRef,\n  estimateSize,\n  firstItemSticky,\n}: UseVirtualProps<Item>): RowVirtualizer {\n  const rowVirtualizer = useVirtualDefault({\n    size: items.length,\n    parentRef,\n    estimateSize,\n    overscan: 5,\n    rangeExtractor: firstItemSticky ? stickyRangeExtractor : undefined,\n  });\n\n  // Cache virtual item mounts to limit the amount of mounts per item.\n  const measuresCache = useRef(new WeakMap<Item, number>());\n\n  // Clear mounts cache every time indices, items, or size estimate change.\n  const indicesKey = rowVirtualizer.virtualItems.map(item => `${item.index}`).join(':');\n  useEffect(() => {\n    measuresCache.current = new WeakMap();\n  }, [indicesKey, items, estimateSize]);\n\n  const virtualItems = useMemo(\n    () =>\n      rowVirtualizer.virtualItems.map(virtualItem => ({\n        ...virtualItem,\n        start: virtualItem.start,\n        measureRef: (node: null | HTMLElement) => {\n          const mountedCount = measuresCache.current.get(items[virtualItem.index]) ?? 0;\n          if (mountedCount < MAX_ITEM_MOUNTS) {\n            virtualItem.measureRef(node);\n            measuresCache.current.set(items[virtualItem.index], mountedCount + 1);\n          }\n        },\n      })),\n    [items, rowVirtualizer.virtualItems]\n  );\n\n  // If first item is sticky, substract that item's size from the total size\n  const firstItemSize = virtualItems[0]?.size ?? 0;\n  const adjustedTotalSize = firstItemSticky ? rowVirtualizer.totalSize - firstItemSize : rowVirtualizer.totalSize;\n\n  return {\n    virtualItems,\n    totalSize: adjustedTotalSize,\n    scrollToIndex: rowVirtualizer.scrollToIndex,\n  };\n}\n", "/**\n * Name: react-virtual\n * Version: 2.10.4\n * License: MIT\n * Private: false\n * Description: Hooks for virtualizing scrollable elements in React\n * Repository: undefined\n * Homepage: https://github.com/tannerlinsley/react-virtual#readme\n * Author: tannerlinsley\n * License Copyright:\n * ===\n *\n * MIT License\n *\n * Copyright (c) 2019 Tanner Linsley\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar props = ['bottom', 'height', 'left', 'right', 'top', 'width'];\n\nvar rectChanged = function rectChanged(a, b) {\n  if (a === void 0) {\n    a = {};\n  }\n\n  if (b === void 0) {\n    b = {};\n  }\n\n  return props.some(function (prop) {\n    return a[prop] !== b[prop];\n  });\n};\n\nvar observedNodes = /*#__PURE__*/new Map();\nvar rafId;\n\nvar run = function run() {\n  var changedStates = [];\n  observedNodes.forEach(function (state, node) {\n    var newRect = node.getBoundingClientRect();\n\n    if (rectChanged(newRect, state.rect)) {\n      state.rect = newRect;\n      changedStates.push(state);\n    }\n  });\n  changedStates.forEach(function (state) {\n    state.callbacks.forEach(function (cb) {\n      return cb(state.rect);\n    });\n  });\n  rafId = window.requestAnimationFrame(run);\n};\n\nfunction observeRect(node, cb) {\n  return {\n    observe: function observe() {\n      var wasEmpty = observedNodes.size === 0;\n\n      if (observedNodes.has(node)) {\n        observedNodes.get(node).callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb]\n        });\n      }\n\n      if (wasEmpty) run();\n    },\n    unobserve: function unobserve() {\n      var state = observedNodes.get(node);\n\n      if (state) {\n        // Remove the callback\n        var index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1); // Remove the node reference\n\n        if (!state.callbacks.length) observedNodes[\"delete\"](node); // Stop the loop\n\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\nfunction useRect(nodeRef, initialRect) {\n  if (initialRect === void 0) {\n    initialRect = {\n      width: 0,\n      height: 0\n    };\n  }\n\n  var _React$useState = React.useState(nodeRef.current),\n      element = _React$useState[0],\n      setElement = _React$useState[1];\n\n  var _React$useReducer = React.useReducer(rectReducer, initialRect),\n      rect = _React$useReducer[0],\n      dispatch = _React$useReducer[1];\n\n  var initialRectSet = React.useRef(false);\n  useIsomorphicLayoutEffect(function () {\n    if (nodeRef.current !== element) {\n      setElement(nodeRef.current);\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    if (element && !initialRectSet.current) {\n      initialRectSet.current = true;\n\n      var _rect = element.getBoundingClientRect();\n\n      dispatch({\n        rect: _rect\n      });\n    }\n  }, [element]);\n  React.useEffect(function () {\n    if (!element) {\n      return;\n    }\n\n    var observer = observeRect(element, function (rect) {\n      dispatch({\n        rect: rect\n      });\n    });\n    observer.observe();\n    return function () {\n      observer.unobserve();\n    };\n  }, [element]);\n  return rect;\n}\n\nfunction rectReducer(state, action) {\n  var rect = action.rect;\n\n  if (state.height !== rect.height || state.width !== rect.width) {\n    return rect;\n  }\n\n  return state;\n}\n\nvar defaultEstimateSize = function defaultEstimateSize() {\n  return 50;\n};\n\nvar defaultKeyExtractor = function defaultKeyExtractor(index) {\n  return index;\n};\n\nvar defaultMeasureSize = function defaultMeasureSize(el, horizontal) {\n  var key = horizontal ? 'offsetWidth' : 'offsetHeight';\n  return el[key];\n};\n\nvar defaultRangeExtractor = function defaultRangeExtractor(range) {\n  var start = Math.max(range.start - range.overscan, 0);\n  var end = Math.min(range.end + range.overscan, range.size - 1);\n  var arr = [];\n\n  for (var i = start; i <= end; i++) {\n    arr.push(i);\n  }\n\n  return arr;\n};\nfunction useVirtual(_ref) {\n  var _measurements;\n\n  var _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 0 : _ref$size,\n      _ref$estimateSize = _ref.estimateSize,\n      estimateSize = _ref$estimateSize === void 0 ? defaultEstimateSize : _ref$estimateSize,\n      _ref$overscan = _ref.overscan,\n      overscan = _ref$overscan === void 0 ? 1 : _ref$overscan,\n      _ref$paddingStart = _ref.paddingStart,\n      paddingStart = _ref$paddingStart === void 0 ? 0 : _ref$paddingStart,\n      _ref$paddingEnd = _ref.paddingEnd,\n      paddingEnd = _ref$paddingEnd === void 0 ? 0 : _ref$paddingEnd,\n      parentRef = _ref.parentRef,\n      horizontal = _ref.horizontal,\n      scrollToFn = _ref.scrollToFn,\n      useObserver = _ref.useObserver,\n      initialRect = _ref.initialRect,\n      onScrollElement = _ref.onScrollElement,\n      scrollOffsetFn = _ref.scrollOffsetFn,\n      _ref$keyExtractor = _ref.keyExtractor,\n      keyExtractor = _ref$keyExtractor === void 0 ? defaultKeyExtractor : _ref$keyExtractor,\n      _ref$measureSize = _ref.measureSize,\n      measureSize = _ref$measureSize === void 0 ? defaultMeasureSize : _ref$measureSize,\n      _ref$rangeExtractor = _ref.rangeExtractor,\n      rangeExtractor = _ref$rangeExtractor === void 0 ? defaultRangeExtractor : _ref$rangeExtractor;\n  var sizeKey = horizontal ? 'width' : 'height';\n  var scrollKey = horizontal ? 'scrollLeft' : 'scrollTop';\n  var latestRef = React.useRef({\n    scrollOffset: 0,\n    measurements: []\n  });\n\n  var _React$useState = React.useState(0),\n      scrollOffset = _React$useState[0],\n      setScrollOffset = _React$useState[1];\n\n  latestRef.current.scrollOffset = scrollOffset;\n  var useMeasureParent = useObserver || useRect;\n\n  var _useMeasureParent = useMeasureParent(parentRef, initialRect),\n      outerSize = _useMeasureParent[sizeKey];\n\n  latestRef.current.outerSize = outerSize;\n  var defaultScrollToFn = React.useCallback(function (offset) {\n    if (parentRef.current) {\n      parentRef.current[scrollKey] = offset;\n    }\n  }, [parentRef, scrollKey]);\n  var resolvedScrollToFn = scrollToFn || defaultScrollToFn;\n  scrollToFn = React.useCallback(function (offset) {\n    resolvedScrollToFn(offset, defaultScrollToFn);\n  }, [defaultScrollToFn, resolvedScrollToFn]);\n\n  var _React$useState2 = React.useState({}),\n      measuredCache = _React$useState2[0],\n      setMeasuredCache = _React$useState2[1];\n\n  var measure = React.useCallback(function () {\n    return setMeasuredCache({});\n  }, []);\n  var pendingMeasuredCacheIndexesRef = React.useRef([]);\n  var measurements = React.useMemo(function () {\n    var min = pendingMeasuredCacheIndexesRef.current.length > 0 ? Math.min.apply(Math, pendingMeasuredCacheIndexesRef.current) : 0;\n    pendingMeasuredCacheIndexesRef.current = [];\n    var measurements = latestRef.current.measurements.slice(0, min);\n\n    for (var i = min; i < size; i++) {\n      var key = keyExtractor(i);\n      var measuredSize = measuredCache[key];\n\n      var _start = measurements[i - 1] ? measurements[i - 1].end : paddingStart;\n\n      var _size = typeof measuredSize === 'number' ? measuredSize : estimateSize(i);\n\n      var _end = _start + _size;\n\n      measurements[i] = {\n        index: i,\n        start: _start,\n        size: _size,\n        end: _end,\n        key: key\n      };\n    }\n\n    return measurements;\n  }, [estimateSize, measuredCache, paddingStart, size, keyExtractor]);\n  var totalSize = (((_measurements = measurements[size - 1]) == null ? void 0 : _measurements.end) || paddingStart) + paddingEnd;\n  latestRef.current.measurements = measurements;\n  latestRef.current.totalSize = totalSize;\n  var element = onScrollElement ? onScrollElement.current : parentRef.current;\n  var scrollOffsetFnRef = React.useRef(scrollOffsetFn);\n  scrollOffsetFnRef.current = scrollOffsetFn;\n  useIsomorphicLayoutEffect(function () {\n    if (!element) {\n      setScrollOffset(0);\n      return;\n    }\n\n    var onScroll = function onScroll(event) {\n      var offset = scrollOffsetFnRef.current ? scrollOffsetFnRef.current(event) : element[scrollKey];\n      setScrollOffset(offset);\n    };\n\n    onScroll();\n    element.addEventListener('scroll', onScroll, {\n      capture: false,\n      passive: true\n    });\n    return function () {\n      element.removeEventListener('scroll', onScroll);\n    };\n  }, [element, scrollKey]);\n\n  var _calculateRange = calculateRange(latestRef.current),\n      start = _calculateRange.start,\n      end = _calculateRange.end;\n\n  var indexes = React.useMemo(function () {\n    return rangeExtractor({\n      start: start,\n      end: end,\n      overscan: overscan,\n      size: measurements.length\n    });\n  }, [start, end, overscan, measurements.length, rangeExtractor]);\n  var measureSizeRef = React.useRef(measureSize);\n  measureSizeRef.current = measureSize;\n  var virtualItems = React.useMemo(function () {\n    var virtualItems = [];\n\n    var _loop = function _loop(k, len) {\n      var i = indexes[k];\n      var measurement = measurements[i];\n\n      var item = _extends(_extends({}, measurement), {}, {\n        measureRef: function measureRef(el) {\n          if (el) {\n            var measuredSize = measureSizeRef.current(el, horizontal);\n\n            if (measuredSize !== item.size) {\n              var _scrollOffset = latestRef.current.scrollOffset;\n\n              if (item.start < _scrollOffset) {\n                defaultScrollToFn(_scrollOffset + (measuredSize - item.size));\n              }\n\n              pendingMeasuredCacheIndexesRef.current.push(i);\n              setMeasuredCache(function (old) {\n                var _extends2;\n\n                return _extends(_extends({}, old), {}, (_extends2 = {}, _extends2[item.key] = measuredSize, _extends2));\n              });\n            }\n          }\n        }\n      });\n\n      virtualItems.push(item);\n    };\n\n    for (var k = 0, len = indexes.length; k < len; k++) {\n      _loop(k);\n    }\n\n    return virtualItems;\n  }, [indexes, defaultScrollToFn, horizontal, measurements]);\n  var mountedRef = React.useRef(false);\n  useIsomorphicLayoutEffect(function () {\n    if (mountedRef.current) {\n      setMeasuredCache({});\n    }\n\n    mountedRef.current = true;\n  }, [estimateSize]);\n  var scrollToOffset = React.useCallback(function (toOffset, _temp) {\n    var _ref2 = _temp === void 0 ? {} : _temp,\n        _ref2$align = _ref2.align,\n        align = _ref2$align === void 0 ? 'start' : _ref2$align;\n\n    var _latestRef$current = latestRef.current,\n        scrollOffset = _latestRef$current.scrollOffset,\n        outerSize = _latestRef$current.outerSize;\n\n    if (align === 'auto') {\n      if (toOffset <= scrollOffset) {\n        align = 'start';\n      } else if (toOffset >= scrollOffset + outerSize) {\n        align = 'end';\n      } else {\n        align = 'start';\n      }\n    }\n\n    if (align === 'start') {\n      scrollToFn(toOffset);\n    } else if (align === 'end') {\n      scrollToFn(toOffset - outerSize);\n    } else if (align === 'center') {\n      scrollToFn(toOffset - outerSize / 2);\n    }\n  }, [scrollToFn]);\n  var tryScrollToIndex = React.useCallback(function (index, _temp2) {\n    var _ref3 = _temp2 === void 0 ? {} : _temp2,\n        _ref3$align = _ref3.align,\n        align = _ref3$align === void 0 ? 'auto' : _ref3$align,\n        rest = _objectWithoutPropertiesLoose(_ref3, [\"align\"]);\n\n    var _latestRef$current2 = latestRef.current,\n        measurements = _latestRef$current2.measurements,\n        scrollOffset = _latestRef$current2.scrollOffset,\n        outerSize = _latestRef$current2.outerSize;\n    var measurement = measurements[Math.max(0, Math.min(index, size - 1))];\n\n    if (!measurement) {\n      return;\n    }\n\n    if (align === 'auto') {\n      if (measurement.end >= scrollOffset + outerSize) {\n        align = 'end';\n      } else if (measurement.start <= scrollOffset) {\n        align = 'start';\n      } else {\n        return;\n      }\n    }\n\n    var toOffset = align === 'center' ? measurement.start + measurement.size / 2 : align === 'end' ? measurement.end : measurement.start;\n    scrollToOffset(toOffset, _extends({\n      align: align\n    }, rest));\n  }, [scrollToOffset, size]);\n  var scrollToIndex = React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // We do a double request here because of\n    // dynamic sizes which can cause offset shift\n    // and end up in the wrong spot. Unfortunately,\n    // we can't know about those dynamic sizes until\n    // we try and render them. So double down!\n    tryScrollToIndex.apply(void 0, args);\n    requestAnimationFrame(function () {\n      tryScrollToIndex.apply(void 0, args);\n    });\n  }, [tryScrollToIndex]);\n  return {\n    virtualItems: virtualItems,\n    totalSize: totalSize,\n    scrollToOffset: scrollToOffset,\n    scrollToIndex: scrollToIndex,\n    measure: measure\n  };\n}\n\nvar findNearestBinarySearch = function findNearestBinarySearch(low, high, getCurrentValue, value) {\n  while (low <= high) {\n    var middle = (low + high) / 2 | 0;\n    var currentValue = getCurrentValue(middle);\n\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nfunction calculateRange(_ref4) {\n  var measurements = _ref4.measurements,\n      outerSize = _ref4.outerSize,\n      scrollOffset = _ref4.scrollOffset;\n  var size = measurements.length - 1;\n\n  var getOffset = function getOffset(index) {\n    return measurements[index].start;\n  };\n\n  var start = findNearestBinarySearch(0, size, getOffset, scrollOffset);\n  var end = start;\n\n  while (end < size && measurements[end].end < scrollOffset + outerSize) {\n    end++;\n  }\n\n  return {\n    start: start,\n    end: end\n  };\n}\n\nexport { defaultRangeExtractor, useVirtual };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { defaultRangeExtractor } from '../../vendor/react-virtual';\n\ninterface Range {\n  start: number;\n  overscan: number;\n  end: number;\n  size: number;\n}\n\nexport default function (range: Range) {\n  const defaultRange = defaultRangeExtractor(range);\n  return defaultRange[0] === 0 ? defaultRange : [0, ...defaultRange];\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { isDevelopment } from '../../internal/is-development';\n\nexport function checkOptionValueField<ValueType extends ReadonlyArray<any>>(\n  componentName: string,\n  propertyName: string,\n  propertyValue: ValueType | undefined\n) {\n  if (isDevelopment) {\n    if (!propertyValue) {\n      return;\n    }\n\n    const valuePropertyMissing = !propertyValue.every(element => {\n      return 'options' in element || 'value' in element;\n    });\n\n    if (valuePropertyMissing) {\n      warnOnce(\n        componentName,\n        `You provided an \\`${propertyName}\\` prop where at least one non-group array element is missing the \\`value\\` field. This field is required for all options without sub-items.`\n      );\n    }\n  }\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useRef } from 'react';\n\nimport { OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport defaultOptionDescription from '../../internal/components/option/option-announcer';\nimport { SelectProps } from '../interfaces';\n\ninterface OptionHolder {\n  option?: OptionDefinition | OptionGroup;\n}\n\n/**\n * The hook produces the live region string to be announced when an option is highlighted.\n * This is a workaround to account for the issues with assistive technologies.\n *\n * If the testing reveals no issues with the native announcements the live-region can be removed.\n */\nexport function useAnnouncement<Option extends OptionHolder>({\n  highlightText,\n  announceSelected,\n  highlightedOption,\n  getParent,\n  selectedAriaLabel,\n  renderHighlightedAriaLive,\n}: {\n  highlightText?: string;\n  announceSelected: boolean;\n  highlightedOption?: Option;\n  getParent: (option: Option) => undefined | OptionGroup;\n  selectedAriaLabel?: string;\n  renderHighlightedAriaLive?: SelectProps.ContainingOptionAndGroupString;\n}) {\n  const prevAnnouncedGroup = useRef<OptionGroup | undefined>(undefined);\n\n  // Record previously announced group with a delay to account for possible re-renders of the hook.\n  useEffect(() => {\n    if (highlightedOption) {\n      const frameId = requestAnimationFrame(() => {\n        prevAnnouncedGroup.current = getParent(highlightedOption);\n      });\n      return () => cancelAnimationFrame(frameId);\n    }\n  });\n\n  if (!highlightedOption) {\n    return '';\n  }\n\n  const option = highlightedOption.option as OptionDefinition;\n  const parent = getParent(highlightedOption);\n  // Only announce parent group if it wasn't announced with previous option.\n  const group = parent && parent !== prevAnnouncedGroup.current ? parent : undefined;\n\n  // Use custom renderer if provided.\n  if (renderHighlightedAriaLive) {\n    return renderHighlightedAriaLive(option, group);\n  }\n\n  // Use default renderer with selected ARIA label if defined and relevant.\n  // Note: We intentionally keep selectedAriaLabel in the live region announcement even though\n  // we now use proper ARIA attributes (aria-selected, aria-checked, aria-multiselectable).\n  // This is because NVDA and older versions of JAWS (e.g., 2022, still commonly used) have bugs\n  // where they don't properly announce the selected state from ARIA attributes alone.\n  // For newer screen readers (modern JAWS, VoiceOver), this results in redundant \"Selected\"\n  // announcements, but this is preferable to the alternative where users hear \"Selected\"\n  // followed by \"Not Selected\" due to missing ARIA attribute support.\n  // See AWSUI-61639 for details.\n  const selectedAnnouncement = announceSelected && selectedAriaLabel ? selectedAriaLabel : '';\n  const defaultDescription = defaultOptionDescription({ option, parentGroup: group, highlightText });\n  return [selectedAnnouncement, defaultDescription].filter(Boolean).join(' ');\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { OptionDefinition, OptionGroup } from './interfaces';\nimport { matchesString } from './utils/filter-options';\n\ninterface DefaultOptionDescriptionProps {\n  option: OptionDefinition;\n  parentGroup?: OptionGroup;\n  highlightText?: string;\n}\n\nfunction getMatchingFilteringTags(filteringTags?: readonly string[], highlightText?: string): string[] {\n  if (!highlightText || !filteringTags) {\n    return [];\n  }\n\n  return filteringTags.filter(filteringTag => matchesString(filteringTag, highlightText, false));\n}\n\nfunction defaultOptionDescription({ option, parentGroup, highlightText }: DefaultOptionDescriptionProps) {\n  return [\n    parentGroup && parentGroup.label,\n    option.__labelPrefix,\n    option.label || option.value,\n    option.description,\n    option.labelTag,\n  ]\n    .concat(option.tags)\n    .concat(getMatchingFilteringTags(option.filteringTags, highlightText))\n    .filter(el => !!el)\n    .join(' ');\n}\n\nexport default defaultOptionDescription;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef } from 'react';\n\nimport { DropdownStatusProps } from '../../internal/components/dropdown-status';\nimport { OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport { fireNonCancelableEvent } from '../../internal/events';\nimport { SelectProps } from '../interfaces';\n\ninterface UseLoadItemsProps {\n  onLoadItems: SelectProps['onLoadItems'];\n  options: ReadonlyArray<OptionDefinition | OptionGroup>;\n  statusType: DropdownStatusProps.StatusType;\n}\n\nexport const useLoadItems = ({ onLoadItems, options, statusType }: UseLoadItemsProps) => {\n  const prevFilteringText = useRef<string | undefined>(undefined);\n\n  const fireLoadItems = (filteringText: string) => {\n    if (prevFilteringText.current === filteringText) {\n      return;\n    }\n    prevFilteringText.current = filteringText;\n    fireNonCancelableEvent(onLoadItems, { filteringText, firstPage: true, samePage: false });\n  };\n\n  const handleLoadMore = () => {\n    const firstPage = options.length === 0;\n    if (statusType === 'pending') {\n      fireNonCancelableEvent(onLoadItems, {\n        firstPage,\n        samePage: false,\n        filteringText: prevFilteringText.current || '',\n      });\n    }\n  };\n\n  const handleRecoveryClick = () =>\n    fireNonCancelableEvent(onLoadItems, {\n      firstPage: false,\n      samePage: true,\n      filteringText: prevFilteringText.current || '',\n    });\n\n  return {\n    fireLoadItems,\n    handleLoadMore,\n    handleRecoveryClick,\n  };\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\n\nimport type { DropdownOption, OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport {\n  filterOptions,\n  isGroup,\n  isGroupInteractive,\n  isInteractive,\n} from '../../internal/components/option/utils/filter-options';\nimport { useDebounceCallback } from '../../internal/hooks/use-debounce-callback';\n\nconst isRepeatedChar = (str: string) => str.split('').every(c => c === str[0]);\n\ninterface UseNativeSearchProps {\n  isEnabled: boolean;\n  options: ReadonlyArray<DropdownOption>;\n  highlightOption: (option: DropdownOption) => void;\n  highlightedOption: OptionDefinition | undefined | null;\n  useInteractiveGroups?: boolean;\n}\n\nfunction findMatchingOption(\n  options: ReadonlyArray<DropdownOption>,\n  searchText: string,\n  currentHighlight: OptionDefinition | OptionGroup | undefined | null,\n  useInteractiveGroups?: boolean\n) {\n  const interactivityCheck = useInteractiveGroups ? isGroupInteractive : isInteractive;\n  const filter = (searchText: string) =>\n    filterOptions(options, searchText, true).filter(option => interactivityCheck(option));\n  const matchingOptions = filter(searchText);\n\n  if (matchingOptions.length === 1) {\n    return matchingOptions[0];\n  }\n\n  // Hit the same char over and over, we assume they want to cycle through\n  if (currentHighlight && searchText.length > 1 && isRepeatedChar(searchText)) {\n    const matchingOptions = filter(searchText[0]);\n\n    if (matchingOptions.length > 0) {\n      //handling OptionGroups when useInteractiveGroups is set\n      let active: number = isGroup(currentHighlight)\n        ? matchingOptions.map(({ option }) => option).indexOf(currentHighlight)\n        : matchingOptions\n            .map(({ option }) => (option as OptionDefinition).value)\n            .indexOf((currentHighlight as OptionDefinition).value);\n\n      // Pick the next thing (if something with this prefix wasn't selected\n      // we'll end up with the first option)\n      active += 1;\n      active = active % matchingOptions.length;\n      return matchingOptions[active];\n    }\n  }\n\n  // We have multiple things that start with this prefix.  Based on the\n  // behavior of native select, this is considered after the repeated case\n  if (matchingOptions.length > 0) {\n    return matchingOptions[0];\n  }\n  return null;\n}\n\nexport function useNativeSearch({\n  isEnabled,\n  options,\n  highlightOption,\n  highlightedOption,\n  useInteractiveGroups,\n}: UseNativeSearchProps) {\n  const value = useRef('');\n\n  const delayedResetValue = useDebounceCallback(() => (value.current = ''), 500);\n\n  return (event: React.KeyboardEvent) => {\n    if (!isEnabled) {\n      return;\n    }\n\n    const { key } = event;\n\n    if (!key || key.length !== 1) {\n      return;\n    }\n\n    delayedResetValue();\n    const newValue = value.current + key;\n    value.current = newValue;\n\n    const nextHighlight = findMatchingOption(options, newValue, highlightedOption, useInteractiveGroups);\n    if (nextHighlight) {\n      highlightOption(nextHighlight);\n    }\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { RefObject, useCallback } from 'react';\nimport { useEffect, useRef } from 'react';\n\nimport { useUniqueId } from '@cloudscape-design/component-toolkit/internal';\n\nimport { ButtonTriggerProps } from '../../internal/components/button-trigger';\nimport { DropdownProps } from '../../internal/components/dropdown/interfaces';\nimport { DropdownStatusProps } from '../../internal/components/dropdown-status';\nimport { DropdownOption, OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport { isGroup, isGroupInteractive, isInteractive } from '../../internal/components/option/utils/filter-options';\nimport { OptionsListProps } from '../../internal/components/options-list';\nimport { useHighlightedOption } from '../../internal/components/options-list/utils/use-highlight-option';\nimport { getOptionId } from '../../internal/components/options-list/utils/use-ids';\nimport { useMenuKeyboard, useTriggerKeyboard } from '../../internal/components/options-list/utils/use-keyboard';\nimport { useOpenState } from '../../internal/components/options-list/utils/use-open-state';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../internal/events';\nimport useForwardFocus from '../../internal/hooks/forward-focus';\nimport { usePrevious } from '../../internal/hooks/use-previous';\nimport { FilterProps } from '../parts/filter';\nimport { ItemProps } from '../parts/item';\nimport { connectOptionsByValue } from './connect-options';\n\nexport type MenuProps = Omit<OptionsListProps, 'children'> & { ref: React.RefObject<HTMLDivElement> };\nexport type GetOptionProps = (option: DropdownOption, index: number) => ItemProps;\n\ninterface UseSelectProps {\n  selectedOptions: ReadonlyArray<OptionDefinition>;\n  updateSelectedOption: (option: OptionDefinition) => void;\n  options: ReadonlyArray<DropdownOption>;\n  filteringType: string;\n  keepOpen?: boolean;\n  embedded?: boolean;\n  onBlur?: NonCancelableEventHandler;\n  onFocus?: NonCancelableEventHandler;\n  externalRef: React.Ref<any>;\n  fireLoadItems: (filteringText: string) => void;\n  setFilteringValue?: (filteringText: string) => void;\n  useInteractiveGroups?: boolean;\n  statusType: DropdownStatusProps.StatusType;\n  isAllSelected?: boolean;\n  isSomeSelected?: boolean;\n  toggleAll?: () => void;\n}\n\nexport interface SelectTriggerProps extends ButtonTriggerProps {\n  ref: RefObject<HTMLButtonElement>;\n}\n\nexport function useSelect({\n  selectedOptions,\n  updateSelectedOption,\n  options,\n  filteringType,\n  onBlur,\n  onFocus,\n  externalRef,\n  keepOpen,\n  embedded,\n  fireLoadItems,\n  setFilteringValue,\n  useInteractiveGroups = false,\n  statusType,\n  isAllSelected,\n  isSomeSelected,\n  toggleAll,\n}: UseSelectProps) {\n  const interactivityCheck = useInteractiveGroups ? isGroupInteractive : isInteractive;\n\n  const isHighlightable = (option?: DropdownOption) => !!option && (useInteractiveGroups || option.type !== 'parent');\n\n  const filterRef = useRef<HTMLInputElement>(null);\n  const triggerRef = useRef<HTMLButtonElement>(null);\n  const menuRef = useRef<HTMLDivElement>(null);\n  const hasFilter = filteringType !== 'none' && !embedded;\n  const activeRef = hasFilter ? filterRef : menuRef;\n  const __selectedOptions = connectOptionsByValue(options, selectedOptions);\n  const __selectedValuesSet = selectedOptions.reduce((selectedValuesSet: Set<string>, item: OptionDefinition) => {\n    if (item.value) {\n      selectedValuesSet.add(item.value);\n    }\n    return selectedValuesSet;\n  }, new Set<string>());\n  const [\n    { highlightType, highlightedOption, highlightedIndex },\n    {\n      moveHighlightWithKeyboard,\n      resetHighlightWithKeyboard,\n      setHighlightedIndexWithMouse,\n      highlightOptionWithKeyboard,\n      highlightFirstOptionWithMouse,\n      goHomeWithKeyboard,\n      goEndWithKeyboard,\n    },\n  ] = useHighlightedOption({ options: options, isHighlightable });\n\n  const { isOpen, openDropdown, closeDropdown, toggleDropdown, openedWithKeyboard } = useOpenState({\n    defaultOpen: embedded,\n    onOpen: () => fireLoadItems(''),\n    onClose: () => {\n      resetHighlightWithKeyboard();\n      setFilteringValue?.('');\n    },\n  });\n\n  const handleFocus = () => {\n    fireNonCancelableEvent(onFocus, {});\n  };\n\n  const handleBlur = () => {\n    fireNonCancelableEvent(onBlur, {});\n    closeDropdown();\n  };\n\n  const hasSelectedOption = __selectedOptions.length > 0;\n  const menuId = useUniqueId('option-list');\n  const dialogId = useUniqueId('dialog');\n  const highlightedOptionId = getOptionId(menuId, highlightedIndex);\n\n  const closeDropdownIfNecessary = () => {\n    if (!keepOpen) {\n      triggerRef.current?.focus();\n      closeDropdown();\n    }\n  };\n\n  const selectOption = (option?: DropdownOption) => {\n    const optionToSelect = option || highlightedOption;\n    if (!optionToSelect || !interactivityCheck(optionToSelect)) {\n      return;\n    }\n    if (optionToSelect.type === 'select-all' && toggleAll) {\n      toggleAll();\n    } else {\n      updateSelectedOption(optionToSelect.option);\n    }\n    closeDropdownIfNecessary();\n  };\n\n  const activeKeyDownHandler = useMenuKeyboard({\n    goUp: () => {\n      if (\n        (!useInteractiveGroups && highlightedOption?.type === 'child' && highlightedIndex === 1) ||\n        highlightedIndex === 0\n      ) {\n        goEndWithKeyboard();\n        return;\n      }\n      moveHighlightWithKeyboard(-1);\n    },\n    goDown: () => {\n      if (highlightedIndex === options.length - 1) {\n        goHomeWithKeyboard();\n        return;\n      }\n\n      moveHighlightWithKeyboard(1);\n    },\n    selectOption,\n    goHome: goHomeWithKeyboard,\n    goEnd: goEndWithKeyboard,\n    closeDropdown: () => {\n      if (!embedded) {\n        triggerRef.current?.focus();\n        closeDropdown();\n      }\n    },\n    preventNativeSpace: !hasFilter || (highlightedOption && highlightType.type === 'keyboard'),\n  });\n\n  const triggerKeyDownHandler = useTriggerKeyboard({\n    openDropdown: () => openDropdown(true),\n    goHome: goHomeWithKeyboard,\n  });\n\n  const getDropdownProps: () => Pick<DropdownProps, 'onFocus' | 'onBlur' | 'dropdownContentId' | 'ariaRole'> = () => ({\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    dropdownContentId: dialogId,\n    ariaRole: hasFilter ? 'dialog' : undefined,\n  });\n\n  const getTriggerProps = (disabled = false, autoFocus = false) => {\n    const triggerProps: SelectTriggerProps = {\n      ref: triggerRef,\n      onFocus: () => closeDropdown(),\n      autoFocus,\n      ariaHasPopup: hasFilter ? 'dialog' : 'listbox',\n      ariaControls: isOpen ? (hasFilter ? dialogId : menuId) : undefined,\n    };\n    if (!disabled) {\n      triggerProps.onMouseDown = (event: CustomEvent) => {\n        event.preventDefault(); // prevent current focus from blurring as it immediately closes the dropdown\n        if (isOpen) {\n          triggerRef.current?.focus();\n        }\n        toggleDropdown();\n      };\n      triggerProps.onKeyDown = triggerKeyDownHandler;\n    }\n    return triggerProps;\n  };\n\n  const getFilterProps = (): Partial<FilterProps> => {\n    if (!hasFilter || !setFilteringValue) {\n      return {};\n    }\n\n    return {\n      ref: filterRef,\n      onKeyDown: activeKeyDownHandler,\n      onChange: event => {\n        setFilteringValue(event.detail.value);\n        resetHighlightWithKeyboard();\n      },\n      __onDelayedInput: event => {\n        fireLoadItems(event.detail.value);\n      },\n      nativeInputAttributes: {\n        'aria-activedescendant': highlightedOptionId,\n        ['aria-owns']: menuId,\n        ['aria-controls']: menuId,\n      },\n    };\n  };\n\n  const getMenuProps = () => {\n    const menuProps: MenuProps = {\n      id: menuId,\n      ref: menuRef,\n      open: isOpen,\n      onMouseUp: itemIndex => {\n        if (itemIndex > -1) {\n          selectOption(options[itemIndex]);\n        }\n      },\n      onMouseMove: itemIndex => {\n        if (itemIndex > -1) {\n          setHighlightedIndexWithMouse(itemIndex);\n        }\n      },\n      statusType,\n    };\n    if (!hasFilter) {\n      menuProps.onKeyDown = activeKeyDownHandler;\n      menuProps.nativeAttributes = {\n        'aria-activedescendant': highlightedOptionId,\n      };\n    }\n    if (embedded) {\n      menuProps.onFocus = () => {\n        if (!highlightedOption) {\n          goHomeWithKeyboard();\n        }\n      };\n      menuProps.onBlur = () => {\n        resetHighlightWithKeyboard();\n      };\n    }\n    return menuProps;\n  };\n  const getGroupState = (option: OptionGroup) => {\n    const totalSelected = option.options.filter(item => !!item.value && __selectedValuesSet.has(item.value)).length;\n    const hasSelected = totalSelected > 0;\n    const allSelected = totalSelected === option.options.length;\n    return {\n      selected: hasSelected && allSelected && useInteractiveGroups,\n      indeterminate: hasSelected && !allSelected,\n    };\n  };\n\n  const getOptionProps = (option: DropdownOption, index: number) => {\n    const isSelectAll = option.type === 'select-all';\n    const highlighted = option === highlightedOption;\n    const groupState = isGroup(option.option) ? getGroupState(option.option) : undefined;\n    const selected = isSelectAll ? isAllSelected : __selectedOptions.indexOf(option) > -1 || !!groupState?.selected;\n    const nextOption = options[index + 1]?.option;\n    const isNextSelected =\n      !!nextOption && isGroup(nextOption)\n        ? getGroupState(nextOption).selected\n        : __selectedOptions.indexOf(options[index + 1]) > -1;\n    const previousOption = options[index - 1]?.option;\n    const isPreviousSelected =\n      !!previousOption && isGroup(previousOption)\n        ? getGroupState(previousOption).selected\n        : __selectedOptions.indexOf(options[index - 1]) > -1;\n    const optionProps: any = {\n      key: index,\n      option,\n      highlighted,\n      selected,\n      isNextSelected,\n      isPreviousSelected,\n      indeterminate: !!groupState?.indeterminate || (isSelectAll && !isAllSelected && isSomeSelected),\n      ['data-mouse-target']: isHighlightable(option) ? index : -1,\n      id: getOptionId(menuId, index),\n    };\n\n    return optionProps;\n  };\n\n  const prevOpen = usePrevious<boolean>(isOpen);\n  useEffect(() => {\n    // highlight the first selected option, when opening the Select component without filter input\n    // keep the focus in the filter input when opening, so that screenreader can recognize the combobox\n    if (isOpen && !prevOpen && options.length > 0 && !hasFilter) {\n      if (openedWithKeyboard) {\n        if (__selectedOptions[0]) {\n          highlightOptionWithKeyboard(__selectedOptions[0]);\n        } else {\n          goHomeWithKeyboard();\n        }\n      } else {\n        if (!__selectedOptions[0] || !options.includes(__selectedOptions[0])) {\n          highlightFirstOptionWithMouse();\n        } else {\n          const highlightedIndex = options.indexOf(__selectedOptions[0]);\n          setHighlightedIndexWithMouse(highlightedIndex, true);\n        }\n      }\n    }\n  }, [\n    isOpen,\n    __selectedOptions,\n    hasSelectedOption,\n    setHighlightedIndexWithMouse,\n    highlightOptionWithKeyboard,\n    highlightFirstOptionWithMouse,\n    goHomeWithKeyboard,\n    openedWithKeyboard,\n    options,\n    prevOpen,\n    hasFilter,\n  ]);\n\n  const focusActiveRef = useCallback(() => {\n    // dropdown-fit calculations ensure that the dropdown will fit inside the current\n    // viewport, so prevent the browser from trying to scroll it into view (e.g. if\n    // scroll-padding-top is set on a parent)\n    activeRef.current?.focus({ preventScroll: true });\n  }, [activeRef]);\n\n  useEffect(() => {\n    if (isOpen && !embedded) {\n      focusActiveRef();\n    }\n  }, [isOpen, activeRef, embedded, focusActiveRef]);\n\n  useForwardFocus(externalRef, triggerRef as React.RefObject<HTMLElement>);\n  const highlightedGroupSelected =\n    !!highlightedOption && isGroup(highlightedOption.option) && getGroupState(highlightedOption.option).selected;\n  const announceSelected =\n    !!highlightedOption && (__selectedOptions.indexOf(highlightedOption) > -1 || highlightedGroupSelected);\n\n  return {\n    isOpen,\n    highlightedOption,\n    highlightedIndex,\n    highlightType,\n    getTriggerProps,\n    getDropdownProps,\n    getMenuProps,\n    getFilterProps,\n    getOptionProps,\n    highlightOption: highlightOptionWithKeyboard,\n    selectOption,\n    announceSelected,\n    dialogId,\n    focusActiveRef,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useState } from 'react';\n\nexport class HighlightType {\n  constructor(\n    public type: 'keyboard' | 'mouse',\n    public moveFocus: boolean = type === 'keyboard'\n  ) {}\n}\n\ninterface HighlightedOptionProps<OptionType> {\n  options: readonly OptionType[];\n  isHighlightable: (option: OptionType) => boolean;\n}\n\nexport interface HighlightedOptionState<OptionType> {\n  highlightType: HighlightType;\n  highlightedIndex: number;\n  highlightedOption?: OptionType;\n}\n\nexport interface HighlightedOptionHandlers<OptionType> {\n  // Mouse handlers\n  setHighlightedIndexWithMouse(index: number, moveFocus?: boolean): void;\n  highlightFirstOptionWithMouse(): void;\n  // Keyboard handlers\n  moveHighlightWithKeyboard(direction: -1 | 1): void;\n  highlightOptionWithKeyboard(option: OptionType): void;\n  resetHighlightWithKeyboard(): void;\n  goHomeWithKeyboard(): void;\n  goEndWithKeyboard(): void;\n}\n\nexport function useHighlightedOption<OptionType>({\n  options,\n  isHighlightable,\n}: HighlightedOptionProps<OptionType>): [HighlightedOptionState<OptionType>, HighlightedOptionHandlers<OptionType>] {\n  const [highlightedIndex, setHighlightedIndexState] = useState(-1);\n  const [highlightType, setHighlightType] = useState<HighlightType>(new HighlightType('keyboard'));\n  const setHighlightedIndex = useCallback((index: number, newHighlightType: HighlightType) => {\n    setHighlightedIndexState(index);\n    setHighlightType(oldHighlight => (oldHighlight.type !== newHighlightType.type ? newHighlightType : oldHighlight));\n  }, []);\n\n  const highlightedOption =\n    options[highlightedIndex] && isHighlightable(options[highlightedIndex]) ? options[highlightedIndex] : undefined;\n\n  const moveHighlightFrom = (direction: -1 | 1, startIndex = highlightedIndex, highlightType: HighlightType) => {\n    const fromBottomEnd = startIndex === -1 && direction === -1;\n    let newIndex = fromBottomEnd ? options.length : startIndex;\n    do {\n      newIndex += direction;\n    } while (options[newIndex] && !isHighlightable(options[newIndex]));\n\n    if (options[newIndex]) {\n      setHighlightedIndex(newIndex, highlightType);\n    }\n  };\n\n  const moveHighlight = (direction: -1 | 1, highlightType: HighlightType) =>\n    moveHighlightFrom(direction, highlightedIndex, highlightType);\n\n  const highlightOption = useCallback(\n    (option: OptionType, highlightType: HighlightType) => {\n      const index = options.indexOf(option);\n      setHighlightedIndex(index, highlightType);\n    },\n    [options, setHighlightedIndex]\n  );\n\n  return [\n    { highlightType, highlightedIndex, highlightedOption },\n    {\n      setHighlightedIndexWithMouse: (index: number, moveFocus = false) =>\n        setHighlightedIndex(index, new HighlightType('mouse', moveFocus)),\n      highlightFirstOptionWithMouse: () => moveHighlightFrom(1, -1, new HighlightType('mouse', true)),\n      moveHighlightWithKeyboard: (direction: -1 | 1) => moveHighlight(direction, new HighlightType('keyboard')),\n      highlightOptionWithKeyboard: (option: OptionType) => highlightOption(option, new HighlightType('keyboard')),\n      resetHighlightWithKeyboard: () => setHighlightedIndex(-1, new HighlightType('keyboard')),\n      goHomeWithKeyboard: () => moveHighlightFrom(1, -1, new HighlightType('keyboard')),\n      goEndWithKeyboard: () => moveHighlightFrom(-1, options.length, new HighlightType('keyboard')),\n    },\n  ];\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const getOptionId = (menuId: string, index: number) => {\n  if (index < 0) {\n    return undefined;\n  }\n  return `${menuId}-option-${index}`;\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { BaseKeyDetail, CancelableEventHandler } from '../../../events';\nimport { KeyCode } from '../../../keycode';\n\nconst HOME = 36;\nconst END = 35;\n\ninterface UseMenuKeyboard {\n  (inputProps: {\n    goUp: () => void;\n    goDown: () => void;\n    selectOption: () => void;\n    goHome: () => void;\n    goEnd: () => void;\n    closeDropdown: () => void;\n    preventNativeSpace?: boolean;\n  }): CancelableEventHandler<BaseKeyDetail>;\n}\n\nexport const useMenuKeyboard: UseMenuKeyboard = ({\n  goUp,\n  goDown,\n  selectOption,\n  goHome,\n  goEnd,\n  closeDropdown,\n  preventNativeSpace = false,\n}) => {\n  return (event: CustomEvent<BaseKeyDetail>) => {\n    switch (event.detail.keyCode) {\n      case KeyCode.up:\n        event.preventDefault();\n        goUp();\n        break;\n      case KeyCode.down:\n        event.preventDefault();\n        goDown();\n        break;\n      case HOME:\n        goHome();\n        break;\n      case END:\n        goEnd();\n        break;\n      case KeyCode.escape:\n        event.stopPropagation();\n        closeDropdown();\n        break;\n      case KeyCode.enter:\n        event.preventDefault();\n        selectOption();\n        break;\n      case KeyCode.space:\n        if (preventNativeSpace) {\n          event.preventDefault();\n          selectOption();\n        }\n    }\n  };\n};\n\ninterface UseTriggerKeyboard {\n  (inputProps: { openDropdown: () => void; goHome: () => void }): CancelableEventHandler<BaseKeyDetail>;\n}\n\nexport const useTriggerKeyboard: UseTriggerKeyboard = ({ openDropdown, goHome }) => {\n  return (event: CustomEvent<BaseKeyDetail>) => {\n    switch (event.detail.keyCode) {\n      case KeyCode.up:\n      case KeyCode.down:\n        event.preventDefault();\n        goHome();\n        openDropdown();\n        break;\n      case KeyCode.space:\n      case KeyCode.enter:\n        event.preventDefault();\n        openDropdown();\n        break;\n    }\n  };\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption, OptionDefinition } from '../../internal/components/option/interfaces';\n\nexport const connectOptionsByValue = (\n  options: ReadonlyArray<DropdownOption>,\n  selectedOptions: ReadonlyArray<OptionDefinition>\n): ReadonlyArray<DropdownOption> => {\n  return (selectedOptions || []).map(selectedOption => {\n    for (const dropdownOption of options) {\n      if (\n        dropdownOption.type !== 'parent' &&\n        (dropdownOption.option as OptionDefinition).value === selectedOption.value\n      ) {\n        return dropdownOption;\n      }\n    }\n    return { option: selectedOption };\n  });\n};\n\nexport const findOptionIndex = (options: ReadonlyArray<OptionDefinition>, option: OptionDefinition) => {\n  for (let index = 0; index < options.length; index++) {\n    const __option = options[index];\n    if (__option === option || __option.value === option.value) {\n      return index;\n    }\n  }\n  return -1;\n};\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_r2vco_1yzpb_145\"\n};\n  "],
  "mappings": "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",
  "names": ["import_react", "import_react", "styles_css_default", "React", "styles_css_default", "internal_default", "styles_css_default", "React", "styles_css_default", "internal_default", "isGroup", "options", "option", "import_react", "styles_css_default", "React", "internal_default", "styles_css_default", "import_react", "import_react", "import_react", "import_react", "import_react", "import_react", "styles_css_default", "React", "styles_css_default", "styles_css_default", "React", "styles_css_default", "props", "React", "styles_css_default", "import_react", "styles_css_default", "styles_css_default", "styles_css_default", "styles_css_default", "React", "props", "option", "React", "styles_css_default", "import_react", "props", "styles_css_default", "option", "React", "import_react", "React", "styles_css_default", "props", "React", "_a", "React", "styles_css_default", "import_react", "import_react", "styles_css_default", "styles_css_default", "React", "import_react", "import_react", "styles_css_default", "styles_css_default", "styles_css_default", "React", "styles_css_default", "styles_css_default", "React", "styles_css_default", "internal_default", "React", "styles_css_default", "internal_default", "import_react", "import_react", "import_react", "rectChanged", "run", "React", "rect", "defaultEstimateSize", "defaultKeyExtractor", "defaultMeasureSize", "defaultRangeExtractor", "measurements", "onScroll", "virtualItems", "_loop", "k", "len", "scrollOffset", "outerSize", "findNearestBinarySearch", "getOffset", "useVirtual", "_a", "props", "React", "useVirtual", "styles_css_default", "import_react", "import_react", "import_react", "searchText", "matchingOptions", "import_react", "import_react", "highlightType", "highlightedIndex", "styles_css_default", "React", "_a", "styles_css_default", "internal_default"]
}

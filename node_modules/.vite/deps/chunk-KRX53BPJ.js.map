{
  "version": 3,
  "sources": ["../../src/internal/utils/with-native-attributes.tsx"],
  "sourcesContent": ["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { ReactNode } from 'react';\nimport clsx from 'clsx';\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nexport type NativeAttributes<T extends React.HTMLAttributes<HTMLElement>> =\n  | (Omit<T, 'children'> & Record<`data-${string}`, string>)\n  | undefined;\n\nexport type SkipWarnings = boolean | string[];\n\ntype NativeAttributesProps<AT extends React.HTMLAttributes<HTMLElement>> = {\n  tag: string;\n  children?: ReactNode;\n  skipWarnings?: SkipWarnings;\n  nativeAttributes: NativeAttributes<AT>;\n  componentName: string;\n} & NativeAttributes<AT>;\ninterface ForwardRefType {\n  <ET extends HTMLElement, AT extends React.HTMLAttributes<ET>>(\n    props: NativeAttributesProps<AT> & { ref?: React.Ref<ET> }\n  ): JSX.Element;\n}\n\nexport function processAttributes<ET extends HTMLElement, AT extends React.HTMLAttributes<ET>>(\n  rest: Omit<NativeAttributesProps<AT>, 'children' | 'tag' | 'skipWarnings' | 'componentName' | 'nativeAttributes'>,\n  nativeAttributes: NativeAttributes<AT>,\n  componentName: string,\n  skipWarnings?: SkipWarnings\n) {\n  return Object.entries(nativeAttributes || {}).reduce(\n    (acc, [key, value]) => {\n      // concatenate className\n      if (key === 'className') {\n        acc[key] = clsx(rest.className, value);\n\n        // merge style\n      } else if (key === 'style') {\n        acc[key] = { ...rest.style, ...value };\n\n        // chain event handlers\n      } else if (key.match(/^on[A-Z]/) && typeof value === 'function' && key in rest) {\n        acc[key] = (event: Event) => {\n          value(event);\n          if (!event.defaultPrevented) {\n            (rest as any)[key](event);\n          }\n        };\n\n        // override other attributes, warning if it already exists\n      } else {\n        if (key in rest && (!skipWarnings || (skipWarnings !== true && !skipWarnings.includes(key)))) {\n          warnOnce(componentName, `Overriding native attribute [${key}] which has a Cloudscape-provided value`);\n        }\n        acc[key] = value;\n      }\n      return acc;\n    },\n    { ...rest } as any\n  );\n}\n\nexport default React.forwardRef(\n  <ET extends HTMLElement, AT extends React.HTMLAttributes<ET>>(\n    { tag, nativeAttributes, children, skipWarnings, componentName, ...rest }: NativeAttributesProps<AT>,\n    ref: React.Ref<ET>\n  ) => {\n    const Tag = tag;\n\n    const processedAttributes = processAttributes<ET, AT>(rest, nativeAttributes, componentName, skipWarnings);\n\n    return (\n      <Tag {...processedAttributes} ref={ref}>\n        {children}\n      </Tag>\n    );\n  }\n) as ForwardRefType;\n"],
  "mappings": ";;;;;;;;;;;;AAEA,mBAAiC;AAwB3B,SAAU,kBACd,MACA,kBACA,eACA,cAA2B;AAE3B,SAAO,OAAO,QAAQ,oBAAoB,CAAA,CAAE,EAAE,OAC5C,CAAC,KAAK,CAAC,KAAK,KAAK,MAAK;AAEpB,QAAI,QAAQ,aAAa;AACvB,UAAI,GAAG,IAAI,eAAK,KAAK,WAAW,KAAK;IAGvC,WAAW,QAAQ,SAAS;AAC1B,UAAI,GAAG,IAAI,EAAE,GAAG,KAAK,OAAO,GAAG,MAAK;IAGtC,WAAW,IAAI,MAAM,UAAU,KAAK,OAAO,UAAU,cAAc,OAAO,MAAM;AAC9E,UAAI,GAAG,IAAI,CAAC,UAAgB;AAC1B,cAAM,KAAK;AACX,YAAI,CAAC,MAAM,kBAAkB;AAC1B,eAAa,GAAG,EAAE,KAAK;QAC1B;MACF;IAGF,OAAO;AACL,UAAI,OAAO,SAAS,CAAC,gBAAiB,iBAAiB,QAAQ,CAAC,aAAa,SAAS,GAAG,IAAK;AAC5F,iBAAS,eAAe,gCAAgC,GAAG,yCAAyC;MACtG;AACA,UAAI,GAAG,IAAI;IACb;AACA,WAAO;EACT,GACA,EAAE,GAAG,KAAI,CAAS;AAEtB;AAEA,IAAA,iCAAe,aAAAA,QAAM,WACnB,CACE,EAAE,KAAK,kBAAkB,UAAU,cAAc,eAAe,GAAG,KAAI,GACvE,QACE;AACF,QAAM,MAAM;AAEZ,QAAM,sBAAsB,kBAA0B,MAAM,kBAAkB,eAAe,YAAY;AAEzG,SACE,aAAAA,QAAA,cAAC,KAAG,EAAA,GAAK,qBAAqB,IAAQ,GACnC,QAAQ;AAGf,CAAC;",
  "names": ["React"]
}
